import{a as Kr,b as dt,c as ke,d as q,e as en}from"./chunk-VH3KMS44.js";import{a as Qe,b as Ae,c as ao,d as lo,e as co,f as vo,g as Ji,h as bo,i as Ln,j as wo,k as Co,l as So}from"./chunk-XNMPSWT4.js";import{$ as c,$a as lt,$b as ue,A as rt,Aa as Lt,Ab as qe,B as j,Ba as z,Bb as Qr,Bc as Wi,C as ee,Ca as An,Cb as Yr,Cc as Qt,D as W,Db as Wr,E as se,Ea as S,Eb as X,Ec as Yt,F as G,Fb as Vt,Fc as Wt,G as ye,Ga as _,Gb as Xr,H as Ni,Ha as pi,Hb as Gi,I as Li,Ia as Bt,Ib as Ht,J as R,Ja as et,Jb as On,K,Ka as Pn,Kb as Ut,Kc as Kt,L as Se,La as He,Lb as Zr,Lc as Ki,Ma as Me,Mc as Xt,N as Rr,Na as Re,Nc as L,O as Bi,Oc as Ke,P as F,Q as N,Qa as at,R as je,Ra as u,Rb as Jr,Rc as so,S as Ft,Sa as O,Sc as Fn,T as ji,Ta as E,Tb as $i,Ua as hi,Ub as qi,V as ze,Va as Nr,W as Oe,Wa as yt,Wb as Gt,X as Ze,Xa as vt,Xb as Qi,Xc as Zt,Y as de,Ya as bt,Yb as fi,Yc as Nn,Z as Ve,Zb as eo,Zc as Xi,_ as zi,_a as k,_b as to,_c as mo,a as Y,aa as f,ab as b,ad as uo,b as Ri,ba as Rn,bb as w,bd as po,c as Ir,ca as kr,cb as wt,da as kn,db as jt,dd as ho,eb as Ue,ec as io,ed as fo,f as J,fa as ot,fb as Ct,fd as _i,g as kt,ga as Ar,gb as tt,gd as go,h as ki,ha as st,hd as _o,i as di,ia as v,ib as Ge,ic as U,id as yi,j as mi,jb as Lr,jc as no,jd as vi,ka as Vi,kb as Ui,kc as gi,kd as yo,l as At,la as ae,lb as $e,ld as Zi,m as Ai,ma as h,mb as ne,mc as ro,md as Jt,na as Nt,nb as Br,nc as pe,nd as Ee,o as Pi,oa as me,ob as jr,oc as we,pa as Hi,pb as zr,pc as Ye,q as Pt,qb as V,qc as Yi,qd as ei,r as ui,ra as Je,rb as Vr,rc as oo,rd as tn,s as Mn,sa as Pr,sb as Hr,sc as he,ta as Or,tb as Ur,tc as $t,u as Ot,ua as Fr,ub as Gr,uc as We,va as l,vb as $r,vc as mt,w as Oi,wa as d,wb as qr,wc as le,xa as P,xb as ct,y as Fi,ya as ve,yb as zt,yc as ut,z as Mr,za as be,zb as re,zc as qt}from"./chunk-PPGGN6NP.js";var $s=["determinateSpinner"];function qs(r,i){if(r&1&&(je(),l(0,"svg",11),P(1,"circle",12),d()),r&2){let e=_();ae("viewBox",e._viewBox()),c(),Nt("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ae("r",e._circleRadius())}}var Qs=new se("mat-progress-spinner-default-options",{providedIn:"root",factory:Ys});function Ys(){return{diameter:Eo}}var Eo=100,Ws=10,xo=(()=>{class r{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,t,n){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=Eo,this._noopAnimations=t==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-Ws)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(t){return new(t||r)(f(de),f(Ve,8),f(Qs))}}static{this.\u0275cmp=R({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,n){if(t&1&&He($s,5),t&2){let o;Me(o=Re())&&(n._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,n){t&2&&(ae("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),Hi("mat-"+n.color),Nt("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),me("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",tt],diameter:[2,"diameter","diameter",tt],strokeWidth:[2,"strokeWidth","strokeWidth",tt]},exportAs:["matProgressSpinner"],standalone:!0,features:[st,k],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,n){if(t&1&&(v(0,qs,2,8,"ng-template",null,0,jt),l(2,"div",2,1),je(),l(4,"svg",3),P(5,"circle",4),d()(),Ft(),l(6,"div",5)(7,"div",6)(8,"div",7),Lt(9,8),d(),l(10,"div",9),Lt(11,8),d(),l(12,"div",10),Lt(13,8),d()()()),t&2){let o=at(1);c(4),ae("viewBox",n._viewBox()),c(),Nt("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),ae("r",n._circleRadius()),c(4),h("ngTemplateOutlet",o),c(2),h("ngTemplateOutlet",o),c(2),h("ngTemplateOutlet",o)}},dependencies:[Br],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return r})();var ti=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({imports:[V,ue]})}}return r})();var nn=(()=>{class r{constructor(){this.loadingSubject=new kt(!1),this.loading$=this.loadingSubject.asObservable(),this.requests=0}show(){this.requests++,this.loadingSubject.next(!0)}hide(){this.requests--,this.requests<=0&&(this.requests=0,this.loadingSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Zs(r,i){r&1&&(l(0,"div",1),P(1,"mat-spinner",2),d())}var Do=(()=>{class r{constructor(e){this.loadingService=e,this.loading$=this.loadingService.loading$}static{this.\u0275fac=function(t){return new(t||r)(f(nn))}}static{this.\u0275cmp=R({type:r,selectors:[["app-loading-spinner"]],standalone:!0,features:[k],decls:2,vars:3,consts:[["class","fixed inset-0 bg-gray-200 bg-opacity-50 flex flex-col items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-200","bg-opacity-50","flex","flex-col","items-center","justify-center","z-50"],["diameter","50"]],template:function(t,n){t&1&&(v(0,Zs,2,0,"div",0),b(1,"async")),t&2&&h("ngIf",w(1,1,n.loading$))},dependencies:[V,ne,jr,ti,xo,q]})}}return r})();var To=(()=>{class r{constructor(e){this.translate=e,e.addLangs(["en","es"]),e.setDefaultLang("es");let t=e.getBrowserLang();e.use(t?.match(/en|es/)?t:"es")}static{this.\u0275fac=function(t){return new(t||r)(f(dt))}}static{this.\u0275cmp=R({type:r,selectors:[["app-root"]],standalone:!0,features:[k],decls:2,vars:0,template:function(t,n){t&1&&P(0,"app-loading-spinner")(1,"router-outlet")},dependencies:[zt,q,Do]})}}return r})();var rn=class{constructor(i,e="assets/i18n/",t=".json"){this.http=i,this.prefix=e,this.suffix=t}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}};function Js(r,i){if(r&1&&(ve(0),l(1,"a",11),u(2),b(3,"translate"),d(),be()),r&2){let e=_().$implicit;c(),h("routerLink",e.route),c(),E(" ",w(3,2,e.label)," ")}}function ea(r,i){if(r&1&&(ve(0),v(1,Js,4,4,"ng-container",10),be()),r&2){let e=i.$implicit,t=_(2);c(),h("ngIf",!e.children&&t.canShow(e))}}function ta(r,i){if(r&1&&(l(0,"a",15),u(1),b(2,"translate"),d()),r&2){let e=_().$implicit;h("routerLink",e.route),c(),E(" ",w(2,2,e.label)," ")}}function ia(r,i){if(r&1&&(ve(0),v(1,ta,3,4,"a",14),be()),r&2){let e=i.$implicit,t=_(4);c(),h("ngIf",t.canShow(e))}}function na(r,i){if(r&1&&(ve(0),l(1,"div",12),u(2),b(3,"translate"),d(),l(4,"div",13),v(5,ia,2,1,"ng-container",6),d(),be()),r&2){let e=_().$implicit;c(2),E(" ",w(3,2,e.label)," "),c(3),h("ngForOf",e.children)}}function ra(r,i){if(r&1&&(ve(0),v(1,na,6,4,"ng-container",10),be()),r&2){let e=i.$implicit,t=_(2);c(),h("ngIf",e.children&&t.canShow(e))}}function oa(r,i){if(r&1){let e=z();l(0,"div",16),S("click",function(){F(e);let n=_(2);return N(n.closeSidebar())}),d()}}function sa(r,i){if(r&1){let e=z();ve(0),l(1,"a",19),S("click",function(){F(e);let n=_(4);return N(n.closeSidebar())}),u(2),b(3,"translate"),d(),be()}if(r&2){let e=_().$implicit;c(),h("routerLink",e.route),c(),E(" ",w(3,2,e.label)," ")}}function aa(r,i){if(r&1&&(ve(0),v(1,sa,4,4,"ng-container",10),be()),r&2){let e=i.$implicit,t=_(3);c(),h("ngIf",!e.children&&t.canShow(e))}}function la(r,i){if(r&1){let e=z();l(0,"a",21),S("click",function(){F(e);let n=_(6);return N(n.closeSidebar())}),u(1),b(2,"translate"),d()}if(r&2){let e=_().$implicit;h("routerLink",e.route),c(),E(" ",w(2,2,e.label)," ")}}function ca(r,i){if(r&1&&(ve(0),v(1,la,3,4,"a",20),be()),r&2){let e=i.$implicit,t=_(5);c(),h("ngIf",t.canShow(e))}}function da(r,i){if(r&1&&(ve(0),l(1,"div",12),u(2),b(3,"translate"),d(),l(4,"div",13),v(5,ca,2,1,"ng-container",6),d(),be()),r&2){let e=_().$implicit;c(2),E(" ",w(3,2,e.label)," "),c(3),h("ngForOf",e.children)}}function ma(r,i){if(r&1&&(ve(0),v(1,da,6,4,"ng-container",10),be()),r&2){let e=i.$implicit,t=_(3);c(),h("ngIf",e.children&&t.canShow(e))}}function ua(r,i){if(r&1&&(l(0,"aside",17)(1,"div",3),u(2),b(3,"translate"),d(),l(4,"div",18)(5,"nav",5),v(6,aa,2,1,"ng-container",6),d()(),l(7,"nav",7),v(8,ma,2,1,"ng-container",6),d()()),r&2){let e=_(2);c(2),E(" ",w(3,3,"MENU.MENU")," "),c(4),h("ngForOf",e.menuLinks),c(2),h("ngForOf",e.menuLinks)}}function pa(r,i){if(r&1&&(ve(0),l(1,"aside",2)(2,"div",3),u(3),b(4,"translate"),d(),l(5,"div",4)(6,"nav",5),v(7,ea,2,1,"ng-container",6),d()(),l(8,"nav",7),v(9,ra,2,1,"ng-container",6),d()(),v(10,oa,1,0,"div",8)(11,ua,9,5,"aside",9),be()),r&2){let e=_();c(3),E(" ",w(4,5,"MENU.MENU")," "),c(4),h("ngForOf",e.menuLinks),c(2),h("ngForOf",e.menuLinks),c(),h("ngIf",e.sidebarOpen),c(),h("ngIf",e.sidebarOpen)}}function ha(r,i){if(r&1){let e=z();l(0,"div",16),S("click",function(){F(e);let n=_(2);return N(n.closeSidebar())}),d()}}function fa(r,i){if(r&1){let e=z();l(0,"aside",17)(1,"div",3),u(2),b(3,"translate"),d(),l(4,"nav",5)(5,"a",24),S("click",function(){F(e);let n=_(2);return N(n.closeSidebar())}),u(6),b(7,"translate"),d(),l(8,"a",25),S("click",function(){F(e);let n=_(2);return N(n.closeSidebar())}),u(9),b(10,"translate"),d()()()}r&2&&(c(2),E(" ",w(3,3,"MENU.MENU")," "),c(4),E(" ",w(7,5,"MENU.LOGIN")," "),c(3),E(" ",w(10,7,"MENU.REGISTER")," "))}function ga(r,i){if(r&1&&(l(0,"aside",2)(1,"div",3),u(2),b(3,"translate"),d(),l(4,"nav",5)(5,"a",22),u(6),b(7,"translate"),d(),l(8,"a",23),u(9),b(10,"translate"),d()()(),v(11,ha,1,0,"div",8)(12,fa,11,9,"aside",9)),r&2){let e=_();c(2),E(" ",w(3,5,"MENU.MENU")," "),c(4),E(" ",w(7,7,"MENU.LOGIN")," "),c(3),E(" ",w(10,9,"MENU.REGISTER")," "),c(2),h("ngIf",e.sidebarOpen),c(),h("ngIf",e.sidebarOpen)}}var Io=(()=>{class r{constructor(e){this.userService=e,this.sidebarOpen=!1,this.sidebarOpenChange=new Oe,this.menuLinks=[{label:"MENU.HOME",route:"home"},{label:"MENU.PROFILE",route:"profile"},{label:"MENU.MY_COMPANY",route:"company",roles:[U.COMPANY_ADMIN,U.COMPANY_USER]},{label:"MENU.ADMIN.ADMIN",roles:[U.ADMIN,U.COMPANY_ADMIN],children:[{label:"MENU.ADMIN.USERS",route:"admin/users",roles:[U.ADMIN,U.COMPANY_ADMIN]},{label:"MENU.ADMIN.COMPANIES",route:"admin/companies",roles:[U.ADMIN]}]}]}closeSidebar(){this.sidebarOpen=!1,this.sidebarOpenChange.emit(this.sidebarOpen)}canShow(e){if(!e.roles)return!0;let t=this.userService.getCurrentUser();return!!t&&e.roles.includes(t.role)}get userLinks(){return this.menuLinks.filter(e=>!e.children)}get adminLinks(){return this.menuLinks.filter(e=>e.children&&this.canShow(e))}static{this.\u0275fac=function(t){return new(t||r)(f(we))}}static{this.\u0275cmp=R({type:r,selectors:[["app-sidebar"]],inputs:{sidebarOpen:"sidebarOpen"},outputs:{sidebarOpenChange:"sidebarOpenChange"},standalone:!0,features:[k],decls:3,vars:2,consts:[["loggedOutLinks",""],[4,"ngIf","ngIfElse"],[1,"w-64","bg-white","shadow-md","hidden","md:flex","flex-col","h-screen"],[1,"p-4","text-xl","font-bold","border-b"],[1,"flex-1"],[1,"p-4","space-y-2"],[4,"ngFor","ngForOf"],[1,"p-4","space-y-2","border-t"],["class","fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",3,"click",4,"ngIf"],["class","fixed inset-y-0 left-0 w-64 bg-white shadow-md z-50 md:hidden flex flex-col h-full",4,"ngIf"],[4,"ngIf"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"routerLink"],[1,"px-3","py-2","font-semibold","text-gray-700"],[1,"ml-4","space-y-1"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"routerLink"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40","md:hidden",3,"click"],[1,"fixed","inset-y-0","left-0","w-64","bg-white","shadow-md","z-50","md:hidden","flex","flex-col","h-full"],[1,"flex-1","overflow-auto"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click","routerLink"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink","click",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"click","routerLink"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"]],template:function(t,n){if(t&1&&v(0,pa,12,7,"ng-container",1)(1,ga,13,11,"ng-template",null,0,jt),t&2){let o=at(2);h("ngIf",n.userService.getCurrentUser())("ngIfElse",o)}},dependencies:[q,ke,V,$e,ne,X,qe,Qr],styles:['@charset "UTF-8";aside[_ngcontent-%COMP%]{background-color:#fff}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:background-color .2s;display:block;border-radius:.375rem;padding:.5rem .75rem}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}']})}}return r})();var Mo=(()=>{class r{constructor(e,t,n){this.translate=e,this.authService=t,this.router=n,this.selectedLang="es",this.selectedLangChange=new Oe,this.toggleSidebar=new Oe}switchLanguage(e){this.selectedLang=e,this.selectedLangChange.emit(e),this.translate.use(e)}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(t){return new(t||r)(f(dt),f(pe),f(re))}}static{this.\u0275cmp=R({type:r,selectors:[["app-header"]],inputs:{selectedLang:"selectedLang"},outputs:{selectedLangChange:"selectedLangChange",toggleSidebar:"toggleSidebar"},standalone:!0,features:[k],decls:18,vars:10,consts:[[1,"flex","items-center","justify-between","bg-gradient-to-r","from-teal-500","to-green-500","text-white","p-4","shadow-md"],[1,"md:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","gap-2"],["src","assets/logo-white.png","alt","Forest+ Logo",1,"logo"],[1,"font-bold"],[1,"flex","items-center","space-x-4"],[1,"bg-red-600","hover:bg-red-700","px-3","py-1","rounded","text-white","font-semibold",3,"click"],[1,"language-switcher"],[3,"click"]],template:function(t,n){t&1&&(l(0,"header",0)(1,"button",1),S("click",function(){return n.onToggleSidebar()}),je(),l(2,"svg",2),P(3,"path",3),d()(),Ft(),l(4,"div",4),P(5,"img",5),l(6,"span",6),u(7),b(8,"translate"),d()(),l(9,"div",7)(10,"button",8),S("click",function(){return n.logout()}),u(11),b(12,"translate"),d(),l(13,"div",9)(14,"button",10),S("click",function(){return n.switchLanguage("es")}),u(15,"ES"),d(),l(16,"button",10),S("click",function(){return n.switchLanguage("en")}),u(17,"EN"),d()()()()),t&2&&(c(7),O(w(8,6,"DASHBOARD.DASHBOARD")),c(4),E(" ",w(12,8,"DASHBOARD.LOGOUT")," "),c(3),me("active",n.selectedLang==="es"),c(2),me("active",n.selectedLang==="en"))},dependencies:[q,ke],styles:[".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;font-weight:700}.logo[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}"]})}}return r})();var Ro=(()=>{class r{constructor(){this.sidebarOpen=!1,this.selectedLang="es"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=R({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[k],decls:6,vars:2,consts:[[1,"flex","min-h-screen","bg-gray-100"],[3,"sidebarOpenChange","sidebarOpen"],[1,"flex-1","flex","flex-col"],[3,"selectedLangChange","toggleSidebar","selectedLang"],[1,"p-6","flex-1","overflow-auto"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"app-sidebar",1),bt("sidebarOpenChange",function(s){return vt(n.sidebarOpen,s)||(n.sidebarOpen=s),s}),d(),l(2,"div",2)(3,"app-header",3),bt("selectedLangChange",function(s){return vt(n.selectedLang,s)||(n.selectedLang=s),s}),S("toggleSidebar",function(){return n.sidebarOpen=!n.sidebarOpen}),d(),l(4,"main",4),P(5,"router-outlet"),d()()()),t&2&&(c(),yt("sidebarOpen",n.sidebarOpen),c(2),yt("selectedLang",n.selectedLang))},dependencies:[V,X,zt,q,Io,Mo],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:220px}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.dashboard-card[_ngcontent-%COMP%]{text-align:center}.language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;font-weight:700}"]})}}return r})();function _a(r,i){if(r&1&&(l(0,"span"),u(1),d()),r&2){let e=_();c(),E(", ",e.userName,"")}}function ya(r,i){if(r&1&&(l(0,"p",4),u(1),d()),r&2){let e=i.$implicit;c(),E(" ",e," ")}}var ko=(()=>{class r{constructor(e){this.userService=e,this.userName=""}ngOnInit(){this.userService.user$.subscribe(e=>{e&&(this.userName=e.name)})}static{this.\u0275fac=function(t){return new(t||r)(f(we))}}static{this.\u0275cmp=R({type:r,selectors:[["app-home"]],standalone:!0,features:[k],decls:7,vars:7,consts:[[1,"home-presentation","p-8","max-w-5xl","mx-auto","text-center","space-y-6"],[1,"text-4xl","font-extrabold","text-green-800"],[4,"ngIf"],["class","text-lg text-gray-700 leading-relaxed",4,"ngFor","ngForOf"],[1,"text-lg","text-gray-700","leading-relaxed"]],template:function(t,n){t&1&&(l(0,"section",0)(1,"h1",1),u(2),b(3,"translate"),v(4,_a,2,1,"span",2),d(),v(5,ya,2,1,"p",3),b(6,"translate"),d()),t&2&&(c(2),O(w(3,3,"HOME.TITLE")),c(2),h("ngIf",n.userName),c(),h("ngForOf",w(6,5,"HOME.LINES")))},dependencies:[V,$e,ne,q,ke]})}}return r})();function va(r,i){if(r&1&&(l(0,"p",10),u(1),d()),r&2){let e=_(2);c(),E(" Empresa: ",e.user.company==null?null:e.user.company.name," ")}}function ba(r,i){if(r&1){let e=z();l(0,"div",1)(1,"mat-card",2)(2,"div",3),P(3,"img",4),l(4,"h2",5),u(5),d(),l(6,"p",6),u(7),d(),v(8,va,2,1,"p",7),l(9,"div",8)(10,"button",9),S("click",function(){F(e);let n=_();return N(n.goToEdit())}),u(11," Editar "),d()()()()()}if(r&2){let e=_();c(3),h("src",e.user.picture||"assets/logo-white.png",zi),c(2),Nr(" ",e.user.name," ",e.user.surname," ",e.user.secondSurname," "),c(2),O(e.user.email),c(),h("ngIf",e.user.role==="COMPANY_ADMIN"||e.user.role==="COMPANY_USER")}}var Bn=(()=>{class r{constructor(e,t,n,o){this.authService=e,this.userService=t,this.router=n,this.route=o}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.userService.getUserById(+e).subscribe({next:t=>this.user=t,error:t=>{console.error("Error al cargar usuario por id",t)}}):this.authService.user$.subscribe(t=>{this.user=t??void 0})}goToEdit(){this.user?.id&&this.router.navigate([`/admin/user-form/${this.user.id}`])}static{this.\u0275fac=function(t){return new(t||r)(f(pe),f(we),f(re),f(ct))}}static{this.\u0275cmp=R({type:r,selectors:[["app-profile"]],standalone:!0,features:[k],decls:1,vars:1,consts:[["class","max-w-sm mx-auto",4,"ngIf"],[1,"max-w-sm","mx-auto"],[1,"rounded-2xl","shadow-md","p-4"],[1,"flex","flex-col","items-center","text-center"],["alt","Avatar",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","text-gray-500 font-medium mt-1",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"text-gray-500","font-medium","mt-1"]],template:function(t,n){t&1&&v(0,ba,12,6,"div",0),t&2&&h("ngIf",n.user)},dependencies:[V,ne,q,Ae,Qe,he,Ye,We]})}}return r})();var Ao=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=R({type:r,selectors:[["app-settings"]],standalone:!0,features:[k],decls:2,vars:0,template:function(t,n){t&1&&(l(0,"p"),u(1,"settings works!"),d())}})}}return r})();var wa=()=>["../login"],Ca=()=>({length:6});function Sa(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(w(2,1,"REGISTER.NAME_REQUIRED")))}function Ea(r,i){if(r&1&&(l(0,"div",23),v(1,Sa,3,3,"div",24),d()),r&2){let e,t=_(2);c(),h("ngIf",(e=t.registerForm.get("name"))==null?null:e.hasError("required"))}}function xa(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(w(2,1,"REGISTER.SURNAME_REQUIRED")))}function Da(r,i){if(r&1&&(l(0,"div",23),v(1,xa,3,3,"div",24),d()),r&2){let e,t=_(2);c(),h("ngIf",(e=t.registerForm.get("surname"))==null?null:e.hasError("required"))}}function Ta(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(w(2,1,"REGISTER.EMAIL_REQUIRED")))}function Ia(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(w(2,1,"REGISTER.EMAIL_INVALID")))}function Ma(r,i){if(r&1&&(l(0,"div",23),v(1,Ta,3,3,"div",24)(2,Ia,3,3,"div",24),d()),r&2){let e,t,n=_(2);c(),h("ngIf",(e=n.registerForm.get("email"))==null?null:e.hasError("required")),c(),h("ngIf",(t=n.registerForm.get("email"))==null?null:t.hasError("email"))}}function Ra(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(w(2,1,"REGISTER.PASSWORD_REQUIRED")))}function ka(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),O(wt(2,1,"REGISTER.PASSWORD_MINLENGTH",lt(4,Ca))))}function Aa(r,i){if(r&1&&(l(0,"div",23),v(1,Ra,3,3,"div",24)(2,ka,3,5,"div",24),d()),r&2){let e,t,n=_(2);c(),h("ngIf",(e=n.registerForm.get("password"))==null?null:e.hasError("required")),c(),h("ngIf",(t=n.registerForm.get("password"))==null?null:t.hasError("minlength"))}}function Pa(r,i){if(r&1){let e=z();l(0,"form",10),S("ngSubmit",function(){F(e);let n=_();return N(n.onSubmit())}),l(1,"div",11)(2,"label",12),u(3),b(4,"translate"),d(),P(5,"input",13),b(6,"translate"),v(7,Ea,2,1,"div",14),d(),l(8,"div")(9,"label",12),u(10),b(11,"translate"),d(),P(12,"input",15),b(13,"translate"),v(14,Da,2,1,"div",14),d(),l(15,"div")(16,"label",12),u(17),b(18,"translate"),d(),P(19,"input",16),b(20,"translate"),d(),l(21,"div",11)(22,"label",12),u(23),b(24,"translate"),d(),P(25,"input",17),b(26,"translate"),v(27,Ma,3,2,"div",14),d(),l(28,"div",18)(29,"label",12),u(30),b(31,"translate"),d(),P(32,"input",19),b(33,"translate"),l(34,"button",20),S("click",function(){F(e);let n=_();return N(n.hidePassword=!n.hidePassword)}),u(35),d(),v(36,Aa,3,2,"div",14),d(),l(37,"div",21)(38,"button",22),u(39),b(40,"translate"),d()()()}if(r&2){let e,t,n,o,s=_();h("formGroup",s.registerForm),c(3),O(w(4,19,"REGISTER.NAME")),c(2),et("placeholder",w(6,21,"REGISTER.NAME_PLACEHOLDER")),c(2),h("ngIf",((e=s.registerForm.get("name"))==null?null:e.invalid)&&((e=s.registerForm.get("name"))==null?null:e.touched)),c(3),O(w(11,23,"REGISTER.SURNAME")),c(2),et("placeholder",w(13,25,"REGISTER.SURNAME_PLACEHOLDER")),c(2),h("ngIf",((t=s.registerForm.get("surname"))==null?null:t.invalid)&&((t=s.registerForm.get("surname"))==null?null:t.touched)),c(3),O(w(18,27,"REGISTER.SECOND_SURNAME")),c(2),et("placeholder",w(20,29,"REGISTER.SECOND_SURNAME_PLACEHOLDER")),c(4),O(w(24,31,"REGISTER.EMAIL")),c(2),et("placeholder",w(26,33,"REGISTER.EMAIL_PLACEHOLDER")),c(2),h("ngIf",((n=s.registerForm.get("email"))==null?null:n.invalid)&&((n=s.registerForm.get("email"))==null?null:n.touched)),c(3),O(w(31,35,"REGISTER.PASSWORD")),c(2),et("placeholder",w(33,37,"REGISTER.PASSWORD_PLACEHOLDER")),h("type",s.hidePassword?"password":"text"),c(3),E(" ",s.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),c(),h("ngIf",((o=s.registerForm.get("password"))==null?null:o.invalid)&&((o=s.registerForm.get("password"))==null?null:o.touched)),c(2),h("disabled",s.registerForm.invalid),c(),E(" ",w(40,39,"REGISTER.BUTTON")," ")}}function Oa(r,i){r&1&&(l(0,"div",25),u(1),b(2,"translate"),d()),r&2&&(c(),E(" ",w(2,1,"REGISTER.SUCCESS")," "))}function Fa(r,i){if(r&1&&(l(0,"div",26),u(1),d()),r&2){let e=_();c(),E(" ",e.registerError," ")}}var Po=(()=>{class r{constructor(e,t){this.fb=e,this.authService=t,this.hidePassword=!0,this.registerError="",this.registerSuccess=!1,this.roles=no,this.registerForm=this.fb.group({name:["",le.required],surname:[""],secondSurname:[""],email:["",[le.required,le.email]],password:["",[le.required,le.minLength(6)]],role:[U.USER]})}onSubmit(){this.registerForm.invalid||(this.registerError="",this.registerSuccess=!1,this.authService.register(this.registerForm.value).subscribe({next:()=>{this.registerSuccess=!0,this.registerForm.reset()},error:e=>this.registerError=e.error?.message||"Error al registrarse"}))}static{this.\u0275fac=function(t){return new(t||r)(f(Kt),f(pe))}}static{this.\u0275cmp=R({type:r,selectors:[["app-register"]],standalone:!0,features:[k],decls:16,vars:14,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-gray-700","mb-1"],["type","text","formControlName","name",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text","formControlName","surname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","text","formControlName","secondSurname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],[1,"md:col-span-2","relative"],["formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"md:col-span-2","mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"text-center","text-red-500","mt-4"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),P(2,"img",2),d(),l(3,"div",3)(4,"h1",4),u(5),b(6,"translate"),d(),v(7,Pa,41,41,"form",5)(8,Oa,3,3,"div",6)(9,Fa,2,1,"div",7),l(10,"p",8),u(11),b(12,"translate"),l(13,"a",9),u(14),b(15,"translate"),d()()()()),t&2&&(c(5),E(" ",w(6,7,"REGISTER.TITLE")," "),c(2),h("ngIf",!n.registerSuccess),c(),h("ngIf",n.registerSuccess),c(),h("ngIf",n.registerError),c(2),E(" ",w(12,9,"REGISTER.ALREADY_ACCOUNT")," "),c(2),h("routerLink",lt(13,wa)),c(),E(" ",w(15,11,"REGISTER.LOGIN")," "))},dependencies:[V,ne,q,ke,X,qe,Xt,Qt,mt,ut,qt,Yt,Wt,Ae,lo,co,he,We,Ji]})}}return r})();var Na=()=>["../register"],La=()=>({length:6});function Ba(r,i){r&1&&(l(0,"p",9),u(1,"Clave incorrecta"),d())}function ja(r,i){if(r&1){let e=z();l(0,"div",2)(1,"div",3)(2,"h1",4),u(3,"\u{1F510} Acceso restringido"),d(),l(4,"p",5),u(5,"Introduce la clave de desarrollador para continuar:"),d(),l(6,"input",6),bt("ngModelChange",function(n){F(e);let o=_();return vt(o.accessKey,n)||(o.accessKey=n),N(n)}),d(),l(7,"button",7),S("click",function(){F(e);let n=_();return N(n.checkAccessKey())}),u(8," Entrar "),d(),v(9,Ba,2,0,"p",8),d()()}if(r&2){let e=_();c(6),yt("ngModel",e.accessKey),c(3),h("ngIf",e.error)}}function za(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),E(" ",w(2,1,"LOGIN.EMAIL_REQUIRED")," "))}function Va(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),E(" ",w(2,1,"LOGIN.EMAIL_INVALID")," "))}function Ha(r,i){if(r&1&&(l(0,"div",28),v(1,za,3,3,"div",29)(2,Va,3,3,"div",29),d()),r&2){let e,t,n=_(3);c(),h("ngIf",(e=(n.forgotMode?n.forgotForm:n.loginForm).get("email"))==null?null:e.hasError("required")),c(),h("ngIf",(t=(n.forgotMode?n.forgotForm:n.loginForm).get("email"))==null?null:t.hasError("email"))}}function Ua(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),E(" ",w(2,1,"LOGIN.PASSWORD_REQUIRED")," "))}function Ga(r,i){r&1&&(l(0,"div"),u(1),b(2,"translate"),d()),r&2&&(c(),E(" ",wt(2,1,"LOGIN.PASSWORD_MINLENGTH",lt(4,La))," "))}function $a(r,i){if(r&1&&(l(0,"div",28),v(1,Ua,3,3,"div",29)(2,Ga,3,5,"div",29),d()),r&2){let e,t,n=_(4);c(),h("ngIf",(e=n.loginForm.get("password"))==null?null:e.hasError("required")),c(),h("ngIf",(t=n.loginForm.get("password"))==null?null:t.hasError("minlength"))}}function qa(r,i){if(r&1){let e=z();l(0,"div",30)(1,"label",31),u(2),b(3,"translate"),d(),P(4,"input",32),b(5,"translate"),l(6,"button",33),S("click",function(){F(e);let n=_(3);return N(n.hidePassword=!n.hidePassword)}),u(7),d(),v(8,$a,3,2,"div",25),d()}if(r&2){let e,t=_(3);c(2),O(w(3,5,"LOGIN.PASSWORD")),c(2),et("placeholder",w(5,7,"LOGIN.PASSWORD_PLACEHOLDER")),h("type",t.hidePassword?"password":"text"),c(3),E(" ",t.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),c(),h("ngIf",((e=t.loginForm.get("password"))==null?null:e.invalid)&&((e=t.loginForm.get("password"))==null?null:e.touched))}}function Qa(r,i){if(r&1){let e=z();l(0,"form",21),S("ngSubmit",function(){F(e);let n=_(2);return N(n.forgotMode?n.onForgotSubmit():n.onSubmit())}),l(1,"div",22)(2,"label",23),u(3),b(4,"translate"),d(),P(5,"input",24),b(6,"translate"),v(7,Ha,3,2,"div",25),d(),v(8,qa,9,9,"div",26),l(9,"button",27),u(10),b(11,"translate"),b(12,"translate"),d()()}if(r&2){let e,t=_(2);h("formGroup",t.forgotMode?t.forgotForm:t.loginForm),c(3),O(w(4,7,"LOGIN.EMAIL")),c(2),et("placeholder",w(6,9,"LOGIN.EMAIL_PLACEHOLDER")),c(2),h("ngIf",((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.invalid)&&((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.touched)),c(),h("ngIf",!t.forgotMode),c(),h("disabled",(t.forgotMode?t.forgotForm:t.loginForm).invalid),c(),E(" ",t.forgotMode?w(11,11,"LOGIN.SEND_NEW_PASSWORD"):w(12,13,"LOGIN.BUTTON")," ")}}function Ya(r,i){if(r&1){let e=z();l(0,"div",34),u(1),b(2,"translate"),l(3,"div",35)(4,"button",36),S("click",function(){F(e);let n=_(2);return N(n.toggleForgotMode())}),u(5),b(6,"translate"),d()()()}r&2&&(c(),E(" ",w(2,2,"LOGIN.FORGOT_PASSWORD_SUCCESS")," "),c(4),E(" ",w(6,4,"LOGIN.GO_TO_LOGIN")," "))}function Wa(r,i){if(r&1){let e=z();l(0,"button",39),S("click",function(){F(e);let n=_(3);return N(n.resendVerificationEmail())}),u(1),b(2,"translate"),d()}r&2&&(c(),E(" ",w(2,1,"LOGIN.RESEND_EMAIL")," "))}function Ka(r,i){if(r&1&&(l(0,"div",37),u(1),v(2,Wa,3,3,"button",38),d()),r&2){let e=_(2);c(),E(" ",e.loginError," "),c(),h("ngIf",e.showResendButton)}}function Xa(r,i){if(r&1){let e=z();l(0,"div",40)(1,"button",41),S("click",function(){F(e);let n=_(2);return N(n.toggleForgotMode())}),u(2),b(3,"translate"),d()()}r&2&&(c(2),E(" ",w(3,1,"LOGIN.FORGOT_PASSWORD")," "))}function Za(r,i){if(r&1&&(l(0,"div",10)(1,"div",11),P(2,"img",12),d(),l(3,"div",13)(4,"h1",14),u(5),b(6,"translate"),b(7,"translate"),d(),v(8,Qa,13,15,"form",15)(9,Ya,7,6,"div",16)(10,Ka,3,2,"div",17)(11,Xa,4,3,"div",18),l(12,"p",19),u(13),b(14,"translate"),l(15,"a",20),u(16),b(17,"translate"),d()()()()),r&2){let e=_();c(5),E(" ",e.forgotMode?w(6,8,"LOGIN.FORGOT_PASSWORD_TITLE"):w(7,10,"LOGIN.TITLE")," "),c(3),h("ngIf",!e.success),c(),h("ngIf",e.success),c(),h("ngIf",!e.forgotMode&&e.loginError),c(),h("ngIf",!e.forgotMode&&!e.success),c(2),E(" ",w(14,12,"LOGIN.NO_ACCOUNT")," "),c(2),h("routerLink",lt(16,Na)),c(),E(" ",w(17,14,"LOGIN.REGISTER")," ")}}var Oo=(()=>{class r{constructor(e,t,n,o){if(this.fb=e,this.router=t,this.translate=n,this.authService=o,this.hidePassword=!0,this.loginError=null,this.showResendButton=!1,this.unverifiedEmail=null,this.success=!1,this.forgotMode=!1,this.accessGranted=!1,this.accessKey="",this.error=!1,this.loginForm=this.fb.group({email:["",[le.required,le.email]],password:["",[le.required,le.minLength(6)]]}),this.forgotForm=this.fb.group({email:["",[le.required,le.email]]}),this.loginForm.valueChanges.subscribe(()=>this.loginError=null),!gi.production){this.accessGranted=!0,this.error=!1;return}}checkAccessKey(){this.accessKey===gi.devAccessKey?(this.accessGranted=!0,this.error=!1):(this.accessGranted=!1,this.error=!0)}toggleForgotMode(){this.forgotMode=!this.forgotMode,this.success=!1,this.loginError=null}onSubmit(){if(this.forgotMode){this.onForgotSubmit();return}if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.authService.login({email:e,password:t}).subscribe({next:n=>{n&&(n.forcePasswordChange?this.router.navigate(["/reset-password"],{queryParams:{email:n.email}}):this.router.navigateByUrl("/"))},error:n=>this.handleLoginError(n)})}}handleLoginError(e){console.error(e);let t=e.error?.message||"LOGIN.GENERIC_ERROR";t==="EMAIL_NOT_VERIFIED"?(this.loginError=this.translate.instant("LOGIN.EMAIL_NOT_VERIFIED"),this.showResendButton=!0,this.unverifiedEmail=this.loginForm.value.email):this.translate.get(t).subscribe(n=>{this.loginError=n,this.showResendButton=!1})}resendVerificationEmail(){this.unverifiedEmail&&this.authService.resendVerification(this.unverifiedEmail).subscribe({next:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_SENT"),this.showResendButton=!1},error:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_FAILED")}})}onForgotSubmit(){if(this.forgotForm.invalid)return;let e=this.forgotForm.value.email;this.authService.forgotPassword(e).pipe(Oi(()=>{})).subscribe({next:()=>{this.success=!0},error:t=>{alert(t?.error?.message||"Error enviando correo de restablecimiento")}})}static{this.\u0275fac=function(t){return new(t||r)(f(Kt),f(re),f(dt),f(pe))}}static{this.\u0275cmp=R({type:r,selectors:[["app-login"]],standalone:!0,features:[k],decls:3,vars:2,consts:[["loginScreen",""],["class","flex flex-col items-center justify-center min-h-screen bg-gray-100",4,"ngIf","ngIfElse"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"bg-white","shadow-lg","rounded-2xl","p-6","w-full","max-w-md","text-center"],[1,"text-2xl","font-bold","text-green-700","mb-4"],[1,"text-gray-600","mb-4"],["type","password","placeholder","Clave de acceso",1,"border","px-3","py-2","rounded","w-64","mb-4","text-center","outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","ngModel"],[1,"bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition",3,"click"],["class","text-red-500 mt-2",4,"ngIf"],[1,"text-red-500","mt-2"],[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mb-6 relative",4,"ngIf"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"mb-6","relative"],["for","password",1,"block","text-gray-700","mb-1"],["id","password","formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],[1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],[1,"text-center","text-red-500","mt-4"],["class","ml-2 bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",3,"click",4,"ngIf"],[1,"ml-2","bg-blue-600","text-white","px-2","py-1","rounded","hover:bg-blue-700",3,"click"],[1,"text-center","mt-4"],["type","button",1,"text-blue-500","font-semibold","hover:underline",3,"click"]],template:function(t,n){if(t&1&&v(0,ja,10,2,"div",1)(1,Za,18,17,"ng-template",null,0,jt),t&2){let o=at(2);h("ngIf",!n.accessGranted)("ngIfElse",o)}},dependencies:[V,ne,Xt,Qt,mt,ut,qt,Yt,Wt,Ki,Wi,q,ke,X,qe],styles:[".minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{background-color:transparent!important;padding-top:.5rem!important;padding-bottom:.5rem!important}.minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-start[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-end[_ngcontent-%COMP%]{border-color:#cbd5e1!important;border-width:1px!important}"]})}}return r})();var oi=(()=>{class r{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.user$.pipe(Ot(1),At(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(t){return new(t||r)(G(pe),G(re))}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ja(r,i){r&1&&(l(0,"div",7),u(1),b(2,"translate"),l(3,"div",8)(4,"a",9),u(5),b(6,"translate"),d()()()),r&2&&(c(),E(" ",w(2,2,"VERIFY_EMAIL.SUCCESS")," "),c(4),E(" ",w(6,4,"VERIFY_EMAIL.GO_TO_LOGIN")," "))}function el(r,i){if(r&1&&(l(0,"div",10),u(1),b(2,"translate"),d()),r&2){let e=_();c(),E(" ",e.errorMessage||w(2,1,"VERIFY_EMAIL.ERROR")," ")}}var Fo=(()=>{class r{constructor(e,t,n){this.route=e,this.authService=t,this.translate=n,this.loading=!0,this.success=!1,this.errorMessage=null}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.uuid;console.log("uuid:",t),t?this.authService.verifyEmail(t).subscribe({next:()=>{this.success=!0,this.loading=!1},error:n=>{console.error(n),this.success=!1,this.loading=!1;let o=n?.error?.message||"VERIFY_EMAIL.ERROR";this.translate.get(o).subscribe(s=>this.errorMessage=s)}}):(this.loading=!1,this.success=!1,this.translate.get("VERIFY_EMAIL.INVALID_LINK").subscribe(n=>{this.errorMessage=n}))})}static{this.\u0275fac=function(t){return new(t||r)(f(ct),f(pe),f(dt))}}static{this.\u0275cmp=R({type:r,selectors:[["app-email-verify"]],standalone:!0,features:[k],decls:9,vars:5,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-600 font-semibold mt-4",4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],["routerLink","/login",1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg"],[1,"text-center","text-red-600","font-semibold","mt-4"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),P(2,"img",2),d(),l(3,"mat-card",3)(4,"h1",4),u(5),b(6,"translate"),d(),v(7,Ja,7,6,"div",5)(8,el,3,3,"div",6),d()()),t&2&&(c(5),E(" ",w(6,3,"VERIFY_EMAIL.TITLE")," "),c(2),h("ngIf",!n.loading&&n.success),c(),h("ngIf",!n.loading&&!n.success))},dependencies:[V,ne,q,ke,Ae,Qe,X,qe,ti]})}}return r})();var tl=()=>["../login"];function il(r,i){r&1&&(l(0,"div"),u(1,"La nueva contrase\xF1a es requerida"),d())}function nl(r,i){r&1&&(l(0,"div"),u(1,"La contrase\xF1a debe tener al menos 6 caracteres"),d())}function rl(r,i){if(r&1&&(l(0,"div",18),v(1,il,2,0,"div",19)(2,nl,2,0,"div",19),d()),r&2){let e,t,n=_();c(),h("ngIf",(e=n.resetForm.get("newPassword"))==null?null:e.hasError("required")),c(),h("ngIf",(t=n.resetForm.get("newPassword"))==null?null:t.hasError("minlength"))}}function ol(r,i){r&1&&(l(0,"div"),u(1,"Confirma la nueva contrase\xF1a"),d())}function sl(r,i){if(r&1&&(l(0,"div",18),v(1,ol,2,0,"div",19),d()),r&2){let e,t=_();c(),h("ngIf",(e=t.resetForm.get("confirmPassword"))==null?null:e.hasError("required"))}}function al(r,i){if(r&1&&(l(0,"div",20),u(1),d()),r&2){let e=_();c(),O(e.errorMessage)}}function ll(r,i){if(r&1&&(l(0,"div",21),u(1),d()),r&2){let e=_();c(),O(e.successMessage)}}var No=(()=>{class r{constructor(e,t,n,o){this.fb=e,this.authService=t,this.router=n,this.route=o,this.errorMessage="",this.successMessage="",this.token=null,this.resetForm=this.fb.group({newPassword:["",[le.required,le.minLength(6)]],confirmPassword:["",le.required]}),this.token=this.route.snapshot.queryParamMap.get("token")||localStorage.getItem("forestPlus_token")}onSubmit(){if(this.resetForm.invalid)return;let{newPassword:e,confirmPassword:t}=this.resetForm.value;if(e!==t){this.errorMessage="Las contrase\xF1as no coinciden";return}if(!this.token){this.errorMessage="Token inv\xE1lido o expirado";return}let n={newPassword:e};this.authService.resetPassword(n,this.isUUID(this.token)?this.token:void 0).subscribe({next:()=>{this.successMessage="Contrase\xF1a cambiada correctamente",setTimeout(()=>this.router.navigate(["/"]),2e3)},error:s=>{this.errorMessage=s.error?.message||"Error al cambiar la contrase\xF1a"}})}isUUID(e){return e.length===36&&e.includes("-")}static{this.\u0275fac=function(t){return new(t||r)(f(Kt),f(pe),f(re),f(ct))}}static{this.\u0275cmp=R({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[k],decls:25,vars:8,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","newPassword",1,"block","text-gray-700","mb-1"],["id","newPassword","type","password","formControlName","newPassword","placeholder","Ingresa tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-6"],["for","confirmPassword",1,"block","text-gray-700","mb-1"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center text-green-600 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-red-500","mt-4"],[1,"text-center","text-green-600","mt-4"]],template:function(t,n){if(t&1&&(l(0,"div",0)(1,"div",1),P(2,"img",2),d(),l(3,"div",3)(4,"h1",4),u(5," Cambiar contrase\xF1a "),d(),l(6,"form",5),S("ngSubmit",function(){return n.onSubmit()}),l(7,"div",6)(8,"label",7),u(9,"Nueva contrase\xF1a"),d(),P(10,"input",8),v(11,rl,3,2,"div",9),d(),l(12,"div",10)(13,"label",11),u(14,"Confirmar nueva contrase\xF1a"),d(),P(15,"input",12),v(16,sl,2,1,"div",9),d(),l(17,"button",13),u(18," Cambiar contrase\xF1a "),d()(),v(19,al,2,1,"div",14)(20,ll,2,1,"div",15),l(21,"p",16),u(22," \xBFRecordaste tu contrase\xF1a? "),l(23,"a",17),u(24," Inicia sesi\xF3n "),d()()()()),t&2){let o,s;c(6),h("formGroup",n.resetForm),c(5),h("ngIf",((o=n.resetForm.get("newPassword"))==null?null:o.invalid)&&((o=n.resetForm.get("newPassword"))==null?null:o.touched)),c(5),h("ngIf",((s=n.resetForm.get("confirmPassword"))==null?null:s.invalid)&&((s=n.resetForm.get("confirmPassword"))==null?null:s.touched)),c(),h("disabled",n.resetForm.invalid),c(2),h("ngIf",n.errorMessage),c(),h("ngIf",n.successMessage),c(3),h("routerLink",lt(7,tl))}},dependencies:[V,ne,Xt,Qt,mt,ut,qt,Yt,Wt,q,X,qe]})}}return r})();var pt=(()=>{class r{constructor(e,t){this.userService=e,this.router=t}canActivate(e){let t=e.data.roles,n=this.userService.getCurrentUser();return n?n.role&&t.includes(n.role)?!0:(this.router.navigate(["/dashboard"]),!1):(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(t){return new(t||r)(G(we),G(re))}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var dl=["*",[["mat-toolbar-row"]]],ml=["*","mat-toolbar-row"],ul=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=Se({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return r})(),Lo=(()=>{class r{constructor(e,t,n){this._elementRef=e,this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||r)(f(de),f(Vt),f(Ge))}}static{this.\u0275cmp=R({type:r,selectors:[["mat-toolbar"]],contentQueries:function(t,n,o){if(t&1&&Pn(o,ul,5),t&2){let s;Me(s=Re())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,n){t&2&&(Hi(n.color?"mat-"+n.color:""),me("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[k],ngContentSelectors:ml,decls:2,vars:0,template:function(t,n){t&1&&(pi(dl),Bt(0),Bt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return r})();var Bo=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({imports:[ue,ue]})}}return r})();var zo=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=R({type:r,selectors:[["app-admin-page"]],standalone:!0,features:[k],decls:7,vars:0,consts:[["color","primary",1,"flex","items-center","justify-between","px-6","py-4","bg-white","shadow-md"],[1,"flex","items-center","space-x-3"],[1,"text-gray-800"],[1,"text-2xl","font-bold","text-gray-800"]],template:function(t,n){t&1&&(l(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),u(3,"admin_panel_settings"),d(),l(4,"h1",3),u(5,"Administraci\xF3n"),d()()(),P(6,"router-outlet"))},dependencies:[X,zt,Bo,Lo,We,$t,he]})}}return r})();var Vo=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({imports:[fo]})}}return r})();var Ho=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({imports:[ue,Vo,ue]})}}return r})(),fl=9007199254740991,an=class extends mo{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new kt([]),this._filter=new kt(""),this._internalPageChanges=new J,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{let n=e[t];if(Zr(n)){let o=Number(n);return o<fl?o:n}return n},this.sortData=(e,t)=>{let n=t.active,o=t.direction;return!n||o==""?e:e.sort((s,a)=>{let m=this.sortingDataAccessor(s,n),p=this.sortingDataAccessor(a,n),y=typeof m,g=typeof p;y!==g&&(y==="number"&&(m+=""),g==="number"&&(p+=""));let x=0;return m!=null&&p!=null?m>p?x=1:m<p&&(x=-1):m!=null?x=1:p!=null&&(x=-1),x*(o=="asc"?1:-1)})},this.filterPredicate=(e,t)=>{let n=Object.keys(e).reduce((s,a)=>s+e[a]+"\u25EC","").toLowerCase(),o=t.trim().toLowerCase();return n.indexOf(o)!=-1},this._data=new kt(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?Pt(this._sort.sortChange,this._sort.initialized):di(null),e=this._paginator?Pt(this._paginator.page,this._internalPageChanges,this._paginator.initialized):di(null),t=this._data,n=Ai([t,this._filter]).pipe(At(([a])=>this._filterData(a))),o=Ai([n,i]).pipe(At(([a])=>this._orderData(a))),s=Ai([o,e]).pipe(At(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var gl=["tooltip"],Qo=20;var Yo=new se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let r=ye(Ee);return()=>r.scrollStrategies.reposition({scrollThrottle:Qo})}});function _l(r){return()=>r.scrollStrategies.reposition({scrollThrottle:Qo})}var yl={provide:Yo,deps:[Ee],useFactory:_l};function vl(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var bl=new se("mat-tooltip-default-options",{providedIn:"root",factory:vl});var Uo="tooltip-panel",Go=Xr({passive:!0}),wl=8,Cl=8,Sl=24,El=200,Wo=(()=>{class r{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=On(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=On(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ut(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ut(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,n,o,s,a,m,p,y,g,x,I){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=m,this._focusMonitor=p,this._dir=g,this._defaultOptions=x,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=xl,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new J,this._injector=ye(ze),this._scrollStrategy=y,this._document=I,x&&(this._showDelay=x.showDelay,this._hideDelay=x.hideDelay,x.position&&(this.position=x.position),x.positionAtOrigin&&(this.positionAtOrigin=x.positionAtOrigin),x.touchGestures&&(this.touchGestures=x.touchGestures),x.tooltipClass&&(this.tooltipClass=x.tooltipClass)),g.change.pipe(rt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=wl}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(rt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,Go)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(t);this._detach(),this._portal=this._portal||new _i(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(rt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof de)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return n.positionChanges.pipe(rt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${Uo}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(rt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(rt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(rt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Ht(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,n=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(Y(Y({},n.main),o.main)),this._addOffset(Y(Y({},n.fallback),o.fallback))])}_addOffset(e){let t=Cl,n=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=n?-t:t:e.originX==="end"&&(e.offsetX=n?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"||t=="below"?n={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"?n={overlayX:"center",overlayY:"bottom"}:t=="below"?n={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Vi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:n,originY:o}=e,s;if(t==="center"?this._dir&&this._dir.value==="rtl"?s=n==="end"?"left":"right":s=n==="start"?"left":"right":s=t==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let m=`${this._cssClassPrefix}-${Uo}-`;a.removePanelClass(m+this._currentPosition),a.addPanelClass(m+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],n=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,n)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let n=t.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,n])=>{this._elementRef.nativeElement.addEventListener(t,n,Go)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,n=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(e==="on"||!t.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(t){return new(t||r)(f(Ee),f(de),f(uo),f(kn),f(Ze),f(Vt),f(Jr),f(Gt),f(Yo),f(fi),f(bl,8),f(Ge))}}static{this.\u0275dir=Se({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,n){t&2&&me("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return r})(),xl=(()=>{class r{constructor(e,t,n){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new J,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=n==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Sl&&e.width>=El}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,n=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:n),t.classList.add(e?n:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(t);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(t){return new(t||r)(f(Ue),f(de),f(Ve,8))}}static{this.\u0275cmp=R({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(t,n){if(t&1&&He(gl,7),t&2){let o;Me(o=Re())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,n){t&1&&S("mouseleave",function(s){return n._handleMouseLeave(s)})},standalone:!0,features:[k],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,n){if(t&1){let o=z();l(0,"div",1,0),S("animationend",function(a){return F(o),N(n._handleAnimationEnd(a))}),l(2,"div",2),u(3),d()()}t&2&&(me("mdc-tooltip--multiline",n._isMultiline),h("ngClass",n.tooltipClass),c(3),O(n.message))},dependencies:[Ui],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return r})();var Ko=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:[yl],imports:[Qi,V,ei,ue,ue,ho]})}}return r})();function Dl(r,i){if(r&1&&(l(0,"mat-option",17),u(1),d()),r&2){let e=i.$implicit;h("value",e),c(),E(" ",e," ")}}function Tl(r,i){if(r&1){let e=z();l(0,"mat-form-field",14)(1,"mat-select",16,0),S("selectionChange",function(n){F(e);let o=_(2);return N(o._changePageSize(n.value))}),Or(3,Dl,2,2,"mat-option",17,Pr),d(),l(5,"div",18),S("click",function(){F(e);let n=at(2);return N(n.open())}),d()()}if(r&2){let e=_(2);h("appearance",e._formFieldAppearance)("color",e.color),c(),h("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),c(2),Fr(e._displayedPageSizeOptions)}}function Il(r,i){if(r&1&&(l(0,"div",15),u(1),d()),r&2){let e=_(2);c(),O(e.pageSize)}}function Ml(r,i){if(r&1&&(l(0,"div",3)(1,"div",13),u(2),d(),v(3,Tl,6,7,"mat-form-field",14)(4,Il,2,1,"div",15),d()),r&2){let e=_();c(),ae("id",e._pageSizeLabelId),c(),E(" ",e._intl.itemsPerPageLabel," "),c(),Je(e._displayedPageSizeOptions.length>1?3:-1),c(),Je(e._displayedPageSizeOptions.length<=1?4:-1)}}function Rl(r,i){if(r&1){let e=z();l(0,"button",19),S("click",function(){F(e);let n=_();return N(n.firstPage())}),je(),l(1,"svg",8),P(2,"path",20),d()()}if(r&2){let e=_();h("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),ae("aria-label",e._intl.firstPageLabel)}}function kl(r,i){if(r&1){let e=z();l(0,"button",21),S("click",function(){F(e);let n=_();return N(n.lastPage())}),je(),l(1,"svg",8),P(2,"path",22),d()()}if(r&2){let e=_();h("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),ae("aria-label",e._intl.lastPageLabel)}}var ln=(()=>{class r{constructor(){this.changes=new J,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(n==0||t==0)return`0 of ${n}`;n=Math.max(n,0);let o=e*t,s=o<n?Math.min(o+t,n):o+t;return`${o+1} \u2013 ${s} of ${n}`}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Al(r){return r||new ln}var Pl={provide:ln,deps:[[new Ni,new Li,ln]],useFactory:Al},Ol=50;var Fl=new se("MAT_PAGINATOR_DEFAULT_OPTIONS"),Nl=0,zn=(()=>{class r{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>tt(t,0)),this._updateDisplayedPageSizeOptions()}constructor(e,t,n){if(this._intl=e,this._changeDetectorRef=t,this._pageSizeLabelId=`mat-paginator-page-size-label-${Nl++}`,this._isInitialized=!1,this._initializedStream=new ki(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Oe,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:o,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:m}=n;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),m!=null&&(this.showFirstLastButtons=m)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,n=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Ol),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(t){return new(t||r)(f(ln),f(Ue),f(Fl,8))}}static{this.\u0275cmp=R({type:r,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",tt],length:[2,"length","length",tt],pageSize:[2,"pageSize","pageSize",tt],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ct],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ct],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ct]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[st,k],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,n){t&1&&(l(0,"div",1)(1,"div",2),v(2,Ml,5,4,"div",3),l(3,"div",4)(4,"div",5),u(5),d(),v(6,Rl,3,5,"button",6),l(7,"button",7),S("click",function(){return n.previousPage()}),je(),l(8,"svg",8),P(9,"path",9),d()(),Ft(),l(10,"button",10),S("click",function(){return n.nextPage()}),je(),l(11,"svg",8),P(12,"path",11),d()(),v(13,kl,3,5,"button",12),d()()()),t&2&&(c(2),Je(n.hidePageSize?-1:2),c(3),E(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),c(),Je(n.showFirstLastButtons?6:-1),c(),h("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),ae("aria-label",n._intl.previousPageLabel),c(3),h("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),ae("aria-label",n._intl.nextPageLabel),c(3),Je(n.showFirstLastButtons?13:-1))},dependencies:[ao,vo,io,oo,Wo],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return r})(),Xo=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:[Pl],imports:[he,Ji,Ko,zn]})}}return r})();var Ll=new se("MAT_SORT_DEFAULT_OPTIONS"),Zo=(()=>{class r{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new ki(1),this.sortables=new Map,this._stateChanges=new J,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Oe,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,n=Bl(e.start||this.start,t),o=n.indexOf(this.direction)+1;return o>=n.length&&(o=0),n[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(t){return new(t||r)(f(Ll,8))}}static{this.\u0275dir=Se({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ct],disabled:[2,"matSortDisabled","disabled",Ct]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[st,Bi]})}}return r})();function Bl(r,i){let e=["asc","desc"];return r=="desc"&&e.reverse(),i||e.push(""),e}var mh=to.ENTERING+" "+eo.STANDARD_CURVE;var Vn=(()=>{class r{constructor(){this.changes=new J}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function jl(r){return r||new Vn}var zl={provide:Vn,deps:[[new Ni,new Li,Vn]],useFactory:jl};var Jo=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:[zl],imports:[ue]})}}return r})();function Vl(r,i){}var St=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Un=(()=>{class r extends _o{constructor(e,t,n,o,s,a,m,p){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=m,this._focusMonitor=p,this._platform=ye(Vt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=ye(Ue),this._injector=ye(ze),this._isDestroyed=!1,this.attachDomPortal=y=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(y);return this._contentAttached(),g},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){this._isDestroyed||Vi(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=Gi(),o=this._elementRef.nativeElement;(!n||n===this._document.body||n===o||o.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=Gi();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Gi()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||r)(f(de),f(qi),f(Ge,8),f(St),f($i),f(Ze),f(Jt),f(Gt))}}static{this.\u0275cmp=R({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&He(yi,7),t&2){let o;Me(o=Re())&&(n._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&ae("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[ot,k],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&v(0,Vl,0,0,"ng-template",0)},dependencies:[yi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return r})(),wi=class{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new J,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Ht(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(i),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Hl=new se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let r=ye(Ee);return()=>r.scrollStrategies.block()}}),Ul=new se("DialogData"),Gl=new se("DefaultDialogConfig");var $l=0,Gn=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,n,o,s,a){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this._ariaHiddenElements=new Map,this.afterAllClosed=Pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fi(void 0))),this._scrollStrategy=a}open(e,t){let n=this._defaultOptions||new St;t=Y(Y({},n),t),t.id=t.id||`cdk-dialog-${$l++}`,t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),s=this._overlay.create(o),a=new wi(s,t),m=this._attachContainer(s,a,t);return a.containerInstance=m,this._attachDialogContent(e,a,m,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Hn(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Hn(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Hn(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new yo({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,n){let o=n.injector||n.viewContainerRef?.injector,s=[{provide:St,useValue:n},{provide:wi,useValue:t},{provide:Jt,useValue:e}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,s.push(...n.container.providers(n))):a=Un;let m=new _i(a,n.viewContainerRef,ze.create({parent:o||this._injector,providers:s}),n.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,t,n,o){if(e instanceof Rn){let s=this._createInjector(o,t,n,void 0),a={$implicit:o.data,dialogRef:t};o.templateContext&&(a=Y(Y({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),n.attachTemplatePortal(new go(e,null,a,s))}else{let s=this._createInjector(o,t,n,this._injector),a=n.attachComponentPortal(new _i(e,o.viewContainerRef,s,o.componentFactoryResolver));t.componentRef=a,t.componentInstance=a.instance}}_createInjector(e,t,n,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:Ul,useValue:e.data},{provide:wi,useValue:t}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(t,e,n)):a.push(...e.providers)),e.direction&&(!s||!s.get(fi,null,{optional:!0}))&&a.push({provide:fi,useValue:{value:e.direction,change:di()}}),ze.create({parent:s||o,providers:a})}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let o=t[n];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||r)(G(Ee),G(ze),G(Gl,8),G(r,12),G(Zi),G(Hl))}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Hn(r,i){let e=r.length;for(;e--;)i(r[e])}var es=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:[Gn],imports:[ei,vi,Qi,vi]})}}return r})();function ql(r,i){}var Ci=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},$n="mdc-dialog--open",ts="mdc-dialog--opening",is="mdc-dialog--closing",Ql=150,Yl=75,Wl=(()=>{class r extends Un{constructor(e,t,n,o,s,a,m,p,y){super(e,t,n,o,s,a,m,y),this._animationMode=p,this._animationStateChanged=new Oe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?rs(this._config.enterAnimationDuration)??Ql:0,this._exitAnimationDuration=this._animationsEnabled?rs(this._config.exitAnimationDuration)??Yl:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ns,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ts,$n)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add($n),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove($n),this._animationsEnabled?(this._hostElement.style.setProperty(ns,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(is)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ts,is)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||r)(f(de),f(qi),f(Ge,8),f(Ci),f($i),f(Ze),f(Jt),f(Ve,8),f(Gt))}}static{this.\u0275cmp=R({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,n){t&2&&(An("id",n._config.id),ae("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),me("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},standalone:!0,features:[ot,k],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),v(2,ql,0,0,"ng-template",2),d()())},dependencies:[yi],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return r})(),ns="--mat-dialog-transition-duration";function rs(r){return r==null?null:typeof r=="number"?r:r.endsWith("ms")?Ut(r.substring(0,r.length-2)):r.endsWith("s")?Ut(r.substring(0,r.length-1))*1e3:r==="0"?0:null}var cn=function(r){return r[r.OPEN=0]="OPEN",r[r.CLOSING=1]="CLOSING",r[r.CLOSED=2]="CLOSED",r}(cn||{}),si=class{constructor(i,e,t){this._ref=i,this._containerInstance=t,this._afterOpened=new J,this._beforeClosed=new J,this._state=cn.OPEN,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(ui(n=>n.state==="opened"),Ot(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ui(n=>n.state==="closed"),Ot(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Pt(this.backdropClick(),this.keydownEvents().pipe(ui(n=>n.keyCode===27&&!this.disableClose&&!Ht(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),Kl(this,n.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(ui(e=>e.state==="closing"),Ot(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=cn.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=cn.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Kl(r,i,e){return r._closeInteractionType=i,r.close(e)}var qn=new se("MatMdcDialogData"),Xl=new se("mat-mdc-dialog-default-options"),Zl=new se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let r=ye(Ee);return()=>r.scrollStrategies.block()}});var Jl=0,ai=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,n,o,s,a,m,p){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this.dialogConfigClass=Ci,this.afterAllClosed=Pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fi(void 0))),this._dialog=t.get(Gn),this._dialogRefConstructor=si,this._dialogContainerType=Wl,this._dialogDataToken=qn}open(e,t){let n;t=Y(Y({},this._defaultOptions||new Ci),t),t.id=t.id||`mat-mdc-dialog-${Jl++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Ri(Y({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:St,useValue:t}]},templateContext:()=>({dialogRef:n}),providers:(s,a,m)=>(n=new this._dialogRefConstructor(s,t,m),n.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=o.componentRef,n.componentInstance=o.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||r)(G(Ee),G(ze),G(Lr,8),G(Xl,8),G(Zl),G(r,12),G(Zi),G(Ve,8))}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ec=0;var os=(()=>{class r{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n}ngOnInit(){this._dialogRef||(this._dialogRef=tc(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||r)(f(si,8),f(de),f(ai))}}static{this.\u0275dir=Se({type:r,standalone:!0})}}return r})(),ss=(()=>{class r extends os{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${ec++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ji(r)))(n||r)}})()}static{this.\u0275dir=Se({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,n){t&2&&An("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ot]})}}return r})(),as=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=Se({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[Ar([po])]})}}return r})(),ls=(()=>{class r extends os{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ji(r)))(n||r)}})()}static{this.\u0275dir=Se({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,n){t&2&&me("mat-mdc-dialog-actions-align-start",n.align==="start")("mat-mdc-dialog-actions-align-center",n.align==="center")("mat-mdc-dialog-actions-align-end",n.align==="end")},inputs:{align:"align"},standalone:!0,features:[ot]})}}return r})();function tc(r,i){let e=r.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(t=>t.id===e.id):null}var cs=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:[ai],imports:[es,ei,vi,ue,ue]})}}return r})();var dn=(()=>{class r{constructor(e,t){this.data=e,this.dialogRef=t}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(t){return new(t||r)(f(qn),f(si))}}static{this.\u0275cmp=R({type:r,selectors:[["app-confirm-dialog"]],standalone:!0,features:[k],decls:10,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){t&1&&(l(0,"h2",0),u(1),d(),l(2,"mat-dialog-content")(3,"p"),u(4),d()(),l(5,"mat-dialog-actions",1)(6,"button",2),S("click",function(){return n.onCancel()}),u(7,"Cancelar"),d(),l(8,"button",3),S("click",function(){return n.onConfirm()}),u(9,"Eliminar"),d()()),t&2&&(c(),O(n.data.title),c(3),O(n.data.message))},dependencies:[V,cs,ss,ls,as,he,Ye]})}}return r})();function nc(r,i){if(r&1){let e=z();l(0,"div",9)(1,"div",10)(2,"div",11),u(3),d(),l(4,"div",12),u(5),d(),l(6,"div",13),u(7),d()(),l(8,"div",14)(9,"button",15),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onView(n))}),l(10,"mat-icon"),u(11,"visibility"),d()(),l(12,"button",15),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onEdit(n))}),l(13,"mat-icon"),u(14,"edit"),d()(),l(15,"button",16),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onDelete(n))}),l(16,"mat-icon"),u(17,"delete"),d()()()()}if(r&2){let e=i.$implicit;c(3),hi("",e.name," ",e.surname,""),c(2),O(e.email),c(2),O(e.role||"\u2014")}}var ds=(()=>{class r{constructor(e,t,n,o){this.userService=e,this.snackBar=t,this.dialog=n,this.router=o,this.users=new an,this.displayedColumns=["name","email","role","actions"],this.totalPages=1,this.currentPage=0,this.pageSize=15}ngOnInit(){}ngAfterViewInit(){this.users.paginator=this.paginator,this.users.sort=this.sort,this.loadUsers()}loadUsers(){let e=this.currentPage,t=this.pageSize,n=this.sort?.active&&this.sort?.direction?`${this.sort.active},${this.sort.direction}`:"id,asc",o=this.userService.getCurrentUser(),s=o?.role===U.COMPANY_ADMIN?o.company?.id:void 0;this.userService.getUsers(e,t,n,void 0,s).subscribe({next:a=>{let m=(a.content??[]).filter(y=>y.id!==o?.id);this.users.data=m;let p=a.totalElements??m.length;this.totalPages=Math.ceil(p/t)},error:a=>console.error("\u274C Error al cargar usuarios",a)})}previousPage(){this.currentPage>0&&(this.currentPage--,this.loadUsers())}nextPage(){this.currentPage+1<this.totalPages&&(this.currentPage++,this.loadUsers())}onEdit(e){this.router.navigate(["/admin/user-form/",e.id])}addUser(){this.router.navigate(["/admin/user-form"])}onView(e){this.router.navigate(["/profile",e.id])}onDelete(e){this.dialog.open(dn,{width:"400px",data:{title:"Eliminar usuario",message:`\xBFEst\xE1s seguro de que quieres eliminar a ${e.name}?`}}).afterClosed().subscribe(n=>{n&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Usuario eliminado","Cerrar",{duration:3e3}),this.currentPage=0,this.loadUsers()},error:o=>{console.error("\u274C Error al eliminar usuario",o),this.snackBar.open("\u274C Error al eliminar usuario","Cerrar",{duration:3e3})}})})}applyFilter(e){let t=e.target.value;this.users.filter=t.trim().toLowerCase()}static{this.\u0275fac=function(t){return new(t||r)(f(we),f(en),f(ai),f(re))}}static{this.\u0275cmp=R({type:r,selectors:[["app-admin-users"]],viewQuery:function(t,n){if(t&1&&(He(zn,5),He(Zo,5)),t&2){let o;Me(o=Re())&&(n.paginator=o.first),Me(o=Re())&&(n.sort=o.first)}},standalone:!0,features:[k],decls:16,vars:5,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar usuario...",1,"border","rounded","px-3","py-2","w-64",3,"keyup"],["mat-raised-button","","color","accent",3,"click"],[1,"mr-1"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-center","items-center","gap-2"],["mat-stroked-button","",3,"click","disabled"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"text-gray-500"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","",1,"bg-red-400","hover:bg-red-500","text-white",3,"click"]],template:function(t,n){t&1&&(l(0,"mat-card",0)(1,"div",1)(2,"input",2),S("keyup",function(s){return n.applyFilter(s)}),d(),l(3,"button",3),S("click",function(){return n.addUser()}),l(4,"mat-icon",4),u(5,"add"),d(),u(6," Nuevo usuario "),d()(),l(7,"div",5),v(8,nc,18,4,"div",6),d(),l(9,"div",7)(10,"button",8),S("click",function(){return n.previousPage()}),u(11," Anterior "),d(),l(12,"span"),u(13),d(),l(14,"button",8),S("click",function(){return n.nextPage()}),u(15," Siguiente "),d()()()),t&2&&(c(8),h("ngForOf",n.users.data),c(2),h("disabled",n.currentPage===0),c(3),hi("",n.currentPage+1," / ",n.totalPages,""),c(),h("disabled",n.currentPage+1>=n.totalPages))},dependencies:[V,$e,X,Ae,Qe,Ho,he,Ye,Yi,We,$t,ti,Xo,Jo]})}}return r})();function oc(r,i){if(r&1){let e=z();l(0,"div",9)(1,"div",10)(2,"div",11),u(3),d(),l(4,"div",12),u(5),d()(),l(6,"div",13)(7,"button",14),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onView(n))}),l(8,"mat-icon"),u(9,"visibility"),d()(),l(10,"button",15),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onEdit(n))}),l(11,"mat-icon"),u(12,"edit"),d()(),l(13,"button",16),S("click",function(){let n=F(e).$implicit,o=_();return N(o.onDelete(n))}),l(14,"mat-icon"),u(15,"delete"),d()()()()}if(r&2){let e=i.$implicit;c(3),O(e.name),c(2),O(e.address||"\u2014")}}var ms=(()=>{class r{constructor(e,t,n,o,s){this.companyService=e,this.userService=t,this.snackBar=n,this.dialog=o,this.router=s,this.companies=[],this.filteredCompanies=[],this.currentPage=0,this.pageSize=5,this.totalPages=1,this.filterText=""}ngOnInit(){this.loadCompanies()}loadCompanies(){let e=this.userService.getCurrentUser();this.companyService.getAllCompanies().subscribe({next:t=>{if(e?.role===U.COMPANY_ADMIN&&e.company?.id!=null){let n=e.company.id;this.companies=t.filter(o=>o.id===n)}else this.companies=t;this.applyFilter()},error:t=>console.error("\u274C Error al cargar compa\xF1\xEDas",t)})}applyFilter(){let e=this.filterText.trim().toLowerCase();this.filteredCompanies=this.companies.filter(t=>(t.name||"").toLowerCase().includes(e)||(t.address||"").toLowerCase().includes(e)),this.currentPage=0,this.totalPages=Math.ceil(this.filteredCompanies.length/this.pageSize)}getPagedCompanies(){let e=this.currentPage*this.pageSize;return this.filteredCompanies.slice(e,e+this.pageSize)}previousPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage+1<this.totalPages&&this.currentPage++}addCompany(){this.router.navigate(["/admin/company-form"])}onEdit(e){this.router.navigate(["/admin/company-form",e.id])}onView(e){this.router.navigate(["/company",e.id])}onDelete(e){if(!e.id)return;this.dialog.open(dn,{width:"400px",data:{title:"Eliminar compa\xF1\xEDa",message:`\xBFEst\xE1s seguro de que quieres eliminar ${e.name}?`}}).afterClosed().subscribe(n=>{n&&e.id!==void 0&&this.companyService.deleteCompany(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Compa\xF1\xEDa eliminada","Cerrar",{duration:3e3}),this.loadCompanies()},error:o=>{console.error("Error al eliminar compa\xF1\xEDa",o),this.snackBar.open("\u274C Error al eliminar compa\xF1\xEDa","Cerrar",{duration:3e3})}})})}static{this.\u0275fac=function(t){return new(t||r)(f(tn),f(we),f(en),f(ai),f(re))}}static{this.\u0275cmp=R({type:r,selectors:[["app-admin-companies"]],standalone:!0,features:[k],decls:16,vars:6,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar compa\xF1\xEDa...",1,"border","rounded","px-3","py-2","w-64",3,"ngModelChange","keyup","ngModel"],["mat-raised-button","","color","accent",3,"click"],[1,"mr-1"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-center","items-center","gap-2"],["mat-stroked-button","",3,"click","disabled"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-blue-500","hover:bg-blue-600","text-white",3,"click"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(t,n){t&1&&(l(0,"mat-card",0)(1,"div",1)(2,"input",2),bt("ngModelChange",function(s){return vt(n.filterText,s)||(n.filterText=s),s}),S("keyup",function(){return n.applyFilter()}),d(),l(3,"button",3),S("click",function(){return n.addCompany()}),l(4,"mat-icon",4),u(5,"add"),d(),u(6," Nueva compa\xF1\xEDa "),d()(),l(7,"div",5),v(8,oc,16,2,"div",6),d(),l(9,"div",7)(10,"button",8),S("click",function(){return n.previousPage()}),u(11," Anterior "),d(),l(12,"span"),u(13),d(),l(14,"button",8),S("click",function(){return n.nextPage()}),u(15," Siguiente "),d()()()),t&2&&(c(2),yt("ngModel",n.filterText),c(6),h("ngForOf",n.getPagedCompanies()),c(2),h("disabled",n.currentPage===0),c(3),hi("",n.currentPage+1," / ",n.totalPages,""),c(),h("disabled",n.currentPage+1>=n.totalPages))},dependencies:[V,$e,X,Ae,Qe,he,Ye,Yi,We,$t,Ki,mt,ut,Wi]})}}return r})();function sc(r,i){if(r&1){let e=z();l(0,"div",7)(1,"button",8),S("click",function(){F(e);let n=_(2);return N(n.goToEditForm())}),u(2," Editar "),d()()}}function ac(r,i){if(r&1&&(l(0,"div",24)(1,"div",25)(2,"div",26),u(3),d(),l(4,"div",27)(5,"div",13),P(6,"canvas",28),d(),l(7,"div",13),P(8,"canvas",28),d(),l(9,"div",16)(10,"div",29),u(11),b(12,"number"),d(),l(13,"div",18),u(14,"Toneladas de CO\u2082"),d(),l(15,"div",19),u(16),d()()()()()),r&2){let e=i.$implicit,t=_(4);c(3),O(e.year),c(3),h("id",e.emitidoRef),c(2),h("id",e.compensadoRef),c(2),h("ngClass",t.getNetColorClass(e.totalEmissions,e.totalCompensations)),c(),E(" ",wt(12,6,e.totalEmissions-e.totalCompensations,"1.0-0")," "),c(5),E(" Compensaste el ",t.getCompensatedPercentage(e.totalEmissions,e.totalCompensations),"% de tus emisiones ")}}function lc(r,i){if(r&1&&(l(0,"div",21)(1,"h3",22),u(2,"A\xF1os anteriores"),d(),v(3,ac,17,9,"div",23),d()),r&2){let e=_(3);c(3),h("ngForOf",e.co2Years.slice(1))}}function cc(r,i){if(r&1&&(l(0,"div",9)(1,"div",10)(2,"h3",11),u(3,"\xDAltimo a\xF1o registrado"),d(),l(4,"h4",11),u(5),d(),l(6,"div",12)(7,"div",13)(8,"div",14),u(9,"Emisiones"),d(),P(10,"canvas",15),d(),l(11,"div",13)(12,"div",14),u(13,"Compensaciones"),d(),P(14,"canvas",15),d(),l(15,"div",16)(16,"div",14),u(17,"Valor Neto"),d(),l(18,"div",17),u(19),b(20,"number"),d(),l(21,"div",18),u(22,"Toneladas de CO\u2082"),d(),l(23,"div",19),u(24),d()()()(),v(25,lc,4,1,"div",20),d()),r&2){let e=_(2);c(5),O(e.co2Years[0].year),c(5),h("id",e.co2Years[0].emitidoRef),c(4),h("id",e.co2Years[0].compensadoRef),c(4),h("ngClass",e.getNetColorClass(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations)),c(),E(" ",wt(20,7,e.co2Years[0].totalEmissions-e.co2Years[0].totalCompensations,"1.0-0")," "),c(5),E(" (Compensaste el ",e.getCompensatedPercentage(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations),"% de tus emisiones) "),c(),h("ngIf",e.co2Years.length>1)}}function dc(r,i){if(r&1&&(l(0,"mat-card",1),P(1,"img",2),l(2,"h2",3),u(3),d(),l(4,"p",4),u(5),d(),v(6,sc,3,0,"div",5)(7,cc,26,10,"div",6),d()),r&2){let e=_();c(),h("src",e.previewImage||e.company.picture||"assets/company_profile.png",zi),c(2),O(e.company.name),c(2),O(e.company.address),c(),h("ngIf",(e.user==null?null:e.user.role)==="COMPANY_ADMIN"||e.isEditable),c(),h("ngIf",e.co2Years==null?null:e.co2Years.length)}}var Yn=(()=>{class r{constructor(e,t,n,o,s){this.userService=e,this.companyService=t,this.router=n,this.route=o,this.cdr=s,this.co2Years=[],this.chartsMap={},this.isEditable=!1,Ln.register(bo,wo,So,Co)}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.isEditable=!0,this.companyService.getCompanyById(+e).subscribe({next:t=>{this.company=t,this.company&&this.prepareCO2Years()},error:t=>{console.error("Error cargando la compa\xF1\xEDa por ID:",t)}})):this.userService.getUser().subscribe({next:t=>{this.user=t,t?.company?.id?this.companyService.getCompanyById(t.company.id).subscribe({next:n=>{this.company=n,this.company&&this.prepareCO2Years()},error:n=>{console.error("Error cargando la compa\xF1\xEDa del usuario:",n)}}):console.warn("El usuario no tiene compa\xF1\xEDa asignada")},error:t=>{console.error("Error cargando el usuario:",t)}})}ngAfterViewInit(){this.co2Years?.length&&setTimeout(()=>this.renderCO2Charts(),50)}prepareCO2Years(){if(!this.company?.co2?.length)return;let e=[...this.company.co2].filter(t=>t.year!==void 0).sort((t,n)=>n.year-t.year);this.co2Years=e.map(t=>Ri(Y({},t),{totalEmissions:t.totalEmissions||0,totalCompensations:t.totalCompensations||0,net:(t.totalEmissions||0)-(t.totalCompensations||0),emitidoRef:`emitido-${t.year}`,compensadoRef:`compensado-${t.year}`,netoRef:`neto-${t.year}`})),this.cdr.detectChanges(),setTimeout(()=>this.renderCO2Charts(),100)}goToEditForm(){let e=this.company?.id||this.user?.company?.id;e&&this.router.navigate(["/company/form",e])}renderCO2Charts(){this.co2Years.forEach((e,t)=>{["emitidoRef","compensadoRef","netoRef"].forEach(n=>{let o=document.getElementById(e[n]);if(!o)return;let s=t===0?200:80;o.width=s,o.height=s;let a=n==="emitidoRef"?e.totalEmissions:n==="compensadoRef"?e.totalCompensations:e.net,m=n==="emitidoRef"?"#fc4d03ff":n==="compensadoRef"?"#89de8cff":"#2c80c5cf";this.createDonutChart(o,a,m,e.totalEmissions||1)})})}createDonutChart(e,t,n,o){let s=e.getContext("2d");if(!s)return;this.chartsMap[e.id]&&this.chartsMap[e.id].destroy();let a=t/(o>0?o:1)*100,m={datasets:[{data:[a,100-a],backgroundColor:[n,"#e0e0e0"],cutout:"75%",borderWidth:0}]},p={id:"centerText",beforeDraw:y=>{let{ctx:g,width:x,height:I}=y;g&&(g.save(),g.font=`${I/100*20}px sans-serif`,g.fillStyle="#333",g.textBaseline="middle",g.fillText(`${t}`,x/2-g.measureText(`${t}`).width/2,I/2-10),g.font=`${I/100*8}px sans-serif`,g.fillStyle="#666",g.fillText("Toneladas de CO\u2082",x/2-g.measureText("Toneladas de CO\u2082").width/2,I/2+15),g.restore())}};this.chartsMap[e.id]=new Ln(s,{type:"doughnut",data:m,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}},animation:{animateRotate:!0,animateScale:!0}},plugins:[p]})}getNetColorClass(e,t){let n=e-t,o=e>0?n/e:1;return o<.5?"net-yellow":o<=1?"net-red":"net-green"}getCompensatedPercentage(e,t){return e?(t/e*100).toFixed(0):"0"}static{this.\u0275fac=function(t){return new(t||r)(f(we),f(tn),f(re),f(ct),f(Ue))}}static{this.\u0275cmp=R({type:r,selectors:[["app-company"]],standalone:!0,features:[k],decls:1,vars:1,consts:[["class","rounded-2xl shadow-md p-4 flex flex-col items-center text-center",4,"ngIf"],[1,"rounded-2xl","shadow-md","p-4","flex","flex-col","items-center","text-center"],["alt","Logo",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","flex gap-2 mt-4",4,"ngIf"],["class","w-full mt-6",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","mt-6"],[1,"mb-8"],[1,"text-lg","font-semibold"],[1,"co2-container","flex","justify-center","gap-4","mt-4","items-center"],[1,"donut-wrapper"],[1,"donut-label"],[1,"donut-large",3,"id"],[1,"donut-wrapper","neto-wrapper"],[1,"donut-neto","text-4xl","font-bold",3,"ngClass"],[1,"donut-neto-unit"],[1,"donut-neto-info"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"text-left","font-semibold","mb-2"],["class","co2-year-row flex flex-col items-start gap-2 mb-4 w-full",4,"ngFor","ngForOf"],[1,"co2-year-row","flex","flex-col","items-start","gap-2","mb-4","w-full"],[1,"flex","items-center","gap-4","w-full"],[1,"w-16","font-bold"],[1,"co2-container","flex","gap-4","items-center"],[1,"donut-small",3,"id"],[1,"donut-neto",3,"ngClass"]],template:function(t,n){t&1&&v(0,dc,8,5,"mat-card",0),t&2&&h("ngIf",n.company)},dependencies:[V,Ui,$e,ne,zr,Ae,Qe,he,Ye,X],encapsulation:2})}}return r})();var us=[{path:"login",component:Oo},{path:"register",component:Po},{path:"verify-email",component:Fo},{path:"reset-password",component:No},{path:"",component:Ro,canActivate:[oi],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ko},{path:"profile",component:Bn},{path:"profile/:id",component:Bn,canActivate:[oi]},{path:"profile/edit/:id",loadComponent:()=>import("./chunk-EQPULLC4.js").then(r=>r.UserFormComponent),canActivate:[oi]},{path:"company",component:Yn},{path:"company/:id",component:Yn,canActivate:[oi]},{path:"company/form/:id",loadComponent:()=>import("./chunk-JUT2GQGS.js").then(r=>r.CompanyFormComponent),canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}},{path:"settings",component:Ao},{path:"admin",component:zo,canActivate:[oi],children:[{path:"users",component:ds,canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}},{path:"user-form",loadComponent:()=>import("./chunk-EQPULLC4.js").then(r=>r.UserFormComponent),canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}},{path:"user-form/:id",loadComponent:()=>import("./chunk-EQPULLC4.js").then(r=>r.UserFormComponent),canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}},{path:"companies",component:ms,canActivate:[pt],data:{roles:[U.ADMIN]}},{path:"company-form",loadComponent:()=>import("./chunk-JUT2GQGS.js").then(r=>r.CompanyFormComponent),canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}},{path:"company-form/:id",loadComponent:()=>import("./chunk-JUT2GQGS.js").then(r=>r.CompanyFormComponent),canActivate:[pt],data:{roles:[U.ADMIN,U.COMPANY_ADMIN]}}]}]},{path:"**",redirectTo:"login"}];function ps(r){return new j(3e3,!1)}function mc(){return new j(3100,!1)}function uc(){return new j(3101,!1)}function pc(r){return new j(3001,!1)}function hc(r){return new j(3003,!1)}function fc(r){return new j(3004,!1)}function gc(r,i){return new j(3005,!1)}function _c(){return new j(3006,!1)}function yc(){return new j(3007,!1)}function vc(r,i){return new j(3008,!1)}function bc(r){return new j(3002,!1)}function wc(r,i,e,t,n){return new j(3010,!1)}function Cc(){return new j(3011,!1)}function Sc(){return new j(3012,!1)}function Ec(){return new j(3200,!1)}function xc(){return new j(3202,!1)}function Dc(){return new j(3013,!1)}function Tc(r){return new j(3014,!1)}function Ic(r){return new j(3015,!1)}function Mc(r){return new j(3016,!1)}function Rc(r,i){return new j(3404,!1)}function kc(r){return new j(3502,!1)}function Ac(r){return new j(3503,!1)}function Pc(){return new j(3300,!1)}function Oc(r){return new j(3504,!1)}function Fc(r){return new j(3301,!1)}function Nc(r,i){return new j(3302,!1)}function Lc(r){return new j(3303,!1)}function Bc(r,i){return new j(3400,!1)}function jc(r){return new j(3401,!1)}function zc(r){return new j(3402,!1)}function Vc(r,i){return new j(3505,!1)}function ht(r){switch(r.length){case 0:return new Zt;case 1:return r[0];default:return new Nn(r)}}function Ts(r,i,e=new Map,t=new Map){let n=[],o=[],s=-1,a=null;if(i.forEach(m=>{let p=m.get("offset"),y=p==s,g=y&&a||new Map;m.forEach((x,I)=>{let D=I,A=x;if(I!=="offset")switch(D=r.normalizePropertyName(D,n),A){case Xi:A=e.get(I);break;case Ke:A=t.get(I);break;default:A=r.normalizeStyleValue(I,D,A,n);break}g.set(D,A)}),y||o.push(g),a=g,s=p}),n.length)throw kc(n);return o}function _r(r,i,e,t){switch(i){case"start":r.onStart(()=>t(e&&Wn(e,"start",r)));break;case"done":r.onDone(()=>t(e&&Wn(e,"done",r)));break;case"destroy":r.onDestroy(()=>t(e&&Wn(e,"destroy",r)));break}}function Wn(r,i,e){let t=e.totalTime,n=!!e.disabled,o=yr(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,t??r.totalTime,n),s=r._data;return s!=null&&(o._data=s),o}function yr(r,i,e,t,n="",o=0,s){return{element:r,triggerName:i,fromState:e,toState:t,phaseName:n,totalTime:o,disabled:!!s}}function Te(r,i,e){let t=r.get(i);return t||r.set(i,t=e),t}function hs(r){let i=r.indexOf(":"),e=r.substring(1,i),t=r.slice(i+1);return[e,t]}var Hc=typeof document>"u"?null:document.documentElement;function vr(r){let i=r.parentNode||r.host||null;return i===Hc?null:i}function Uc(r){return r.substring(1,6)=="ebkit"}var Et=null,fs=!1;function Gc(r){Et||(Et=$c()||{},fs=Et.style?"WebkitAppearance"in Et.style:!1);let i=!0;return Et.style&&!Uc(r)&&(i=r in Et.style,!i&&fs&&(i="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Et.style)),i}function $c(){return typeof document<"u"?document.body:null}function Is(r,i){for(;i;){if(i===r)return!0;i=vr(i)}return!1}function Ms(r,i,e){if(e)return Array.from(r.querySelectorAll(i));let t=r.querySelector(i);return t?[t]:[]}var br=(()=>{class r{validateStyleProperty(e){return Gc(e)}containsElement(e,t){return Is(e,t)}getParentElement(e){return vr(e)}query(e,t,n){return Ms(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,o,s,a=[],m){return new Zt(n,o)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac})}}return r})(),Tt=class{static{this.NOOP=new br}},It=class{};var qc=1e3,Rs="{{",Qc="}}",ks="ng-enter",tr="ng-leave",mn="ng-trigger",gn=".ng-trigger",gs="ng-animating",ir=".ng-animating";function it(r){if(typeof r=="number")return r;let i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:nr(parseFloat(i[1]),i[2])}function nr(r,i){switch(i){case"s":return r*qc;default:return r}}function _n(r,i,e){return r.hasOwnProperty("duration")?r:Yc(r,i,e)}function Yc(r,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,s="";if(typeof r=="string"){let a=r.match(t);if(a===null)return i.push(ps(r)),{duration:0,delay:0,easing:""};n=nr(parseFloat(a[1]),a[2]);let m=a[3];m!=null&&(o=nr(parseFloat(m),a[4]));let p=a[5];p&&(s=p)}else n=r;if(!e){let a=!1,m=i.length;n<0&&(i.push(mc()),a=!0),o<0&&(i.push(uc()),a=!0),a&&i.splice(m,0,ps(r))}return{duration:n,delay:o,easing:s}}function Wc(r){return r.length?r[0]instanceof Map?r:r.map(i=>new Map(Object.entries(i))):[]}function Xe(r,i,e){i.forEach((t,n)=>{let o=wr(n);e&&!e.has(n)&&e.set(n,r.style[o]),r.style[o]=t})}function Dt(r,i){i.forEach((e,t)=>{let n=wr(t);r.style[n]=""})}function Si(r){return Array.isArray(r)?r.length==1?r[0]:so(r):r}function Kc(r,i,e){let t=i.params||{},n=As(r);n.length&&n.forEach(o=>{t.hasOwnProperty(o)||e.push(pc(o))})}var rr=new RegExp(`${Rs}\\s*(.+?)\\s*${Qc}`,"g");function As(r){let i=[];if(typeof r=="string"){let e;for(;e=rr.exec(r);)i.push(e[1]);rr.lastIndex=0}return i}function xi(r,i,e){let t=`${r}`,n=t.replace(rr,(o,s)=>{let a=i[s];return a==null&&(e.push(hc(s)),a=""),a.toString()});return n==t?r:n}var Xc=/-+([a-z0-9])/g;function wr(r){return r.replace(Xc,(...i)=>i[1].toUpperCase())}function Zc(r,i){return r===0||i===0}function Jc(r,i,e){if(e.size&&i.length){let t=i[0],n=[];if(e.forEach((o,s)=>{t.has(s)||n.push(s),t.set(s,o)}),n.length)for(let o=1;o<i.length;o++){let s=i[o];n.forEach(a=>s.set(a,Cr(r,a)))}}return i}function De(r,i,e){switch(i.type){case L.Trigger:return r.visitTrigger(i,e);case L.State:return r.visitState(i,e);case L.Transition:return r.visitTransition(i,e);case L.Sequence:return r.visitSequence(i,e);case L.Group:return r.visitGroup(i,e);case L.Animate:return r.visitAnimate(i,e);case L.Keyframes:return r.visitKeyframes(i,e);case L.Style:return r.visitStyle(i,e);case L.Reference:return r.visitReference(i,e);case L.AnimateChild:return r.visitAnimateChild(i,e);case L.AnimateRef:return r.visitAnimateRef(i,e);case L.Query:return r.visitQuery(i,e);case L.Stagger:return r.visitStagger(i,e);default:throw fc(i.type)}}function Cr(r,i){return window.getComputedStyle(r)[i]}var ed=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yn=class extends It{normalizePropertyName(i,e){return wr(i)}normalizeStyleValue(i,e,t,n){let o="",s=t.toString().trim();if(ed.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(gc(i,t))}return s+o}};var vn="*";function td(r,i){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(t=>id(t,e,i)):e.push(r),e}function id(r,i,e){if(r[0]==":"){let m=nd(r,e);if(typeof m=="function"){i.push(m);return}r=m}let t=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(Ic(r)),i;let n=t[1],o=t[2],s=t[3];i.push(_s(n,s));let a=n==vn&&s==vn;o[0]=="<"&&!a&&i.push(_s(s,n))}function nd(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(Mc(r)),"* => *"}}var un=new Set(["true","1"]),pn=new Set(["false","0"]);function _s(r,i){let e=un.has(r)||pn.has(r),t=un.has(i)||pn.has(i);return(n,o)=>{let s=r==vn||r==n,a=i==vn||i==o;return!s&&e&&typeof n=="boolean"&&(s=n?un.has(r):pn.has(r)),!a&&t&&typeof o=="boolean"&&(a=o?un.has(i):pn.has(i)),s&&a}}var Ps=":self",rd=new RegExp(`s*${Ps}s*,?`,"g");function Os(r,i,e,t){return new or(r).build(i,e,t)}var ys="",or=class{constructor(i){this._driver=i}build(i,e,t){let n=new sr(e);return this._resetContextStyleTimingState(n),De(this,Si(i),n)}_resetContextStyleTimingState(i){i.currentQuerySelector=ys,i.collectedStyles=new Map,i.collectedStyles.set(ys,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,n=e.depCount=0,o=[],s=[];return i.name.charAt(0)=="@"&&e.errors.push(_c()),i.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==L.State){let m=a,p=m.name;p.toString().split(/\s*,\s*/).forEach(y=>{m.name=y,o.push(this.visitState(m,e))}),m.name=p}else if(a.type==L.Transition){let m=this.visitTransition(a,e);t+=m.queryCount,n+=m.depCount,s.push(m)}else e.errors.push(yc())}),{type:L.Trigger,name:i.name,states:o,transitions:s,queryCount:t,depCount:n,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),n=i.options&&i.options.params||null;if(t.containsDynamicStyles){let o=new Set,s=n||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(m=>{As(m).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}),o.size&&e.errors.push(vc(i.name,[...o.values()]))}return{type:L.State,name:i.name,style:t,options:n?{params:n}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=De(this,Si(i.animation),e),n=td(i.expr,e.errors);return{type:L.Transition,matchers:n,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:xt(i.options)}}visitSequence(i,e){return{type:L.Sequence,steps:i.steps.map(t=>De(this,t,e)),options:xt(i.options)}}visitGroup(i,e){let t=e.currentTime,n=0,o=i.steps.map(s=>{e.currentTime=t;let a=De(this,s,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:L.Group,steps:o,options:xt(i.options)}}visitAnimate(i,e){let t=ld(i.timings,e.errors);e.currentAnimateTimings=t;let n,o=i.styles?i.styles:Fn({});if(o.type==L.Keyframes)n=this.visitKeyframes(o,e);else{let s=i.styles,a=!1;if(!s){a=!0;let p={};t.easing&&(p.easing=t.easing),s=Fn(p)}e.currentTime+=t.duration+t.delay;let m=this.visitStyle(s,e);m.isEmptyStep=a,n=m}return e.currentAnimateTimings=null,{type:L.Animate,timings:t,style:n,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],n=Array.isArray(i.styles)?i.styles:[i.styles];for(let a of n)typeof a=="string"?a===Ke?t.push(a):e.errors.push(bc(a)):t.push(new Map(Object.entries(a)));let o=!1,s=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let m of a.values())if(m.toString().indexOf(Rs)>=0){o=!0;break}}}),{type:L.Style,styles:t,easing:s,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),i.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,m)=>{let p=e.collectedStyles.get(e.currentQuerySelector),y=p.get(m),g=!0;y&&(o!=n&&o>=y.startTime&&n<=y.endTime&&(e.errors.push(wc(m,y.startTime,y.endTime,o,n)),g=!1),o=y.startTime),g&&p.set(m,{startTime:o,endTime:n}),e.options&&Kc(a,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:L.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Cc()),t;let n=1,o=0,s=[],a=!1,m=!1,p=0,y=i.steps.map(Z=>{let te=this._makeStyleAst(Z,e),fe=te.offset!=null?te.offset:ad(te.styles),oe=0;return fe!=null&&(o++,oe=te.offset=fe),m=m||oe<0||oe>1,a=a||oe<p,p=oe,s.push(oe),te});m&&e.errors.push(Sc()),a&&e.errors.push(Ec());let g=i.steps.length,x=0;o>0&&o<g?e.errors.push(xc()):o==0&&(x=n/(g-1));let I=g-1,D=e.currentTime,A=e.currentAnimateTimings,$=A.duration;return y.forEach((Z,te)=>{let fe=x>0?te==I?1:x*te:s[te],oe=fe*$;e.currentTime=D+A.delay+oe,A.duration=oe,this._validateStyleAst(Z,e),Z.offset=fe,t.styles.push(Z)}),t}visitReference(i,e){return{type:L.Reference,animation:De(this,Si(i.animation),e),options:xt(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:L.AnimateChild,options:xt(i.options)}}visitAnimateRef(i,e){return{type:L.AnimateRef,animation:this.visitReference(i.animation,e),options:xt(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,n=i.options||{};e.queryCount++,e.currentQuery=i;let[o,s]=od(i.selector);e.currentQuerySelector=t.length?t+" "+o:o,Te(e.collectedStyles,e.currentQuerySelector,new Map);let a=De(this,Si(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:L.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:i.selector,options:xt(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(Dc());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:_n(i.timings,e.errors,!0);return{type:L.Stagger,animation:De(this,Si(i.animation),e),timings:t,options:null}}};function od(r){let i=!!r.split(/\s*,\s*/).find(e=>e==Ps);return i&&(r=r.replace(rd,"")),r=r.replace(/@\*/g,gn).replace(/@\w+/g,e=>gn+"-"+e.slice(1)).replace(/:animating/g,ir),[r,i]}function sd(r){return r?Y({},r):null}var sr=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function ad(r){if(typeof r=="string")return null;let i=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function ld(r,i){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=_n(r,i).duration;return Kn(o,0,"")}let e=r;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Kn(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=_n(e,i);return Kn(n.duration,n.delay,n.easing)}function xt(r){return r?(r=Y({},r),r.params&&(r.params=sd(r.params))):r={},r}function Kn(r,i,e){return{duration:r,delay:i,easing:e}}function Sr(r,i,e,t,n,o,s=null,a=!1){return{type:1,element:r,keyframes:i,preStyleProps:e,postStyleProps:t,duration:n,delay:o,totalTime:n+o,easing:s,subTimeline:a}}var Di=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},cd=1,dd=":enter",md=new RegExp(dd,"g"),ud=":leave",pd=new RegExp(ud,"g");function Fs(r,i,e,t,n,o=new Map,s=new Map,a,m,p=[]){return new ar().buildKeyframes(r,i,e,t,n,o,s,a,m,p)}var ar=class{buildKeyframes(i,e,t,n,o,s,a,m,p,y=[]){p=p||new Di;let g=new lr(i,e,p,n,o,y,[]);g.options=m;let x=m.delay?it(m.delay):0;g.currentTimeline.delayNextStep(x),g.currentTimeline.setStyles([s],null,g.errors,m),De(this,t,g);let I=g.timelines.filter(D=>D.containsAnimation());if(I.length&&a.size){let D;for(let A=I.length-1;A>=0;A--){let $=I[A];if($.element===e){D=$;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([a],null,g.errors,m)}return I.length?I.map(D=>D.buildKeyframes()):[Sr(e,[],[],[],0,x,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let n=e.createSubContext(i.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(t,n,n.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let n of i){let o=n?.delay;if(o){let s=typeof o=="number"?o:it(xi(o,n?.params??{},e.errors));t.delayNextStep(s)}}}_visitSubInstructions(i,e,t){let o=e.currentTimeline.currentTime,s=t.duration!=null?it(t.duration):null,a=t.delay!=null?it(t.delay):null;return s!==0&&i.forEach(m=>{let p=e.appendInstructionToTimeline(m,s,a);o=Math.max(o,p.duration+p.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),De(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,n=e,o=i.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==L.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=bn);let s=it(o.delay);n.delayNextStep(s)}i.steps.length&&(i.steps.forEach(s=>De(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],n=e.currentTimeline.currentTime,o=i.options&&i.options.delay?it(i.options.delay):0;i.steps.forEach(s=>{let a=e.createSubContext(i.options);o&&a.delayNextStep(o),De(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(n),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,n=e.params?xi(t,e.params,e.errors):t;return _n(n,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),n=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),n.snapshotCurrentStyles());let o=i.style;o.type==L.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,n=e.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=n&&n.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(o):t.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,n=e.currentTimeline.duration,o=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,i.styles.forEach(m=>{let p=m.offset||0;a.forwardTime(p*o),a.setStyles(m.styles,m.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+o),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,n=i.options||{},o=n.delay?it(n.delay):0;o&&(e.previousNode.type===L.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bn);let s=t,a=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let m=null;a.forEach((p,y)=>{e.currentQueryIndex=y;let g=e.createSubContext(i.options,p);o&&g.delayNextStep(o),p===e.element&&(m=g.currentTimeline),De(this,i.animation,g),g.currentTimeline.applyStylesToKeyframe();let x=g.currentTimeline.currentTime;s=Math.max(s,x)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,n=e.currentTimeline,o=i.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),m=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=a-m;break;case"full":m=t.currentStaggerTime;break}let y=e.currentTimeline;m&&y.delayNextStep(m);let g=y.currentTime;De(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=n.currentTime-g+(n.startTime-t.currentTimeline.startTime)}},bn={},lr=class r{constructor(i,e,t,n,o,s,a,m){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new wn(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,n=this.options;t.duration!=null&&(n.duration=it(t.duration)),t.delay!=null&&(n.delay=it(t.delay));let o=t.params;if(o){let s=n.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=xi(o[a],s,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(n=>{t[n]=e[n]})}}return i}createSubContext(i=null,e,t){let n=e||this.element,o=new r(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=bn,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let n={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},o=new cr(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,n,i.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,n,o,s){let a=[];if(n&&a.push(this.element),i.length>0){i=i.replace(md,"."+this._enterClassName),i=i.replace(pd,"."+this._leaveClassName);let m=t!=1,p=this._driver.query(this.element,i,m);t!==0&&(p=t<0?p.slice(p.length+t,p.length):p.slice(0,t)),a.push(...p)}return!o&&a.length==0&&s.push(Tc(e)),a}},wn=class r{constructor(i,e,t,n){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new r(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cd,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Ke),this._currentKeyframe.set(e,Ke);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},s=hd(i,this._globalTimelineStyles);for(let[a,m]of s){let p=xi(m,o,t);this._pendingStyles.set(a,p),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ke),this._updateStyle(a,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,m)=>{let p=new Map([...this._backFill,...a]);p.forEach((y,g)=>{y===Xi?i.add(g):y===Ke&&e.add(g)}),t||p.set("offset",m/this.duration),n.push(p)});let o=[...i.values()],s=[...e.values()];if(t){let a=n[0],m=new Map(a);a.set("offset",0),m.set("offset",1),n=[a,m]}return Sr(this.element,n,o,s,this.duration,this.startTime,this.easing,!1)}},cr=class extends wn{constructor(i,e,t,n,o,s,a=!1){super(i,e,s.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=t+e,a=e/s,m=new Map(i[0]);m.set("offset",0),o.push(m);let p=new Map(i[0]);p.set("offset",vs(a)),o.push(p);let y=i.length-1;for(let g=1;g<=y;g++){let x=new Map(i[g]),I=x.get("offset"),D=e+I*t;x.set("offset",vs(D/s)),o.push(x)}t=s,e=0,n="",i=o}return Sr(this.element,i,this.preStyleProps,this.postStyleProps,t,e,n,!0)}};function vs(r,i=3){let e=Math.pow(10,i-1);return Math.round(r*e)/e}function hd(r,i){let e=new Map,t;return r.forEach(n=>{if(n==="*"){t??=i.keys();for(let o of t)e.set(o,Ke)}else for(let[o,s]of n)e.set(o,s)}),e}function bs(r,i,e,t,n,o,s,a,m,p,y,g,x){return{type:0,element:r,triggerName:i,isRemovalTransition:n,fromState:e,fromStyles:o,toState:t,toStyles:s,timelines:a,queriedElements:m,preStyleProps:p,postStyleProps:y,totalTime:g,errors:x}}var Xn={},Cn=class{constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,n){return fd(this.ast.matchers,i,e,t,n)}buildStyles(i,e,t){let n=this._stateStyles.get("*");return i!==void 0&&(n=this._stateStyles.get(i?.toString())||n),n?n.buildStyles(e,t):new Map}build(i,e,t,n,o,s,a,m,p,y){let g=[],x=this.ast.options&&this.ast.options.params||Xn,I=a&&a.params||Xn,D=this.buildStyles(t,I,g),A=m&&m.params||Xn,$=this.buildStyles(n,A,g),Z=new Set,te=new Map,fe=new Map,oe=n==="void",Mt={params:Ns(A,x),delay:this.ast.options?.delay},Le=y?[]:Fs(i,e,this.ast.animation,o,s,D,$,Mt,p,g),ge=0;return Le.forEach(_e=>{ge=Math.max(_e.duration+_e.delay,ge)}),g.length?bs(e,this._triggerName,t,n,oe,D,$,[],[],te,fe,ge,g):(Le.forEach(_e=>{let ft=_e.element,Rt=Te(te,ft,new Set);_e.preStyleProps.forEach(gt=>Rt.add(gt));let Er=Te(fe,ft,new Set);_e.postStyleProps.forEach(gt=>Er.add(gt)),ft!==e&&Z.add(ft)}),bs(e,this._triggerName,t,n,oe,D,$,Le,[...Z.values()],te,fe,ge))}};function fd(r,i,e,t,n){return r.some(o=>o(i,e,t,n))}function Ns(r,i){let e=Y({},i);return Object.entries(r).forEach(([t,n])=>{n!=null&&(e[t]=n)}),e}var dr=class{constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,n=Ns(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=xi(s,n,e));let m=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,m,s,e),t.set(a,s)})}),t}};function gd(r,i,e){return new mr(r,i,e)}var mr=class{constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new dr(n.style,o,t))}),ws(this.states,"true","1"),ws(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Cn(i,n,this.states))}),this.fallbackTransition=_d(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,n){return this.transitionFactories.find(s=>s.match(i,e,t,n))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function _d(r,i,e){let t=[(s,a)=>!0],n={type:L.Sequence,steps:[],options:null},o={type:L.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new Cn(r,o,i)}function ws(r,i,e){r.has(i)?r.has(e)||r.set(e,r.get(i)):r.has(e)&&r.set(i,r.get(e))}var yd=new Di,ur=class{constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){let t=[],n=[],o=Os(this._driver,e,t,n);if(t.length)throw Ac(t);n.length&&void 0,this._animations.set(i,o)}_buildPlayer(i,e,t){let n=i.element,o=Ts(this._normalizer,i.keyframes,e,t);return this._driver.animate(n,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let n=[],o=this._animations.get(i),s,a=new Map;if(o?(s=Fs(this._driver,e,o,ks,tr,new Map,new Map,t,yd,n),s.forEach(y=>{let g=Te(a,y.element,new Map);y.postStyleProps.forEach(x=>g.set(x,null))})):(n.push(Pc()),s=[]),n.length)throw Oc(n);a.forEach((y,g)=>{y.forEach((x,I)=>{y.set(I,this._driver.computeStyle(g,I,Ke))})});let m=s.map(y=>{let g=a.get(y.element);return this._buildPlayer(y,new Map,g)}),p=ht(m);return this._playersById.set(i,p),p.onDestroy(()=>this.destroy(i)),this.players.push(p),p}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw Fc(i);return e}listen(i,e,t,n){let o=yr(e,"","","");return _r(this._getPlayer(i),t,o,n),()=>{}}command(i,e,t,n){if(t=="register"){this.register(i,n[0]);return}if(t=="create"){let s=n[0]||{};this.create(i,e,s);return}let o=this._getPlayer(i);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(i);break}}},Cs="ng-animate-queued",vd=".ng-animate-queued",Zn="ng-animate-disabled",bd=".ng-animate-disabled",wd="ng-star-inserted",Cd=".ng-star-inserted",Sd=[],Ls={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ed={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ne="__ng_removed",Ti=class{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),n=t?i.value:i;if(this.value=Dd(n),t){let o=i,{value:s}=o,a=Ir(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(n=>{t[n]==null&&(t[n]=e[n])})}}},Ei="void",Jn=new Ti(Ei),pr=class{constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Pe(e,this._hostClassName)}listen(i,e,t,n){if(!this._triggers.has(e))throw Nc(t,e);if(t==null||t.length==0)throw Lc(e);if(!Td(t))throw Bc(t,e);let o=Te(this._elementListeners,i,[]),s={name:e,phase:t,callback:n};o.push(s);let a=Te(this._engine.statesByElement,i,new Map);return a.has(e)||(Pe(i,mn),Pe(i,mn+"-"+e),a.set(e,Jn)),()=>{this._engine.afterFlush(()=>{let m=o.indexOf(s);m>=0&&o.splice(m,1),this._triggers.has(e)||a.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw jc(i);return e}trigger(i,e,t,n=!0){let o=this._getTrigger(e),s=new Ii(this.id,e,i),a=this._engine.statesByElement.get(i);a||(Pe(i,mn),Pe(i,mn+"-"+e),this._engine.statesByElement.set(i,a=new Map));let m=a.get(e),p=new Ti(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&m&&p.absorbOptions(m.options),a.set(e,p),m||(m=Jn),!(p.value===Ei)&&m.value===p.value){if(!Rd(m.params,p.params)){let A=[],$=o.matchStyles(m.value,m.params,A),Z=o.matchStyles(p.value,p.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Dt(i,$),Xe(i,Z)})}return}let x=Te(this._engine.playersByElement,i,[]);x.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let I=o.matchTransition(m.value,p.value,i,p.params),D=!1;if(!I){if(!n)return;I=o.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:I,fromState:m,toState:p,player:s,isFallbackTransition:D}),D||(Pe(i,Cs),s.onStart(()=>{li(i,Cs)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let $=this._engine.playersByElement.get(i);if($){let Z=$.indexOf(s);Z>=0&&$.splice(Z,1)}}),this.players.push(s),x.push(s),s}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(n=>n.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,gn,!0);t.forEach(n=>{if(n[Ne])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(s=>s.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(i,e,t,n){let o=this._engine.statesByElement.get(i),s=new Map;if(o){let a=[];if(o.forEach((m,p)=>{if(s.set(p,m.value),this._triggers.has(p)){let y=this.trigger(i,p,Ei,n);y&&a.push(y)}}),a.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,s),t&&ht(a).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let n=new Set;e.forEach(o=>{let s=o.name;if(n.has(s))return;n.add(s);let m=this._triggers.get(s).fallbackTransition,p=t.get(s)||Jn,y=new Ti(Ei),g=new Ii(this.id,s,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:s,transition:m,fromState:p,toState:y,player:g,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let n=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(i):[];if(o&&o.length)n=!0;else{let s=i;for(;s=s.parentNode;)if(t.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(i),n)t.markElementAsRemoved(this.id,i,!1,e);else{let o=i[Ne];(!o||o===Ls)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Pe(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let o=t.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==t.triggerName){let m=yr(o,t.triggerName,t.fromState.value,t.toState.value);m._data=i,_r(t.player,a.phase,m,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(t)}),this._queue=[],e.sort((t,n)=>{let o=t.transition.ast.depCount,s=n.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},hr=class{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,o)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new pr(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let m=n.get(a);if(m){let p=t.indexOf(m);t.splice(p+1,0,i),s=!0;break}a=this.driver.getParentElement(a)}s||t.unshift(i)}else t.push(i);return n.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let n=this._namespaceLookup[i];n&&n.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let n of t.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(i,e,t,n){if(hn(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,t,n),!0}return!1}insertNode(i,e,t,n){if(!hn(e))return;let o=e[Ne];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(i){let s=this._fetchNamespace(i);s&&s.insertNode(e,t)}n&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Pe(i,Zn)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),li(i,Zn))}removeNode(i,e,t){if(hn(e)){let n=i?this._fetchNamespace(i):null;n?n.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,n,o){this.collectedLeaveElements.push(e),e[Ne]={namespaceId:i,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,t,n,o){return hn(e)?this._fetchNamespace(i).listen(e,t,n,o):()=>{}}_buildInstruction(i,e,t,n,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,n,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,gn,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,ir,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return ht(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Ne];if(e&&e.setForRemoval){if(i[Ne]=Ls,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Zn)&&this.markElementAsDisabled(i,!1),this.driver.query(i,bd,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];Pe(n,wd)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?ht(e).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(i){throw zc(i)}_flushAnimations(i,e){let t=new Di,n=[],o=new Map,s=[],a=new Map,m=new Map,p=new Map,y=new Set;this.disabledNodes.forEach(C=>{y.add(C);let T=this.driver.query(C,vd,!0);for(let M=0;M<T.length;M++)y.add(T[M])});let g=this.bodyNode,x=Array.from(this.statesByElement.keys()),I=xs(x,this.collectedEnterElements),D=new Map,A=0;I.forEach((C,T)=>{let M=ks+A++;D.set(T,M),C.forEach(B=>Pe(B,M))});let $=[],Z=new Set,te=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let T=this.collectedLeaveElements[C],M=T[Ne];M&&M.setForRemoval&&($.push(T),Z.add(T),M.hasAnimation?this.driver.query(T,Cd,!0).forEach(B=>Z.add(B)):te.add(T))}let fe=new Map,oe=xs(x,Array.from(Z));oe.forEach((C,T)=>{let M=tr+A++;fe.set(T,M),C.forEach(B=>Pe(B,M))}),i.push(()=>{I.forEach((C,T)=>{let M=D.get(T);C.forEach(B=>li(B,M))}),oe.forEach((C,T)=>{let M=fe.get(T);C.forEach(B=>li(B,M))}),$.forEach(C=>{this.processLeaveNode(C)})});let Mt=[],Le=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(M=>{let B=M.player,ie=M.element;if(Mt.push(B),this.collectedEnterElements.length){let ce=ie[Ne];if(ce&&ce.setForMove){if(ce.previousTriggersValues&&ce.previousTriggersValues.has(M.triggerName)){let _t=ce.previousTriggersValues.get(M.triggerName),Ie=this.statesByElement.get(M.element);if(Ie&&Ie.has(M.triggerName)){let Mi=Ie.get(M.triggerName);Mi.value=_t,Ie.set(M.triggerName,Mi)}}B.destroy();return}}let Be=!g||!this.driver.containsElement(g,ie),Ce=fe.get(ie),nt=D.get(ie),Q=this._buildInstruction(M,t,nt,Ce,Be);if(Q.errors&&Q.errors.length){Le.push(Q);return}if(Be){B.onStart(()=>Dt(ie,Q.fromStyles)),B.onDestroy(()=>Xe(ie,Q.toStyles)),n.push(B);return}if(M.isFallbackTransition){B.onStart(()=>Dt(ie,Q.fromStyles)),B.onDestroy(()=>Xe(ie,Q.toStyles)),n.push(B);return}let Tr=[];Q.timelines.forEach(ce=>{ce.stretchStartingKeyframe=!0,this.disabledNodes.has(ce.element)||Tr.push(ce)}),Q.timelines=Tr,t.append(ie,Q.timelines);let Gs={instruction:Q,player:B,element:ie};s.push(Gs),Q.queriedElements.forEach(ce=>Te(a,ce,[]).push(B)),Q.preStyleProps.forEach((ce,_t)=>{if(ce.size){let Ie=m.get(_t);Ie||m.set(_t,Ie=new Set),ce.forEach((Mi,In)=>Ie.add(In))}}),Q.postStyleProps.forEach((ce,_t)=>{let Ie=p.get(_t);Ie||p.set(_t,Ie=new Set),ce.forEach((Mi,In)=>Ie.add(In))})});if(Le.length){let C=[];Le.forEach(T=>{C.push(Vc(T.triggerName,T.errors))}),Mt.forEach(T=>T.destroy()),this.reportError(C)}let ge=new Map,_e=new Map;s.forEach(C=>{let T=C.element;t.has(T)&&(_e.set(T,T),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,ge))}),n.forEach(C=>{let T=C.element;this._getPreviousPlayers(T,!1,C.namespaceId,C.triggerName,null).forEach(B=>{Te(ge,T,[]).push(B),B.destroy()})});let ft=$.filter(C=>Ds(C,m,p)),Rt=new Map;Es(Rt,this.driver,te,p,Ke).forEach(C=>{Ds(C,m,p)&&ft.push(C)});let gt=new Map;I.forEach((C,T)=>{Es(gt,this.driver,new Set(C),m,Xi)}),ft.forEach(C=>{let T=Rt.get(C),M=gt.get(C);Rt.set(C,new Map([...T?.entries()??[],...M?.entries()??[]]))});let Tn=[],xr=[],Dr={};s.forEach(C=>{let{element:T,player:M,instruction:B}=C;if(t.has(T)){if(y.has(T)){M.onDestroy(()=>Xe(T,B.toStyles)),M.disabled=!0,M.overrideTotalTime(B.totalTime),n.push(M);return}let ie=Dr;if(_e.size>1){let Ce=T,nt=[];for(;Ce=Ce.parentNode;){let Q=_e.get(Ce);if(Q){ie=Q;break}nt.push(Ce)}nt.forEach(Q=>_e.set(Q,ie))}let Be=this._buildAnimation(M.namespaceId,B,ge,o,gt,Rt);if(M.setRealPlayer(Be),ie===Dr)Tn.push(M);else{let Ce=this.playersByElement.get(ie);Ce&&Ce.length&&(M.parentPlayer=ht(Ce)),n.push(M)}}else Dt(T,B.fromStyles),M.onDestroy(()=>Xe(T,B.toStyles)),xr.push(M),y.has(T)&&n.push(M)}),xr.forEach(C=>{let T=o.get(C.element);if(T&&T.length){let M=ht(T);C.setRealPlayer(M)}}),n.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<$.length;C++){let T=$[C],M=T[Ne];if(li(T,tr),M&&M.hasAnimation)continue;let B=[];if(a.size){let Be=a.get(T);Be&&Be.length&&B.push(...Be);let Ce=this.driver.query(T,ir,!0);for(let nt=0;nt<Ce.length;nt++){let Q=a.get(Ce[nt]);Q&&Q.length&&B.push(...Q)}}let ie=B.filter(Be=>!Be.destroyed);ie.length?Id(this,T,ie):this.processLeaveNode(T)}return $.length=0,Tn.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let T=this.players.indexOf(C);this.players.splice(T,1)}),C.play()}),Tn}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,n,o){let s=[];if(e){let a=this.playersByQueriedElement.get(i);a&&(s=a)}else{let a=this.playersByElement.get(i);if(a){let m=!o||o==Ei;a.forEach(p=>{p.queued||!m&&p.triggerName!=n||s.push(p)})}}return(t||n)&&(s=s.filter(a=>!(t&&t!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(i,e,t){let n=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:i,a=e.isRemovalTransition?void 0:n;for(let m of e.timelines){let p=m.element,y=p!==o,g=Te(t,p,[]);this._getPreviousPlayers(p,y,s,a,e.toState).forEach(I=>{let D=I.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),I.destroy(),g.push(I)})}Dt(o,e.fromStyles)}_buildAnimation(i,e,t,n,o,s){let a=e.triggerName,m=e.element,p=[],y=new Set,g=new Set,x=e.timelines.map(D=>{let A=D.element;y.add(A);let $=A[Ne];if($&&$.removedBeforeQueried)return new Zt(D.duration,D.delay);let Z=A!==m,te=Md((t.get(A)||Sd).map(ge=>ge.getRealPlayer())).filter(ge=>{let _e=ge;return _e.element?_e.element===A:!1}),fe=o.get(A),oe=s.get(A),Mt=Ts(this._normalizer,D.keyframes,fe,oe),Le=this._buildPlayer(D,Mt,te);if(D.subTimeline&&n&&g.add(A),Z){let ge=new Ii(i,a,A);ge.setRealPlayer(Le),p.push(ge)}return Le});p.forEach(D=>{Te(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>xd(this.playersByQueriedElement,D.element,D))}),y.forEach(D=>Pe(D,gs));let I=ht(x);return I.onDestroy(()=>{y.forEach(D=>li(D,gs)),Xe(m,e.toStyles)}),g.forEach(D=>{Te(n,D,[]).push(I)}),I}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new Zt(i.duration,i.delay)}},Ii=class{constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t,this._player=new Zt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(n=>_r(i,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Te(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function xd(r,i,e){let t=r.get(i);if(t){if(t.length){let n=t.indexOf(e);t.splice(n,1)}t.length==0&&r.delete(i)}return t}function Dd(r){return r??null}function hn(r){return r&&r.nodeType===1}function Td(r){return r=="start"||r=="done"}function Ss(r,i){let e=r.style.display;return r.style.display=i??"none",e}function Es(r,i,e,t,n){let o=[];e.forEach(m=>o.push(Ss(m)));let s=[];t.forEach((m,p)=>{let y=new Map;m.forEach(g=>{let x=i.computeStyle(p,g,n);y.set(g,x),(!x||x.length==0)&&(p[Ne]=Ed,s.push(p))}),r.set(p,y)});let a=0;return e.forEach(m=>Ss(m,o[a++])),s}function xs(r,i){let e=new Map;if(r.forEach(a=>e.set(a,[])),i.length==0)return e;let t=1,n=new Set(i),o=new Map;function s(a){if(!a)return t;let m=o.get(a);if(m)return m;let p=a.parentNode;return e.has(p)?m=p:n.has(p)?m=t:m=s(p),o.set(a,m),m}return i.forEach(a=>{let m=s(a);m!==t&&e.get(m).push(a)}),e}function Pe(r,i){r.classList?.add(i)}function li(r,i){r.classList?.remove(i)}function Id(r,i,e){ht(e).onDone(()=>r.processLeaveNode(i))}function Md(r){let i=[];return Bs(r,i),i}function Bs(r,i){for(let e=0;e<r.length;e++){let t=r[e];t instanceof Nn?Bs(t.players,i):i.push(t)}}function Rd(r,i){let e=Object.keys(r),t=Object.keys(i);if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!i.hasOwnProperty(o)||r[o]!==i[o])return!1}return!0}function Ds(r,i,e){let t=e.get(r);if(!t)return!1;let n=i.get(r);return n?t.forEach(o=>n.add(o)):i.set(r,t),e.delete(r),!0}var ci=class{constructor(i,e,t){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(n,o)=>{},this._transitionEngine=new hr(i.body,e,t),this._timelineEngine=new ur(i.body,e,t),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(i,e,t,n,o){let s=i+"-"+n,a=this._triggerCache[s];if(!a){let m=[],p=[],y=Os(this._driver,o,m,p);if(m.length)throw Rc(n,m);p.length&&void 0,a=gd(n,y,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,n,a)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,n){this._transitionEngine.insertNode(i,e,t,n)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,n){if(t.charAt(0)=="@"){let[o,s]=hs(t),a=n;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(i,e,t,n)}listen(i,e,t,n,o){if(t.charAt(0)=="@"){let[s,a]=hs(t);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(i,e,t,n,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function kd(r,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=er(i[0]),i.length>1&&(t=er(i[i.length-1]))):i instanceof Map&&(e=er(i)),e||t?new fr(r,e,t):null}var fr=class r{static{this.initialStylesByElement=new WeakMap}constructor(i,e,t){this._element=i,this._startStyles=e,this._endStyles=t,this._state=0;let n=r.initialStylesByElement.get(i);n||r.initialStylesByElement.set(i,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Dt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dt(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}};function er(r){let i=null;return r.forEach((e,t)=>{Ad(t)&&(i=i||new Map,i.set(t,e))}),i}function Ad(r){return r==="display"||r==="position"}var Sn=class{constructor(i,e,t,n){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&i.set(n,this._finished?t:Cr(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},En=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Is(i,e)}getParentElement(i){return vr(i)}query(i,e,t){return Ms(i,e,t)}computeStyle(i,e,t){return Cr(i,e)}animate(i,e,t,n,o,s=[]){let a=n==0?"both":"forwards",m={duration:t,delay:n,fill:a};o&&(m.easing=o);let p=new Map,y=s.filter(I=>I instanceof Sn);Zc(t,n)&&y.forEach(I=>{I.currentSnapshot.forEach((D,A)=>p.set(A,D))});let g=Wc(e).map(I=>new Map(I));g=Jc(i,g,p);let x=kd(i,g);return new Sn(i,g,m,x)}};var fn="@",js="@.disabled",xn=class{constructor(i,e,t,n){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,n=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,n)}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,n){this.delegate.setAttribute(i,e,t,n)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,n){this.delegate.setStyle(i,e,t,n)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==fn&&e==js?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.delegate.listen(i,e,t)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},gr=class extends xn{constructor(i,e,t,n,o){super(e,t,n,o),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==fn?e.charAt(1)=="."&&e==js?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t){if(e.charAt(0)==fn){let n=Pd(i),o=e.slice(1),s="";return o.charAt(0)!=fn&&([o,s]=Od(o)),this.engine.listen(this.namespaceId,n,o,s,a=>{let m=a._data||-1;this.factory.scheduleListenerCallback(m,t,a)})}return this.delegate.listen(i,e,t)}};function Pd(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function Od(r){let i=r.indexOf("."),e=r.substring(0,i),t=r.slice(i+1);return[e,t]}var Dn=class{constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,o)=>{o?.removeChild(null,n)}}createRenderer(i,e){let t="",n=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let p=this._rendererCache,y=p.get(n);if(!y){let g=()=>p.delete(n);y=new xn(t,n,this.engine,g),p.set(n,y)}return y}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,i);let a=p=>{Array.isArray(p)?p.forEach(a):this.engine.registerTrigger(o,s,i,p.name,p)};return e.data.animation.forEach(a),new gr(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Nd=(()=>{class r extends ci{constructor(e,t,n){super(e,t,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||r)(G(Ge),G(Tt),G(It))}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac})}}return r})();function Ld(){return new yn}function Bd(r,i,e){return new Dn(r,i,e)}var Vs=[{provide:It,useFactory:Ld},{provide:ci,useClass:Nd},{provide:kr,useFactory:Bd,deps:[Gr,ci,Ze]}],zs=[{provide:Tt,useFactory:()=>new En},{provide:Ve,useValue:"BrowserAnimations"},...Vs],jd=[{provide:Tt,useClass:br},{provide:Ve,useValue:"NoopAnimations"},...Vs],Hs=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?jd:zs}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=K({type:r})}static{this.\u0275inj=W({providers:zs,imports:[qr]})}}return r})();var Us=(r,i)=>{let e=ye(nn);return e.show(),i(r).pipe(Oi(()=>e.hide()))};function zd(r){return new rn(r,"/assets/i18n/",".json")}var Vd=(r,i)=>{let e=ye(pe),t=localStorage.getItem("forestPlus_token"),n=t?r.clone({setHeaders:{Authorization:`Bearer ${t}`}}):r;return i(n).pipe(Mn(o=>o.status===401||o.status===403?localStorage.getItem("forestPlus_refresh_token")?e.refreshToken().pipe(Mr(a=>{if(a.token&&a.refreshToken)localStorage.setItem("forestPlus_token",a.token),localStorage.setItem("forestPlus_refresh_token",a.refreshToken);else return e.logout(),mi(()=>new Error("Refresh token inv\xE1lido"));let m=r.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return i(m)}),Mn(a=>(e.logout(),mi(()=>a)))):(e.logout(),mi(()=>o)):mi(()=>o)))};$r(To,{providers:[ro(gi.apiBaseUrl),Yr(us,Wr()),Rr(Hs,q.forRoot({loader:{provide:Kr,useFactory:zd,deps:[Vr]}})),Hr(Ur([Us,Vd]))]}).catch(r=>console.error(r));export{zd as HttpLoaderFactory,Vd as authInterceptor};
