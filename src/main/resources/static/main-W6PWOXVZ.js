import{a as No,b as xt,c as We,d as W,e as Cn}from"./chunk-V2GV6NUA.js";import{a as lt,b as Ke,d as Ko,e as Xo,g as Zo,h as cs,i as wn,j as ds,k as ur,l as ms,m as us,n as ps}from"./chunk-STGUSWTR.js";import{$ as ln,$a as I,$b as fn,$c as Wo,A as ho,Aa as he,Ab as oi,Ac as be,Ad as Sn,B as Ue,Ba as fe,Bb as ye,C as V,Ca as H,Cb as Ye,Cc as di,D as se,Da as lr,Db as Po,Dc as mi,E as ae,Eb as Oo,F as ne,Fa as x,Fb as Fo,Fc as $o,G as q,Gb as de,Gc as ui,H as re,Ha as y,Hb as Dt,I as sn,Ia as Ct,Ic as pi,J as an,Ja as Fe,Jb as Lo,Jc as hi,K as T,Ka as ft,Kb as mn,L as le,La as Je,Lb as si,M as L,Ma as Ne,Mb as dr,Na as J,Nb as ai,O as fo,Oa as ee,Ob as Bo,Oc as fi,P as Nt,Pc as qo,Q as F,Qc as gi,R as N,Ra as St,Rc as B,S as st,Sa as h,Sc as mt,T as Jt,Ta as O,Tc as jt,U as Ie,Ua as E,Uc as ut,V as go,Va as cr,Vb as un,Vc as Qo,W as Ge,Wa as Co,Wc as K,X as Pe,Xa as Ai,Xb as pn,Xc as Le,Y as Oe,Ya as Pi,Yb as hn,Yc as Ni,Z as Y,Za as Oi,Zc as tt,_ as at,_a as $e,_b as Tt,_c as Yo,a as oe,aa as l,ab as et,ac as Bt,ad as _i,b as Ji,ba as p,bb as b,bc as jo,bd as mr,c as uo,ca as Ze,cb as C,cc as zo,cd as _n,da as _o,db as Lt,dc as Ce,dd as Jo,ea as wt,eb as ii,ed as yn,f as ie,fb as qe,fd as es,g as vt,ga as Z,gb as ni,gd as Li,h as en,ha as yo,hb as ge,hd as vn,ia as Me,ib as gt,ic as Vo,j as bt,ja as v,jd as ts,k as Ri,kb as Qe,kd as is,l as po,la as ei,lb as So,ld as ns,m as Xt,ma as me,mb as dn,mc as Q,md as rs,n as tn,na as f,nb as Et,nc as Ho,nd as os,oa as ti,ob as _e,oc as Fi,od as Bi,p as nn,pa as ce,pb as Eo,pd as ss,qa as cn,qb as xo,qc as Uo,qd as as,r as Ft,rb as Do,rc as Se,rd as ji,s as ki,sa as Re,sb as G,sc as ke,sd as zi,t as ar,ta as vo,tb as To,tc as ct,td as ls,ua as bo,ub as Io,uc as Go,ud as bn,v as Zt,va as wo,vb as Mo,vc as gn,vd as yi,wa as c,wb as Ro,wc as Ee,wd as Be,x as rn,xa as m,xb as ko,xc as li,ya as k,yb as Ao,yc as dt,z as on,za as pe,zb as ri,zc as ci,zd as vi}from"./chunk-QLNJI7UZ.js";var Xa=["determinateSpinner"];function Za(n,r){if(n&1&&(st(),c(0,"svg",11),k(1,"circle",12),m()),n&2){let e=y();me("viewBox",e._viewBox()),l(),ti("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),me("r",e._circleRadius())}}var Ja=new ne("mat-progress-spinner-default-options",{providedIn:"root",factory:el});function el(){return{diameter:hs}}var hs=100,tl=10,fs=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,t,i){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=hs,this._noopAnimations=t==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-tl)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(t){return new(t||n)(p(Y),p(at,8),p(Ja))}}static{this.\u0275cmp=T({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(t&1&&Ne(Xa,5),t&2){let o;J(o=ee())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,i){t&2&&(me("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),cn("mat-"+i.color),ti("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),ce("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",gt],diameter:[2,"diameter","diameter",gt],strokeWidth:[2,"strokeWidth","strokeWidth",gt]},exportAs:["matProgressSpinner"],standalone:!0,features:[Me,I],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(t&1&&(v(0,Za,2,8,"ng-template",null,0,ii),c(2,"div",2,1),st(),c(4,"svg",3),k(5,"circle",4),m()(),Jt(),c(6,"div",5)(7,"div",6)(8,"div",7),fe(9,8),m(),c(10,"div",9),fe(11,8),m(),c(12,"div",10),fe(13,8),m()()()),t&2){let o=St(1);l(4),me("viewBox",i._viewBox()),l(),ti("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),me("r",i._circleRadius()),l(4),f("ngTemplateOutlet",o),l(2),f("ngTemplateOutlet",o),l(2),f("ngTemplateOutlet",o)}},dependencies:[Eo],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return n})();var It=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({imports:[G,Ce]})}}return n})();var En=(()=>{class n{constructor(){this.loadingSubject=new vt(!1),this.loading$=this.loadingSubject.asObservable(),this.requests=0}show(){this.requests++,this.loadingSubject.next(!0)}hide(){this.requests--,this.requests<=0&&(this.requests=0,this.loadingSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rl(n,r){n&1&&(c(0,"div",1),k(1,"mat-spinner",2),m())}var gs=(()=>{class n{constructor(e){this.loadingService=e,this.loading$=this.loadingService.loading$}static{this.\u0275fac=function(t){return new(t||n)(p(En))}}static{this.\u0275cmp=T({type:n,selectors:[["app-loading-spinner"]],standalone:!0,features:[I],decls:2,vars:3,consts:[["class","fixed inset-0 bg-gray-200 bg-opacity-50 flex flex-col items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-200","bg-opacity-50","flex","flex-col","items-center","justify-center","z-50"],["diameter","50"]],template:function(t,i){t&1&&(v(0,rl,2,0,"div",0),b(1,"async")),t&2&&f("ngIf",C(1,1,i.loading$))},dependencies:[G,_e,xo,It,fs,W]})}}return n})();var _s=(()=>{class n{constructor(e){this.translate=e,e.addLangs(["en","es"]),e.setDefaultLang("es");let t=e.getBrowserLang();e.use(t?.match(/en|es/)?t:"es")}static{this.\u0275fac=function(t){return new(t||n)(p(xt))}}static{this.\u0275cmp=T({type:n,selectors:[["app-root"]],standalone:!0,features:[I],decls:2,vars:0,template:function(t,i){t&1&&k(0,"app-loading-spinner")(1,"router-outlet")},dependencies:[oi,W,gs]})}}return n})();var xn=class{constructor(r,e="assets/i18n/",t=".json"){this.http=r,this.prefix=e,this.suffix=t}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}};function ol(n,r){if(n&1&&(pe(0),c(1,"a",11),h(2),b(3,"translate"),m(),he()),n&2){let e=y().$implicit;l(),f("routerLink",e.route),l(),E(" ",C(3,2,e.label)," ")}}function sl(n,r){if(n&1&&(pe(0),v(1,ol,4,4,"ng-container",10),he()),n&2){let e=r.$implicit,t=y(2);l(),f("ngIf",!e.children&&t.canShow(e))}}function al(n,r){if(n&1&&(c(0,"a",15),h(1),b(2,"translate"),m()),n&2){let e=y().$implicit;f("routerLink",e.route),l(),E(" ",C(2,2,e.label)," ")}}function ll(n,r){if(n&1&&(pe(0),v(1,al,3,4,"a",14),he()),n&2){let e=r.$implicit,t=y(4);l(),f("ngIf",t.canShow(e))}}function cl(n,r){if(n&1&&(pe(0),c(1,"div",12),h(2),b(3,"translate"),m(),c(4,"div",13),v(5,ll,2,1,"ng-container",6),m(),he()),n&2){let e=y().$implicit;l(2),E(" ",C(3,2,e.label)," "),l(3),f("ngForOf",e.children)}}function dl(n,r){if(n&1&&(pe(0),v(1,cl,6,4,"ng-container",10),he()),n&2){let e=r.$implicit,t=y(2);l(),f("ngIf",e.children&&t.canShow(e))}}function ml(n,r){if(n&1){let e=H();c(0,"div",16),x("click",function(){F(e);let i=y(2);return N(i.closeSidebar())}),m()}}function ul(n,r){if(n&1){let e=H();pe(0),c(1,"a",19),x("click",function(){F(e);let i=y(4);return N(i.closeSidebar())}),h(2),b(3,"translate"),m(),he()}if(n&2){let e=y().$implicit;l(),f("routerLink",e.route),l(),E(" ",C(3,2,e.label)," ")}}function pl(n,r){if(n&1&&(pe(0),v(1,ul,4,4,"ng-container",10),he()),n&2){let e=r.$implicit,t=y(3);l(),f("ngIf",!e.children&&t.canShow(e))}}function hl(n,r){if(n&1){let e=H();c(0,"a",21),x("click",function(){F(e);let i=y(6);return N(i.closeSidebar())}),h(1),b(2,"translate"),m()}if(n&2){let e=y().$implicit;f("routerLink",e.route),l(),E(" ",C(2,2,e.label)," ")}}function fl(n,r){if(n&1&&(pe(0),v(1,hl,3,4,"a",20),he()),n&2){let e=r.$implicit,t=y(5);l(),f("ngIf",t.canShow(e))}}function gl(n,r){if(n&1&&(pe(0),c(1,"div",12),h(2),b(3,"translate"),m(),c(4,"div",13),v(5,fl,2,1,"ng-container",6),m(),he()),n&2){let e=y().$implicit;l(2),E(" ",C(3,2,e.label)," "),l(3),f("ngForOf",e.children)}}function _l(n,r){if(n&1&&(pe(0),v(1,gl,6,4,"ng-container",10),he()),n&2){let e=r.$implicit,t=y(3);l(),f("ngIf",e.children&&t.canShow(e))}}function yl(n,r){if(n&1&&(c(0,"aside",17)(1,"div",3),h(2),b(3,"translate"),m(),c(4,"div",18)(5,"nav",5),v(6,pl,2,1,"ng-container",6),m()(),c(7,"nav",7),v(8,_l,2,1,"ng-container",6),m()()),n&2){let e=y(2);l(2),E(" ",C(3,3,"MENU.MENU")," "),l(4),f("ngForOf",e.menuLinks),l(2),f("ngForOf",e.menuLinks)}}function vl(n,r){if(n&1&&(pe(0),c(1,"aside",2)(2,"div",3),h(3),b(4,"translate"),m(),c(5,"div",4)(6,"nav",5),v(7,sl,2,1,"ng-container",6),m()(),c(8,"nav",7),v(9,dl,2,1,"ng-container",6),m()(),v(10,ml,1,0,"div",8)(11,yl,9,5,"aside",9),he()),n&2){let e=y();l(3),E(" ",C(4,5,"MENU.MENU")," "),l(4),f("ngForOf",e.menuLinks),l(2),f("ngForOf",e.menuLinks),l(),f("ngIf",e.sidebarOpen),l(),f("ngIf",e.sidebarOpen)}}function bl(n,r){if(n&1){let e=H();c(0,"div",16),x("click",function(){F(e);let i=y(2);return N(i.closeSidebar())}),m()}}function wl(n,r){if(n&1){let e=H();c(0,"aside",17)(1,"div",3),h(2),b(3,"translate"),m(),c(4,"nav",5)(5,"a",24),x("click",function(){F(e);let i=y(2);return N(i.closeSidebar())}),h(6),b(7,"translate"),m(),c(8,"a",25),x("click",function(){F(e);let i=y(2);return N(i.closeSidebar())}),h(9),b(10,"translate"),m()()()}n&2&&(l(2),E(" ",C(3,3,"MENU.MENU")," "),l(4),E(" ",C(7,5,"MENU.LOGIN")," "),l(3),E(" ",C(10,7,"MENU.REGISTER")," "))}function Cl(n,r){if(n&1&&(c(0,"aside",2)(1,"div",3),h(2),b(3,"translate"),m(),c(4,"nav",5)(5,"a",22),h(6),b(7,"translate"),m(),c(8,"a",23),h(9),b(10,"translate"),m()()(),v(11,bl,1,0,"div",8)(12,wl,11,9,"aside",9)),n&2){let e=y();l(2),E(" ",C(3,5,"MENU.MENU")," "),l(4),E(" ",C(7,7,"MENU.LOGIN")," "),l(3),E(" ",C(10,9,"MENU.REGISTER")," "),l(2),f("ngIf",e.sidebarOpen),l(),f("ngIf",e.sidebarOpen)}}var ys=(()=>{class n{constructor(e){this.userService=e,this.sidebarOpen=!1,this.sidebarOpenChange=new Pe,this.menuLinks=[{label:"MENU.HOME",route:"home"},{label:"MENU.PROFILE",route:"profile"},{label:"MENU.MY_COMPANY",route:"company",roles:[Q.COMPANY_ADMIN,Q.COMPANY_USER]},{label:"MENU.ADMIN.ADMIN",roles:[Q.ADMIN,Q.COMPANY_ADMIN],children:[{label:"MENU.ADMIN.USERS",route:"admin/users",roles:[Q.ADMIN,Q.COMPANY_ADMIN]},{label:"MENU.ADMIN.COMPANIES",route:"admin/companies",roles:[Q.ADMIN]}]}]}closeSidebar(){this.sidebarOpen=!1,this.sidebarOpenChange.emit(this.sidebarOpen)}canShow(e){if(!e.roles)return!0;let t=this.userService.getCurrentUser();return!!t&&e.roles.includes(t.role)}get userLinks(){return this.menuLinks.filter(e=>!e.children)}get adminLinks(){return this.menuLinks.filter(e=>e.children&&this.canShow(e))}static{this.\u0275fac=function(t){return new(t||n)(p(ke))}}static{this.\u0275cmp=T({type:n,selectors:[["app-sidebar"]],inputs:{sidebarOpen:"sidebarOpen"},outputs:{sidebarOpenChange:"sidebarOpenChange"},standalone:!0,features:[I],decls:3,vars:2,consts:[["loggedOutLinks",""],[4,"ngIf","ngIfElse"],[1,"w-64","bg-white","shadow-md","hidden","md:flex","flex-col","h-screen"],[1,"p-4","text-xl","font-bold","border-b"],[1,"flex-1"],[1,"p-4","space-y-2"],[4,"ngFor","ngForOf"],[1,"p-4","space-y-2","border-t"],["class","fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",3,"click",4,"ngIf"],["class","fixed inset-y-0 left-0 w-64 bg-white shadow-md z-50 md:hidden flex flex-col h-full",4,"ngIf"],[4,"ngIf"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"routerLink"],[1,"px-3","py-2","font-semibold","text-gray-700"],[1,"ml-4","space-y-1"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"routerLink"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40","md:hidden",3,"click"],[1,"fixed","inset-y-0","left-0","w-64","bg-white","shadow-md","z-50","md:hidden","flex","flex-col","h-full"],[1,"flex-1","overflow-auto"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click","routerLink"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink","click",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"click","routerLink"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"]],template:function(t,i){if(t&1&&v(0,vl,12,7,"ng-container",1)(1,Cl,13,11,"ng-template",null,0,ii),t&2){let o=St(2);f("ngIf",i.userService.getCurrentUser())("ngIfElse",o)}},dependencies:[W,We,G,Et,_e,de,Ye,Po],styles:['@charset "UTF-8";aside[_ngcontent-%COMP%]{background-color:#fff}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:background-color .2s;display:block;border-radius:.375rem;padding:.5rem .75rem}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}']})}}return n})();var vs=(()=>{class n{constructor(e,t,i){this.translate=e,this.authService=t,this.router=i,this.selectedLang="es",this.selectedLangChange=new Pe,this.toggleSidebar=new Pe}switchLanguage(e){this.selectedLang=e,this.selectedLangChange.emit(e),this.translate.use(e)}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(t){return new(t||n)(p(xt),p(Se),p(ye))}}static{this.\u0275cmp=T({type:n,selectors:[["app-header"]],inputs:{selectedLang:"selectedLang"},outputs:{selectedLangChange:"selectedLangChange",toggleSidebar:"toggleSidebar"},standalone:!0,features:[I],decls:18,vars:10,consts:[[1,"flex","items-center","justify-between","bg-gradient-to-r","from-teal-500","to-green-500","text-white","p-4","shadow-md"],[1,"md:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","gap-2"],["src","assets/logo-white.png","alt","Forest+ Logo",1,"logo"],[1,"font-bold"],[1,"flex","items-center","space-x-4"],[1,"bg-red-600","hover:bg-red-700","px-3","py-1","rounded","text-white","font-semibold",3,"click"],[1,"language-switcher"],[3,"click"]],template:function(t,i){t&1&&(c(0,"header",0)(1,"button",1),x("click",function(){return i.onToggleSidebar()}),st(),c(2,"svg",2),k(3,"path",3),m()(),Jt(),c(4,"div",4),k(5,"img",5),c(6,"span",6),h(7),b(8,"translate"),m()(),c(9,"div",7)(10,"button",8),x("click",function(){return i.logout()}),h(11),b(12,"translate"),m(),c(13,"div",9)(14,"button",10),x("click",function(){return i.switchLanguage("es")}),h(15,"ES"),m(),c(16,"button",10),x("click",function(){return i.switchLanguage("en")}),h(17,"EN"),m()()()()),t&2&&(l(7),O(C(8,6,"DASHBOARD.DASHBOARD")),l(4),E(" ",C(12,8,"DASHBOARD.LOGOUT")," "),l(3),ce("active",i.selectedLang==="es"),l(2),ce("active",i.selectedLang==="en"))},dependencies:[W,We],styles:[".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;font-weight:700}.logo[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}"]})}}return n})();var bs=(()=>{class n{constructor(){this.sidebarOpen=!1,this.selectedLang="es"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=T({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[I],decls:6,vars:2,consts:[[1,"flex","min-h-screen","bg-gray-100"],[3,"sidebarOpenChange","sidebarOpen"],[1,"flex-1","flex","flex-col"],[3,"selectedLangChange","toggleSidebar","selectedLang"],[1,"p-6","flex-1","overflow-auto"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"app-sidebar",1),Oi("sidebarOpenChange",function(s){return Pi(i.sidebarOpen,s)||(i.sidebarOpen=s),s}),m(),c(2,"div",2)(3,"app-header",3),Oi("selectedLangChange",function(s){return Pi(i.selectedLang,s)||(i.selectedLang=s),s}),x("toggleSidebar",function(){return i.sidebarOpen=!i.sidebarOpen}),m(),c(4,"main",4),k(5,"router-outlet"),m()()()),t&2&&(l(),Ai("sidebarOpen",i.sidebarOpen),l(2),Ai("selectedLang",i.selectedLang))},dependencies:[G,de,oi,W,ys,vs],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:220px}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.dashboard-card[_ngcontent-%COMP%]{text-align:center}.language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;font-weight:700}"]})}}return n})();function Sl(n,r){if(n&1&&(c(0,"span"),h(1),m()),n&2){let e=y();l(),E(", ",e.userName,"")}}function El(n,r){if(n&1&&(c(0,"p",4),h(1),m()),n&2){let e=r.$implicit;l(),E(" ",e," ")}}var ws=(()=>{class n{constructor(e){this.userService=e,this.userName=""}ngOnInit(){this.userService.user$.subscribe(e=>{e&&(this.userName=e.name)})}static{this.\u0275fac=function(t){return new(t||n)(p(ke))}}static{this.\u0275cmp=T({type:n,selectors:[["app-home"]],standalone:!0,features:[I],decls:7,vars:7,consts:[[1,"home-presentation","p-8","max-w-5xl","mx-auto","text-center","space-y-6"],[1,"text-4xl","font-extrabold","text-green-800"],[4,"ngIf"],["class","text-lg text-gray-700 leading-relaxed",4,"ngFor","ngForOf"],[1,"text-lg","text-gray-700","leading-relaxed"]],template:function(t,i){t&1&&(c(0,"section",0)(1,"h1",1),h(2),b(3,"translate"),v(4,Sl,2,1,"span",2),m(),v(5,El,2,1,"p",3),b(6,"translate"),m()),t&2&&(l(2),O(C(3,3,"HOME.TITLE")),l(2),f("ngIf",i.userName),l(),f("ngForOf",C(6,5,"HOME.LINES")))},dependencies:[G,Et,_e,W,We]})}}return n})();function xl(n,r){if(n&1&&(c(0,"p",10),h(1),m()),n&2){let e=y(2);l(),E(" Empresa: ",e.user.company==null?null:e.user.company.name," ")}}function Dl(n,r){if(n&1){let e=H();c(0,"div",1)(1,"mat-card",2)(2,"div",3),k(3,"img",4),c(4,"h2",5),h(5),m(),c(6,"p",6),h(7),m(),v(8,xl,2,1,"p",7),c(9,"div",8)(10,"button",9),x("click",function(){F(e);let i=y();return N(i.goToEdit())}),h(11," Editar "),m()()()()()}if(n&2){let e=y();l(3),f("src",e.user.picture||"assets/logo-white.png",ln),l(2),Co(" ",e.user.name," ",e.user.surname," ",e.user.secondSurname," "),l(2),O(e.user.email),l(),f("ngIf",e.user.role==="COMPANY_ADMIN"||e.user.role==="COMPANY_USER")}}var pr=(()=>{class n{constructor(e,t,i,o){this.authService=e,this.userService=t,this.router=i,this.route=o}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.userService.getUserById(+e).subscribe({next:t=>this.user=t,error:t=>{console.error("Error al cargar usuario por id",t)}}):this.authService.user$.subscribe(t=>{this.user=t??void 0})}goToEdit(){this.user?.id&&this.router.navigate([`/admin/user-form/${this.user.id}`])}static{this.\u0275fac=function(t){return new(t||n)(p(Se),p(ke),p(ye),p(ri))}}static{this.\u0275cmp=T({type:n,selectors:[["app-profile"]],standalone:!0,features:[I],decls:1,vars:1,consts:[["class","max-w-sm mx-auto",4,"ngIf"],[1,"max-w-sm","mx-auto"],[1,"rounded-2xl","shadow-md","p-4"],[1,"flex","flex-col","items-center","text-center"],["alt","Avatar",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","text-gray-500 font-medium mt-1",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"text-gray-500","font-medium","mt-1"]],template:function(t,i){t&1&&v(0,Dl,12,6,"div",0),t&2&&f("ngIf",i.user)},dependencies:[G,_e,W,Ke,lt,Ee,ct,dt]})}}return n})();var Cs=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=T({type:n,selectors:[["app-settings"]],standalone:!0,features:[I],decls:2,vars:0,template:function(t,i){t&1&&(c(0,"p"),h(1,"settings works!"),m())}})}}return n})();var Tl=()=>["../login"],Il=()=>({length:6});function Ml(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(C(2,1,"REGISTER.NAME_REQUIRED")))}function Rl(n,r){if(n&1&&(c(0,"div",23),v(1,Ml,3,3,"div",24),m()),n&2){let e,t=y(2);l(),f("ngIf",(e=t.registerForm.get("name"))==null?null:e.hasError("required"))}}function kl(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(C(2,1,"REGISTER.SURNAME_REQUIRED")))}function Al(n,r){if(n&1&&(c(0,"div",23),v(1,kl,3,3,"div",24),m()),n&2){let e,t=y(2);l(),f("ngIf",(e=t.registerForm.get("surname"))==null?null:e.hasError("required"))}}function Pl(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(C(2,1,"REGISTER.EMAIL_REQUIRED")))}function Ol(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(C(2,1,"REGISTER.EMAIL_INVALID")))}function Fl(n,r){if(n&1&&(c(0,"div",23),v(1,Pl,3,3,"div",24)(2,Ol,3,3,"div",24),m()),n&2){let e,t,i=y(2);l(),f("ngIf",(e=i.registerForm.get("email"))==null?null:e.hasError("required")),l(),f("ngIf",(t=i.registerForm.get("email"))==null?null:t.hasError("email"))}}function Nl(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(C(2,1,"REGISTER.PASSWORD_REQUIRED")))}function Ll(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),O(Lt(2,1,"REGISTER.PASSWORD_MINLENGTH",et(4,Il))))}function Bl(n,r){if(n&1&&(c(0,"div",23),v(1,Nl,3,3,"div",24)(2,Ll,3,5,"div",24),m()),n&2){let e,t,i=y(2);l(),f("ngIf",(e=i.registerForm.get("password"))==null?null:e.hasError("required")),l(),f("ngIf",(t=i.registerForm.get("password"))==null?null:t.hasError("minlength"))}}function jl(n,r){if(n&1){let e=H();c(0,"form",10),x("ngSubmit",function(){F(e);let i=y();return N(i.onSubmit())}),c(1,"div",11)(2,"label",12),h(3),b(4,"translate"),m(),k(5,"input",13),b(6,"translate"),v(7,Rl,2,1,"div",14),m(),c(8,"div")(9,"label",12),h(10),b(11,"translate"),m(),k(12,"input",15),b(13,"translate"),v(14,Al,2,1,"div",14),m(),c(15,"div")(16,"label",12),h(17),b(18,"translate"),m(),k(19,"input",16),b(20,"translate"),m(),c(21,"div",11)(22,"label",12),h(23),b(24,"translate"),m(),k(25,"input",17),b(26,"translate"),v(27,Fl,3,2,"div",14),m(),c(28,"div",18)(29,"label",12),h(30),b(31,"translate"),m(),k(32,"input",19),b(33,"translate"),c(34,"button",20),x("click",function(){F(e);let i=y();return N(i.hidePassword=!i.hidePassword)}),h(35),m(),v(36,Bl,3,2,"div",14),m(),c(37,"div",21)(38,"button",22),h(39),b(40,"translate"),m()()()}if(n&2){let e,t,i,o,s=y();f("formGroup",s.registerForm),l(3),O(C(4,19,"REGISTER.NAME")),l(2),ft("placeholder",C(6,21,"REGISTER.NAME_PLACEHOLDER")),l(2),f("ngIf",((e=s.registerForm.get("name"))==null?null:e.invalid)&&((e=s.registerForm.get("name"))==null?null:e.touched)),l(3),O(C(11,23,"REGISTER.SURNAME")),l(2),ft("placeholder",C(13,25,"REGISTER.SURNAME_PLACEHOLDER")),l(2),f("ngIf",((t=s.registerForm.get("surname"))==null?null:t.invalid)&&((t=s.registerForm.get("surname"))==null?null:t.touched)),l(3),O(C(18,27,"REGISTER.SECOND_SURNAME")),l(2),ft("placeholder",C(20,29,"REGISTER.SECOND_SURNAME_PLACEHOLDER")),l(4),O(C(24,31,"REGISTER.EMAIL")),l(2),ft("placeholder",C(26,33,"REGISTER.EMAIL_PLACEHOLDER")),l(2),f("ngIf",((i=s.registerForm.get("email"))==null?null:i.invalid)&&((i=s.registerForm.get("email"))==null?null:i.touched)),l(3),O(C(31,35,"REGISTER.PASSWORD")),l(2),ft("placeholder",C(33,37,"REGISTER.PASSWORD_PLACEHOLDER")),f("type",s.hidePassword?"password":"text"),l(3),E(" ",s.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),l(),f("ngIf",((o=s.registerForm.get("password"))==null?null:o.invalid)&&((o=s.registerForm.get("password"))==null?null:o.touched)),l(2),f("disabled",s.registerForm.invalid),l(),E(" ",C(40,39,"REGISTER.BUTTON")," ")}}function zl(n,r){n&1&&(c(0,"div",25),h(1),b(2,"translate"),m()),n&2&&(l(),E(" ",C(2,1,"REGISTER.SUCCESS")," "))}function Vl(n,r){if(n&1&&(c(0,"div",26),h(1),m()),n&2){let e=y();l(),E(" ",e.registerError," ")}}var Es=(()=>{class n{constructor(e,t){this.fb=e,this.authService=t,this.hidePassword=!0,this.registerError="",this.registerSuccess=!1,this.roles=Ho,this.registerForm=this.fb.group({name:["",be.required],surname:[""],secondSurname:[""],email:["",[be.required,be.email]],password:["",[be.required,be.minLength(6)]],role:[Q.USER]})}onSubmit(){this.registerForm.invalid||(this.registerError="",this.registerSuccess=!1,this.authService.register(this.registerForm.value).subscribe({next:()=>{this.registerSuccess=!0,this.registerForm.reset()},error:e=>this.registerError=e.error?.message||"Error al registrarse"}))}static{this.\u0275fac=function(t){return new(t||n)(p(fi),p(Se))}}static{this.\u0275cmp=T({type:n,selectors:[["app-register"]],standalone:!0,features:[I],decls:16,vars:14,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-gray-700","mb-1"],["type","text","formControlName","name",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text","formControlName","surname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","text","formControlName","secondSurname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],[1,"md:col-span-2","relative"],["formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"md:col-span-2","mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"text-center","text-red-500","mt-4"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),k(2,"img",2),m(),c(3,"div",3)(4,"h1",4),h(5),b(6,"translate"),m(),v(7,jl,41,41,"form",5)(8,zl,3,3,"div",6)(9,Vl,2,1,"div",7),c(10,"p",8),h(11),b(12,"translate"),c(13,"a",9),h(14),b(15,"translate"),m()()()()),t&2&&(l(5),E(" ",C(6,7,"REGISTER.TITLE")," "),l(2),f("ngIf",!i.registerSuccess),l(),f("ngIf",i.registerSuccess),l(),f("ngIf",i.registerError),l(2),E(" ",C(12,9,"REGISTER.ALREADY_ACCOUNT")," "),l(2),f("routerLink",et(13,Tl)),l(),E(" ",C(15,11,"REGISTER.LOGIN")," "))},dependencies:[G,_e,W,We,de,Ye,gi,ui,ci,di,mi,pi,hi,Ke,Xo,Zo,Ee,dt,wn]})}}return n})();var Hl=()=>["../register"],Ul=()=>({length:6});function Gl(n,r){n&1&&(c(0,"p",9),h(1,"Clave incorrecta"),m())}function $l(n,r){if(n&1){let e=H();c(0,"div",2)(1,"div",3)(2,"h1",4),h(3,"\u{1F510} Acceso restringido"),m(),c(4,"p",5),h(5,"Introduce la clave de desarrollador para continuar:"),m(),c(6,"input",6),Oi("ngModelChange",function(i){F(e);let o=y();return Pi(o.accessKey,i)||(o.accessKey=i),N(i)}),m(),c(7,"button",7),x("click",function(){F(e);let i=y();return N(i.checkAccessKey())}),h(8," Entrar "),m(),v(9,Gl,2,0,"p",8),m()()}if(n&2){let e=y();l(6),Ai("ngModel",e.accessKey),l(3),f("ngIf",e.error)}}function ql(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),E(" ",C(2,1,"LOGIN.EMAIL_REQUIRED")," "))}function Ql(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),E(" ",C(2,1,"LOGIN.EMAIL_INVALID")," "))}function Yl(n,r){if(n&1&&(c(0,"div",28),v(1,ql,3,3,"div",29)(2,Ql,3,3,"div",29),m()),n&2){let e,t,i=y(3);l(),f("ngIf",(e=(i.forgotMode?i.forgotForm:i.loginForm).get("email"))==null?null:e.hasError("required")),l(),f("ngIf",(t=(i.forgotMode?i.forgotForm:i.loginForm).get("email"))==null?null:t.hasError("email"))}}function Wl(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),E(" ",C(2,1,"LOGIN.PASSWORD_REQUIRED")," "))}function Kl(n,r){n&1&&(c(0,"div"),h(1),b(2,"translate"),m()),n&2&&(l(),E(" ",Lt(2,1,"LOGIN.PASSWORD_MINLENGTH",et(4,Ul))," "))}function Xl(n,r){if(n&1&&(c(0,"div",28),v(1,Wl,3,3,"div",29)(2,Kl,3,5,"div",29),m()),n&2){let e,t,i=y(4);l(),f("ngIf",(e=i.loginForm.get("password"))==null?null:e.hasError("required")),l(),f("ngIf",(t=i.loginForm.get("password"))==null?null:t.hasError("minlength"))}}function Zl(n,r){if(n&1){let e=H();c(0,"div",30)(1,"label",31),h(2),b(3,"translate"),m(),k(4,"input",32),b(5,"translate"),c(6,"button",33),x("click",function(){F(e);let i=y(3);return N(i.hidePassword=!i.hidePassword)}),h(7),m(),v(8,Xl,3,2,"div",25),m()}if(n&2){let e,t=y(3);l(2),O(C(3,5,"LOGIN.PASSWORD")),l(2),ft("placeholder",C(5,7,"LOGIN.PASSWORD_PLACEHOLDER")),f("type",t.hidePassword?"password":"text"),l(3),E(" ",t.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),l(),f("ngIf",((e=t.loginForm.get("password"))==null?null:e.invalid)&&((e=t.loginForm.get("password"))==null?null:e.touched))}}function Jl(n,r){if(n&1){let e=H();c(0,"form",21),x("ngSubmit",function(){F(e);let i=y(2);return N(i.forgotMode?i.onForgotSubmit():i.onSubmit())}),c(1,"div",22)(2,"label",23),h(3),b(4,"translate"),m(),k(5,"input",24),b(6,"translate"),v(7,Yl,3,2,"div",25),m(),v(8,Zl,9,9,"div",26),c(9,"button",27),h(10),b(11,"translate"),b(12,"translate"),m()()}if(n&2){let e,t=y(2);f("formGroup",t.forgotMode?t.forgotForm:t.loginForm),l(3),O(C(4,7,"LOGIN.EMAIL")),l(2),ft("placeholder",C(6,9,"LOGIN.EMAIL_PLACEHOLDER")),l(2),f("ngIf",((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.invalid)&&((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.touched)),l(),f("ngIf",!t.forgotMode),l(),f("disabled",(t.forgotMode?t.forgotForm:t.loginForm).invalid),l(),E(" ",t.forgotMode?C(11,11,"LOGIN.SEND_NEW_PASSWORD"):C(12,13,"LOGIN.BUTTON")," ")}}function ec(n,r){if(n&1){let e=H();c(0,"div",34),h(1),b(2,"translate"),c(3,"div",35)(4,"button",36),x("click",function(){F(e);let i=y(2);return N(i.toggleForgotMode())}),h(5),b(6,"translate"),m()()()}n&2&&(l(),E(" ",C(2,2,"LOGIN.FORGOT_PASSWORD_SUCCESS")," "),l(4),E(" ",C(6,4,"LOGIN.GO_TO_LOGIN")," "))}function tc(n,r){if(n&1){let e=H();c(0,"button",39),x("click",function(){F(e);let i=y(3);return N(i.resendVerificationEmail())}),h(1),b(2,"translate"),m()}n&2&&(l(),E(" ",C(2,1,"LOGIN.RESEND_EMAIL")," "))}function ic(n,r){if(n&1&&(c(0,"div",37),h(1),v(2,tc,3,3,"button",38),m()),n&2){let e=y(2);l(),E(" ",e.loginError," "),l(),f("ngIf",e.showResendButton)}}function nc(n,r){if(n&1){let e=H();c(0,"div",40)(1,"button",41),x("click",function(){F(e);let i=y(2);return N(i.toggleForgotMode())}),h(2),b(3,"translate"),m()()}n&2&&(l(2),E(" ",C(3,1,"LOGIN.FORGOT_PASSWORD")," "))}function rc(n,r){if(n&1&&(c(0,"div",10)(1,"div",11),k(2,"img",12),m(),c(3,"div",13)(4,"h1",14),h(5),b(6,"translate"),b(7,"translate"),m(),v(8,Jl,13,15,"form",15)(9,ec,7,6,"div",16)(10,ic,3,2,"div",17)(11,nc,4,3,"div",18),c(12,"p",19),h(13),b(14,"translate"),c(15,"a",20),h(16),b(17,"translate"),m()()()()),n&2){let e=y();l(5),E(" ",e.forgotMode?C(6,8,"LOGIN.FORGOT_PASSWORD_TITLE"):C(7,10,"LOGIN.TITLE")," "),l(3),f("ngIf",!e.success),l(),f("ngIf",e.success),l(),f("ngIf",!e.forgotMode&&e.loginError),l(),f("ngIf",!e.forgotMode&&!e.success),l(2),E(" ",C(14,12,"LOGIN.NO_ACCOUNT")," "),l(2),f("routerLink",et(16,Hl)),l(),E(" ",C(17,14,"LOGIN.REGISTER")," ")}}var xs=(()=>{class n{constructor(e,t,i,o){if(this.fb=e,this.router=t,this.translate=i,this.authService=o,this.hidePassword=!0,this.loginError=null,this.showResendButton=!1,this.unverifiedEmail=null,this.success=!1,this.forgotMode=!1,this.accessGranted=!1,this.accessKey="",this.error=!1,this.loginForm=this.fb.group({email:["",[be.required,be.email]],password:["",[be.required,be.minLength(6)]]}),this.forgotForm=this.fb.group({email:["",[be.required,be.email]]}),this.loginForm.valueChanges.subscribe(()=>this.loginError=null),!Fi.production){this.accessGranted=!0,this.error=!1;return}}checkAccessKey(){this.accessKey===Fi.devAccessKey?(this.accessGranted=!0,this.error=!1):(this.accessGranted=!1,this.error=!0)}toggleForgotMode(){this.forgotMode=!this.forgotMode,this.success=!1,this.loginError=null}onSubmit(){if(this.forgotMode){this.onForgotSubmit();return}if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.authService.login({email:e,password:t}).subscribe({next:i=>{i&&(i.forcePasswordChange?this.router.navigate(["/reset-password"],{queryParams:{email:i.email}}):this.router.navigateByUrl("/"))},error:i=>this.handleLoginError(i)})}}handleLoginError(e){console.error(e);let t=e.error?.message||"LOGIN.GENERIC_ERROR";t==="EMAIL_NOT_VERIFIED"?(this.loginError=this.translate.instant("LOGIN.EMAIL_NOT_VERIFIED"),this.showResendButton=!0,this.unverifiedEmail=this.loginForm.value.email):this.translate.get(t).subscribe(i=>{this.loginError=i,this.showResendButton=!1})}resendVerificationEmail(){this.unverifiedEmail&&this.authService.resendVerification(this.unverifiedEmail).subscribe({next:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_SENT"),this.showResendButton=!1},error:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_FAILED")}})}onForgotSubmit(){if(this.forgotForm.invalid)return;let e=this.forgotForm.value.email;this.authService.forgotPassword(e).pipe(rn(()=>{})).subscribe({next:()=>{this.success=!0},error:t=>{alert(t?.error?.message||"Error enviando correo de restablecimiento")}})}static{this.\u0275fac=function(t){return new(t||n)(p(fi),p(ye),p(xt),p(Se))}}static{this.\u0275cmp=T({type:n,selectors:[["app-login"]],standalone:!0,features:[I],decls:3,vars:2,consts:[["loginScreen",""],["class","flex flex-col items-center justify-center min-h-screen bg-gray-100",4,"ngIf","ngIfElse"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"bg-white","shadow-lg","rounded-2xl","p-6","w-full","max-w-md","text-center"],[1,"text-2xl","font-bold","text-green-700","mb-4"],[1,"text-gray-600","mb-4"],["type","password","placeholder","Clave de acceso",1,"border","px-3","py-2","rounded","w-64","mb-4","text-center","outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","ngModel"],[1,"bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition",3,"click"],["class","text-red-500 mt-2",4,"ngIf"],[1,"text-red-500","mt-2"],[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mb-6 relative",4,"ngIf"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"mb-6","relative"],["for","password",1,"block","text-gray-700","mb-1"],["id","password","formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],[1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],[1,"text-center","text-red-500","mt-4"],["class","ml-2 bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",3,"click",4,"ngIf"],[1,"ml-2","bg-blue-600","text-white","px-2","py-1","rounded","hover:bg-blue-700",3,"click"],[1,"text-center","mt-4"],["type","button",1,"text-blue-500","font-semibold","hover:underline",3,"click"]],template:function(t,i){if(t&1&&v(0,$l,10,2,"div",1)(1,rc,18,17,"ng-template",null,0,ii),t&2){let o=St(2);f("ngIf",!i.accessGranted)("ngIfElse",o)}},dependencies:[G,_e,gi,ui,ci,di,mi,pi,hi,qo,$o,W,We,de,Ye],styles:[".minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{background-color:transparent!important;padding-top:.5rem!important;padding-bottom:.5rem!important}.minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-start[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-end[_ngcontent-%COMP%]{border-color:#cbd5e1!important;border-width:1px!important}"]})}}return n})();var Vi=(()=>{class n{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.user$.pipe(Zt(1),Xt(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(t){return new(t||n)(q(Se),q(ye))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oc(n,r){n&1&&(c(0,"div",7),h(1),b(2,"translate"),c(3,"div",8)(4,"a",9),h(5),b(6,"translate"),m()()()),n&2&&(l(),E(" ",C(2,2,"VERIFY_EMAIL.SUCCESS")," "),l(4),E(" ",C(6,4,"VERIFY_EMAIL.GO_TO_LOGIN")," "))}function sc(n,r){if(n&1&&(c(0,"div",10),h(1),b(2,"translate"),m()),n&2){let e=y();l(),E(" ",e.errorMessage||C(2,1,"VERIFY_EMAIL.ERROR")," ")}}var Ds=(()=>{class n{constructor(e,t,i){this.route=e,this.authService=t,this.translate=i,this.loading=!0,this.success=!1,this.errorMessage=null}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.uuid;console.log("uuid:",t),t?this.authService.verifyEmail(t).subscribe({next:()=>{this.success=!0,this.loading=!1},error:i=>{console.error(i),this.success=!1,this.loading=!1;let o=i?.error?.message||"VERIFY_EMAIL.ERROR";this.translate.get(o).subscribe(s=>this.errorMessage=s)}}):(this.loading=!1,this.success=!1,this.translate.get("VERIFY_EMAIL.INVALID_LINK").subscribe(i=>{this.errorMessage=i}))})}static{this.\u0275fac=function(t){return new(t||n)(p(ri),p(Se),p(xt))}}static{this.\u0275cmp=T({type:n,selectors:[["app-email-verify"]],standalone:!0,features:[I],decls:9,vars:5,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-600 font-semibold mt-4",4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],["routerLink","/login",1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg"],[1,"text-center","text-red-600","font-semibold","mt-4"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),k(2,"img",2),m(),c(3,"mat-card",3)(4,"h1",4),h(5),b(6,"translate"),m(),v(7,oc,7,6,"div",5)(8,sc,3,3,"div",6),m()()),t&2&&(l(5),E(" ",C(6,3,"VERIFY_EMAIL.TITLE")," "),l(2),f("ngIf",!i.loading&&i.success),l(),f("ngIf",!i.loading&&!i.success))},dependencies:[G,_e,W,We,Ke,lt,de,Ye,It]})}}return n})();var ac=()=>["../login"];function lc(n,r){n&1&&(c(0,"div"),h(1,"La nueva contrase\xF1a es requerida"),m())}function cc(n,r){n&1&&(c(0,"div"),h(1,"La contrase\xF1a debe tener al menos 6 caracteres"),m())}function dc(n,r){if(n&1&&(c(0,"div",18),v(1,lc,2,0,"div",19)(2,cc,2,0,"div",19),m()),n&2){let e,t,i=y();l(),f("ngIf",(e=i.resetForm.get("newPassword"))==null?null:e.hasError("required")),l(),f("ngIf",(t=i.resetForm.get("newPassword"))==null?null:t.hasError("minlength"))}}function mc(n,r){n&1&&(c(0,"div"),h(1,"Confirma la nueva contrase\xF1a"),m())}function uc(n,r){if(n&1&&(c(0,"div",18),v(1,mc,2,0,"div",19),m()),n&2){let e,t=y();l(),f("ngIf",(e=t.resetForm.get("confirmPassword"))==null?null:e.hasError("required"))}}function pc(n,r){if(n&1&&(c(0,"div",20),h(1),m()),n&2){let e=y();l(),O(e.errorMessage)}}function hc(n,r){if(n&1&&(c(0,"div",21),h(1),m()),n&2){let e=y();l(),O(e.successMessage)}}var Ts=(()=>{class n{constructor(e,t,i,o){this.fb=e,this.authService=t,this.router=i,this.route=o,this.errorMessage="",this.successMessage="",this.token=null,this.resetForm=this.fb.group({newPassword:["",[be.required,be.minLength(6)]],confirmPassword:["",be.required]}),this.token=this.route.snapshot.queryParamMap.get("token")||localStorage.getItem("forestPlus_token")}onSubmit(){if(this.resetForm.invalid)return;let{newPassword:e,confirmPassword:t}=this.resetForm.value;if(e!==t){this.errorMessage="Las contrase\xF1as no coinciden";return}if(!this.token){this.errorMessage="Token inv\xE1lido o expirado";return}let i={newPassword:e};this.authService.resetPassword(i,this.isUUID(this.token)?this.token:void 0).subscribe({next:()=>{this.successMessage="Contrase\xF1a cambiada correctamente",setTimeout(()=>this.router.navigate(["/"]),2e3)},error:s=>{this.errorMessage=s.error?.message||"Error al cambiar la contrase\xF1a"}})}isUUID(e){return e.length===36&&e.includes("-")}static{this.\u0275fac=function(t){return new(t||n)(p(fi),p(Se),p(ye),p(ri))}}static{this.\u0275cmp=T({type:n,selectors:[["app-reset-password"]],standalone:!0,features:[I],decls:25,vars:8,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","newPassword",1,"block","text-gray-700","mb-1"],["id","newPassword","type","password","formControlName","newPassword","placeholder","Ingresa tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-6"],["for","confirmPassword",1,"block","text-gray-700","mb-1"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center text-green-600 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-red-500","mt-4"],[1,"text-center","text-green-600","mt-4"]],template:function(t,i){if(t&1&&(c(0,"div",0)(1,"div",1),k(2,"img",2),m(),c(3,"div",3)(4,"h1",4),h(5," Cambiar contrase\xF1a "),m(),c(6,"form",5),x("ngSubmit",function(){return i.onSubmit()}),c(7,"div",6)(8,"label",7),h(9,"Nueva contrase\xF1a"),m(),k(10,"input",8),v(11,dc,3,2,"div",9),m(),c(12,"div",10)(13,"label",11),h(14,"Confirmar nueva contrase\xF1a"),m(),k(15,"input",12),v(16,uc,2,1,"div",9),m(),c(17,"button",13),h(18," Cambiar contrase\xF1a "),m()(),v(19,pc,2,1,"div",14)(20,hc,2,1,"div",15),c(21,"p",16),h(22," \xBFRecordaste tu contrase\xF1a? "),c(23,"a",17),h(24," Inicia sesi\xF3n "),m()()()()),t&2){let o,s;l(6),f("formGroup",i.resetForm),l(5),f("ngIf",((o=i.resetForm.get("newPassword"))==null?null:o.invalid)&&((o=i.resetForm.get("newPassword"))==null?null:o.touched)),l(5),f("ngIf",((s=i.resetForm.get("confirmPassword"))==null?null:s.invalid)&&((s=i.resetForm.get("confirmPassword"))==null?null:s.touched)),l(),f("disabled",i.resetForm.invalid),l(2),f("ngIf",i.errorMessage),l(),f("ngIf",i.successMessage),l(3),f("routerLink",et(7,ac))}},dependencies:[G,_e,gi,ui,ci,di,mi,pi,hi,W,de,Ye]})}}return n})();var Mt=(()=>{class n{constructor(e,t){this.userService=e,this.router=t}canActivate(e){let t=e.data.roles,i=this.userService.getCurrentUser();return i?i.role&&t.includes(i.role)?!0:(this.router.navigate(["/dashboard"]),!1):(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(t){return new(t||n)(q(ke),q(ye))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fc=["*",[["mat-toolbar-row"]]],gc=["*","mat-toolbar-row"],_c=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=L({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),Ms=(()=>{class n{constructor(e,t,i){this._elementRef=e,this._platform=t,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||n)(p(Y),p(Dt),p(Qe))}}static{this.\u0275cmp=T({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,o){if(t&1&&Je(o,_c,5),t&2){let s;J(s=ee())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(cn(i.color?"mat-"+i.color:""),ce("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[I],ngContentSelectors:gc,decls:2,vars:0,template:function(t,i){t&1&&(Ct(fc),Fe(0),Fe(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var Rs=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({imports:[Ce,Ce]})}}return n})();var As=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=T({type:n,selectors:[["app-admin-page"]],standalone:!0,features:[I],decls:7,vars:0,consts:[["color","primary",1,"flex","items-center","justify-between","px-6","py-4","bg-white","shadow-md"],[1,"flex","items-center","space-x-3"],[1,"text-gray-800"],[1,"text-2xl","font-bold","text-gray-800"]],template:function(t,i){t&1&&(c(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),h(3,"admin_panel_settings"),m(),c(4,"h1",3),h(5,"Administraci\xF3n"),m()()(),k(6,"router-outlet"))},dependencies:[de,oi,Rs,Ms,dt,li,Ee]})}}return n})();var Cc=[[["caption"]],[["colgroup"],["col"]],"*"],Sc=["caption","colgroup, col","*"];function Ec(n,r){n&1&&Fe(0,2)}function xc(n,r){n&1&&(c(0,"thead",0),fe(1,1),m(),c(2,"tbody",0),fe(3,2)(4,3),m(),c(5,"tfoot",0),fe(6,4),m())}function Dc(n,r){n&1&&fe(0,1)(1,2)(2,3)(3,4)}var it=new ne("CDK_TABLE");var Pn=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(p(Ze))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}}return n})(),On=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(p(Ze))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return n})(),Fs=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(p(Ze))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return n})(),Si=(()=>{class n{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(t){return new(t||n)(p(it,8))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,o){if(t&1&&(Je(o,Pn,5),Je(o,On,5),Je(o,Fs,5)),t&2){let s;J(s=ee())&&(i.cell=s.first),J(s=ee())&&(i.headerCell=s.first),J(s=ee())&&(i.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ge],stickyEnd:[2,"stickyEnd","stickyEnd",ge]},standalone:!0,features:[$e([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Me]})}}return n})(),Mn=class{constructor(r,e){e.nativeElement.classList.add(...r._columnCssClassName)}},Ns=(()=>{class n extends Mn{constructor(e,t){super(e,t)}static{this.\u0275fac=function(t){return new(t||n)(p(Si),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Z]})}}return n})();var Ls=(()=>{class n extends Mn{constructor(e,t){super(e,t);let i=e._table?._getCellRole();i&&t.nativeElement.setAttribute("role",i)}static{this.\u0275fac=function(t){return new(t||n)(p(Si),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Z]})}}return n})(),Rn=class{constructor(){this.tasks=[],this.endTasks=[]}},kn=new ne("_COALESCED_STYLE_SCHEDULER"),fr=(()=>{class n{constructor(e){this._currentSchedule=null,this._ngZone=re(Oe)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Rn,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new Rn;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static{this.\u0275fac=function(t){return new(t||n)(q(Oe))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac})}}return n})();var gr=(()=>{class n{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Hi?e.headerCell.template:this instanceof _r?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(t){return new(t||n)(p(Ze),p(ni))}}static{this.\u0275dir=L({type:n,features:[Nt]})}}return n})(),Hi=(()=>{class n extends gr{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,i){super(e,t),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||n)(p(Ze),p(ni),p(it,8))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ge]},standalone:!0,features:[Me,Z,Nt]})}}return n})(),_r=(()=>{class n extends gr{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,i){super(e,t),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||n)(p(Ze),p(ni),p(it,8))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ge]},standalone:!0,features:[Me,Z,Nt]})}}return n})(),Fn=(()=>{class n extends gr{constructor(e,t,i){super(e,t),this._table=i}static{this.\u0275fac=function(t){return new(t||n)(p(Ze),p(ni),p(it,8))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Z]})}}return n})(),zt=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(t){return new(t||n)(p(wt))}}static{this.\u0275dir=L({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return n})(),yr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=T({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[I],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&fe(0,0)},dependencies:[zt],encapsulation:2})}}return n})();var vr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=T({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[I],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&fe(0,0)},dependencies:[zt],encapsulation:2})}}return n})(),Bs=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(t){return new(t||n)(p(Ze))}}static{this.\u0275dir=L({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return n})(),Ps=["top","bottom","left","right"],hr=class{constructor(r,e,t,i,o=!0,s=!0,a){this._isNativeHtmlTable=r,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(d=>this._updateCachedSizes(d)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(r,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(r);let t=[];for(let i of r)if(i.nodeType===i.ELEMENT_NODE){t.push(i);for(let o=0;o<i.children.length;o++)t.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let i of t)this._removeStickyStyle(i,e)})}updateStickyColumns(r,e,t,i=!0,o=!0){if(o&&this._updateStickyColumnReplayQueue({rows:[...r],stickyStartStates:[...e],stickyEndStates:[...t]}),!r.length||!this._isBrowser||!(e.some(s=>s)||t.some(s=>s))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let s=r[0],a=s.children.length,d=this._getCellWidths(s,i),u=this._getStickyStartColumnPositions(d,e),_=this._getStickyEndColumnPositions(d,t),g=e.lastIndexOf(!0),w=t.indexOf(!0),D=this.direction==="rtl",M=D?"right":"left",P=D?"left":"right";for(let U of r)for(let j=0;j<a;j++){let te=U.children[j];e[j]&&this._addStickyStyle(te,M,u[j],j===g),t[j]&&this._addStickyStyle(te,P,_[j],j===w)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:g===-1?[]:d.slice(0,g+1).map((U,j)=>e[j]?U:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:w===-1?[]:d.slice(w).map((U,j)=>t[j+w]?U:null).reverse()}))})}stickRows(r,e,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let i=t==="bottom"?r.slice().reverse():r,o=t==="bottom"?e.slice().reverse():e,s=[],a=[],d=[];for(let _=0,g=0;_<i.length;_++){if(!o[_])continue;s[_]=g;let w=i[_];d[_]=this._isNativeHtmlTable?Array.from(w.children):[w];let D=this._retrieveElementSize(w).height;g+=D,a[_]=D}let u=o.lastIndexOf(!0);for(let _=0;_<i.length;_++){if(!o[_])continue;let g=s[_],w=_===u;for(let D of d[_])this._addStickyStyle(D,t,g,w)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:d})})}updateStickyFooterContainer(r,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=r.querySelector("tfoot");t&&(e.some(i=>!i)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(r,e){for(let i of e)r.style[i]="",r.classList.remove(this._borderCellCss[i]);Ps.some(i=>e.indexOf(i)===-1&&r.style[i])?r.style.zIndex=this._getCalculatedZIndex(r):(r.style.zIndex="",this._needsPositionStickyOnElement&&(r.style.position=""),r.classList.remove(this._stickCellCss))}_addStickyStyle(r,e,t,i){r.classList.add(this._stickCellCss),i&&r.classList.add(this._borderCellCss[e]),r.style[e]=`${t}px`,r.style.zIndex=this._getCalculatedZIndex(r),this._needsPositionStickyOnElement&&(r.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(r){let e={top:100,bottom:10,left:1,right:1},t=0;for(let i of Ps)r.style[i]&&(t+=e[i]);return t?`${t}`:""}_getCellWidths(r,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],i=r.children;for(let o=0;o<i.length;o++){let s=i[o];t.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(r,e){let t=[],i=0;for(let o=0;o<r.length;o++)e[o]&&(t[o]=i,i+=r[o]);return t}_getStickyEndColumnPositions(r,e){let t=[],i=0;for(let o=r.length;o>0;o--)e[o]&&(t[o]=i,i+=r[o]);return t}_retrieveElementSize(r){let e=this._elemSizeCache.get(r);if(e)return e;let t=r.getBoundingClientRect(),i={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(r,i),this._resizeObserver.observe(r,{box:"border-box"})),i}_updateStickyColumnReplayQueue(r){this._removeFromStickyColumnReplayQueue(r.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(r)}_removeFromStickyColumnReplayQueue(r){let e=new Set(r);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(i=>!e.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(r){let e=!1;for(let t of r){let i=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};i.width!==this._elemSizeCache.get(t.target)?.width&&Tc(t.target)&&(e=!0),this._elemSizeCache.set(t.target,i)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function Tc(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(r=>n.classList.contains(r))}var An=new ne("CDK_SPL");var br=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=re(it);i._rowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(p(wt),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}}return n})(),wr=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=re(it);i._headerRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(p(wt),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return n})(),Cr=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=re(it);i._footerRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(p(wt),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return n})(),Sr=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=re(it);i._noDataRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(p(wt),p(Y))}}static{this.\u0275dir=L({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return n})();var Er=(()=>{class n{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,i,o,s,a,d,u,_,g,w,D){this._differs=e,this._changeDetectorRef=t,this._elementRef=i,this._dir=s,this._platform=d,this._viewRepeater=u,this._coalescedStyleScheduler=_,this._viewportRuler=g,this._stickyPositioningListener=w,this._onDestroy=new ie,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Pe,this.viewChange=new vt({start:0,end:Number.MAX_VALUE}),this._injector=re(Ge),o||i.nativeElement.setAttribute("role","table"),this._document=a,this._isServer=!d.isBrowser,this._isNativeHtmlTable=i.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(Ue(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),yn(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{i.operation===es.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(i=>{let o=t.get(i.currentIndex);o.context.$implicit=i.item.data}),this._updateNoDataRow(),ei(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let i=Os(this._headerRowOutlet,"thead");i&&(i.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let i=Os(this._footerRowOutlet,"tfoot");i&&(i.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let a=0;a<t.length;a++)this._renderRows[a].rowDef===o&&s.push(t[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i],s=this._getRenderRowsForData(o,i,t.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let d=s[a],u=this._cachedRenderRowsMap.get(d.data);u.has(d.rowDef)?u.get(d.rowDef).push(d):u.set(d.rowDef,[d]),e.push(d)}}return e}_getRenderRowsForData(e,t,i){return this._getRowDefs(e,t).map(s=>{let a=i&&i.has(s)?i.get(s):[];if(a.length){let d=a.shift();return d.dataIndex=t,d}else return{data:e,rowDef:s,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),In(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=In(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=In(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=In(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,a)=>{let d=!!a.getColumnsDiff();return s||d},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),t||i||o}_switchDataSource(e){this._data=[],yn(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;yn(this.dataSource)?e=this.dataSource.connect(this):po(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=bt(this.dataSource)),this._renderChangeSubscription=e.pipe(Ue(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let i=Array.from(t.columns||[]).map(a=>{let d=this._columnDefsByName.get(a);return d}),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let i=0;i<e.viewContainer.length;i++){let o=e.viewContainer.get(i);t.push(o.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(t,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(t,e))||this._defaultRowDef;o&&i.push(o)}return i.length,i}_getEmbeddedViewArgs(e,t){let i=e.rowDef,o={$implicit:e.data};return{templateRef:i.template,context:o,index:t}}_renderRow(e,t,i,o={}){let s=e.viewContainer.createEmbeddedView(t.template,o,i);return this._renderCellTemplateForItem(t,o),s}_renderCellTemplateForItem(e,t){for(let i of this._getCellTemplates(e))zt.mostRecentCellOutlet&&zt.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,i=e.length;t<i;t++){let s=e.get(t).context;s.count=i,s.first=t===0,s.last=t===i-1,s.even=t%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[t].dataIndex,s.renderIndex=t):s.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let i=this._columnDefsByName.get(t);return e.extractCellTemplate(i)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,i)=>t||i.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new hr(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:bt()).pipe(Ue(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let i=this._noDataRowOutlet.viewContainer;if(t){let o=i.createEmbeddedView(e.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else i.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||n)(p(ni),p(qe),p(Y),go("role"),p(Bt,8),p(Qe),p(Dt),p(Li),p(kn),p(ns),p(An,12),p(Oe,8))}}static{this.\u0275cmp=T({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,o){if(t&1&&(Je(o,Bs,5),Je(o,Si,5),Je(o,Fn,5),Je(o,Hi,5),Je(o,_r,5)),t&2){let s;J(s=ee())&&(i._noDataRow=s.first),J(s=ee())&&(i._contentColumnDefs=s),J(s=ee())&&(i._contentRowDefs=s),J(s=ee())&&(i._contentHeaderRowDefs=s),J(s=ee())&&(i._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){t&2&&ce("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ge],fixedLayout:[2,"fixedLayout","fixedLayout",ge]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[$e([{provide:it,useExisting:n},{provide:Li,useClass:vn},{provide:kn,useClass:fr},{provide:An,useValue:null}]),Me,I],ngContentSelectors:Sc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){t&1&&(Ct(Cc),Fe(0),Fe(1,1),v(2,Ec,1,0)(3,xc,7,0)(4,Dc,4,0)),t&2&&(l(2),Re(i._isServer?2:-1),l(),Re(i._isNativeHtmlTable?3:4))},dependencies:[wr,br,Sr,Cr],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function In(n,r){return n.concat(Array.from(r))}function Os(n,r){let e=r.toUpperCase(),t=n.viewContainer.element.nativeElement;for(;t;){let i=t.nodeType===1?t.nodeName:null;if(i===e)return t;if(i==="TABLE")break;t=t.parentNode}return null}var js=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({imports:[os]})}}return n})();var Ic=[[["caption"]],[["colgroup"],["col"]],"*"],Mc=["caption","colgroup, col","*"];function Rc(n,r){n&1&&Fe(0,2)}function kc(n,r){n&1&&(c(0,"thead",0),fe(1,1),m(),c(2,"tbody",2),fe(3,3)(4,4),m(),c(5,"tfoot",0),fe(6,5),m())}function Ac(n,r){n&1&&fe(0,1)(1,3)(2,4)(3,5)}var zs=(()=>{class n extends Er{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275cmp=T({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){t&2&&ce("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[$e([{provide:Er,useExisting:n},{provide:it,useExisting:n},{provide:kn,useClass:fr},{provide:Li,useClass:vn},{provide:An,useValue:null}]),Z,I],ngContentSelectors:Mc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){t&1&&(Ct(Ic),Fe(0),Fe(1,1),v(2,Rc,1,0)(3,kc,7,0)(4,Ac,4,0)),t&2&&(l(2),Re(i._isServer?2:-1),l(),Re(i._isNativeHtmlTable?3:4))},dependencies:[wr,br,Sr,Cr],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),Vs=(()=>{class n extends Pn{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[$e([{provide:Pn,useExisting:n}]),Z]})}}return n})(),Hs=(()=>{class n extends On{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[$e([{provide:On,useExisting:n}]),Z]})}}return n})();var Us=(()=>{class n extends Si{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[$e([{provide:Si,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Z]})}}return n})(),Gs=(()=>{class n extends Ns{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Z]})}}return n})();var $s=(()=>{class n extends Ls{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Z]})}}return n})();var qs=(()=>{class n extends Hi{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ge]},standalone:!0,features:[$e([{provide:Hi,useExisting:n}]),Me,Z]})}}return n})();var Qs=(()=>{class n extends Fn{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[$e([{provide:Fn,useExisting:n}]),Z]})}}return n})(),Ys=(()=>{class n extends yr{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275cmp=T({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[$e([{provide:yr,useExisting:n}]),Z,I],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&fe(0,0)},dependencies:[zt],encapsulation:2})}}return n})();var Ws=(()=>{class n extends vr{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275cmp=T({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[$e([{provide:vr,useExisting:n}]),Z,I],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&fe(0,0)},dependencies:[zt],encapsulation:2})}}return n})();var Nn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({imports:[Ce,js,Ce]})}}return n})(),Pc=9007199254740991,Ei=class extends Jo{get data(){return this._data.value}set data(r){r=Array.isArray(r)?r:[],this._data.next(r),this._renderChangesSubscription||this._filterData(r)}get filter(){return this._filter.value}set filter(r){this._filter.next(r),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(r){this._sort=r,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(r){this._paginator=r,this._updateChangeSubscription()}constructor(r=[]){super(),this._renderData=new vt([]),this._filter=new vt(""),this._internalPageChanges=new ie,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{let i=e[t];if(Bo(i)){let o=Number(i);return o<Pc?o:i}return i},this.sortData=(e,t)=>{let i=t.active,o=t.direction;return!i||o==""?e:e.sort((s,a)=>{let d=this.sortingDataAccessor(s,i),u=this.sortingDataAccessor(a,i),_=typeof d,g=typeof u;_!==g&&(_==="number"&&(d+=""),g==="number"&&(u+=""));let w=0;return d!=null&&u!=null?d>u?w=1:d<u&&(w=-1):d!=null?w=1:u!=null&&(w=-1),w*(o=="asc"?1:-1)})},this.filterPredicate=(e,t)=>{let i=Object.keys(e).reduce((s,a)=>s+e[a]+"\u25EC","").toLowerCase(),o=t.trim().toLowerCase();return i.indexOf(o)!=-1},this._data=new vt(r),this._updateChangeSubscription()}_updateChangeSubscription(){let r=this._sort?Ft(this._sort.sortChange,this._sort.initialized):bt(null),e=this._paginator?Ft(this._paginator.page,this._internalPageChanges,this._paginator.initialized):bt(null),t=this._data,i=tn([t,this._filter]).pipe(Xt(([a])=>this._filterData(a))),o=tn([i,r]).pipe(Xt(([a])=>this._orderData(a))),s=tn([o,e]).pipe(Xt(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(r){return this.filteredData=this.filter==null||this.filter===""?r:r.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(r){return this.sort?this.sortData(r.slice(),this.sort):r}_pageData(r){if(!this.paginator)return r;let e=this.paginator.pageIndex*this.paginator.pageSize;return r.slice(e,e+this.paginator.pageSize)}_updatePaginator(r){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=r,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,i=Math.min(e.pageIndex,t);i!==e.pageIndex&&(e.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Fc=["tooltip"],Js=20;var ea=new ne("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=re(Be);return()=>n.scrollStrategies.reposition({scrollThrottle:Js})}});function Nc(n){return()=>n.scrollStrategies.reposition({scrollThrottle:Js})}var Lc={provide:ea,deps:[Be],useFactory:Nc};function Bc(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var jc=new ne("mat-tooltip-default-options",{providedIn:"root",factory:Bc});var Ks="tooltip-panel",Xs=Lo({passive:!0}),zc=8,Vc=8,Hc=24,Uc=200,ta=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=dr(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=dr(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ai(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ai(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,i,o,s,a,d,u,_,g,w,D){this._overlay=e,this._elementRef=t,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=d,this._focusMonitor=u,this._dir=g,this._defaultOptions=w,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Gc,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new ie,this._injector=re(Ge),this._scrollStrategy=_,this._document=D,w&&(this._showDelay=w.showDelay,this._hideDelay=w.hideDelay,w.position&&(this.position=w.position),w.positionAtOrigin&&(this.positionAtOrigin=w.positionAtOrigin),w.touchGestures&&(this.touchGestures=w.touchGestures),w.tooltipClass&&(this.tooltipClass=w.tooltipClass)),g.change.pipe(Ue(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=zc}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ue(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,i])=>{e.removeEventListener(t,i,Xs)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(t);this._detach(),this._portal=this._portal||new Bi(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Y)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(Ue(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Ks}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ue(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ue(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!si(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(oe(oe({},i.main),o.main)),this._addOffset(oe(oe({},i.fallback),o.fallback))])}_addOffset(e){let t=Vc,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=i?-t:t:e.originX==="end"&&(e.offsetX=i?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"||t=="below"?i={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"?i={overlayX:"center",overlayY:"bottom"}:t=="below"?i={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ei(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:i,originY:o}=e,s;if(t==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=t==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let d=`${this._cssClassPrefix}-${Ks}-`;a.removePanelClass(d+this._currentPosition),a.addPanelClass(d+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],i=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let i=t.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,i])=>{this._elementRef.nativeElement.addEventListener(t,i,Xs)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;t!==i&&!i.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,i=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!t.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(t){return new(t||n)(p(Be),p(Y),p(ts),p(wt),p(Oe),p(Dt),p(un),p(Tt),p(ea),p(Bt),p(jc,8),p(Qe))}}static{this.\u0275dir=L({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,i){t&2&&ce("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),Gc=(()=>{class n{constructor(e,t,i){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ie,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=i==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Hc&&e.width>=Uc}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:i),t.classList.add(e?i:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(t);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(t){return new(t||n)(p(qe),p(Y),p(at,8))}}static{this.\u0275cmp=T({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(t&1&&Ne(Fc,7),t&2){let o;J(o=ee())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,i){t&1&&x("mouseleave",function(s){return i._handleMouseLeave(s)})},standalone:!0,features:[I],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,i){if(t&1){let o=H();c(0,"div",1,0),x("animationend",function(a){return F(o),N(i._handleAnimationEnd(a))}),c(2,"div",2),h(3),m()()}t&2&&(ce("mdc-tooltip--multiline",i._isMultiline),f("ngClass",i.tooltipClass),l(3),O(i.message))},dependencies:[dn],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var ia=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:[Lc],imports:[fn,G,vi,Ce,Ce,rs]})}}return n})();function $c(n,r){if(n&1&&(c(0,"mat-option",17),h(1),m()),n&2){let e=r.$implicit;f("value",e),l(),E(" ",e," ")}}function qc(n,r){if(n&1){let e=H();c(0,"mat-form-field",14)(1,"mat-select",16,0),x("selectionChange",function(i){F(e);let o=y(2);return N(o._changePageSize(i.value))}),bo(3,$c,2,2,"mat-option",17,vo),m(),c(5,"div",18),x("click",function(){F(e);let i=St(2);return N(i.open())}),m()()}if(n&2){let e=y(2);f("appearance",e._formFieldAppearance)("color",e.color),l(),f("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),wo(e._displayedPageSizeOptions)}}function Qc(n,r){if(n&1&&(c(0,"div",15),h(1),m()),n&2){let e=y(2);l(),O(e.pageSize)}}function Yc(n,r){if(n&1&&(c(0,"div",3)(1,"div",13),h(2),m(),v(3,qc,6,7,"mat-form-field",14)(4,Qc,2,1,"div",15),m()),n&2){let e=y();l(),me("id",e._pageSizeLabelId),l(),E(" ",e._intl.itemsPerPageLabel," "),l(),Re(e._displayedPageSizeOptions.length>1?3:-1),l(),Re(e._displayedPageSizeOptions.length<=1?4:-1)}}function Wc(n,r){if(n&1){let e=H();c(0,"button",19),x("click",function(){F(e);let i=y();return N(i.firstPage())}),st(),c(1,"svg",8),k(2,"path",20),m()()}if(n&2){let e=y();f("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),me("aria-label",e._intl.firstPageLabel)}}function Kc(n,r){if(n&1){let e=H();c(0,"button",21),x("click",function(){F(e);let i=y();return N(i.lastPage())}),st(),c(1,"svg",8),k(2,"path",22),m()()}if(n&2){let e=y();f("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),me("aria-label",e._intl.lastPageLabel)}}var Ln=(()=>{class n{constructor(){this.changes=new ie,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,i)=>{if(i==0||t==0)return`0 of ${i}`;i=Math.max(i,0);let o=e*t,s=o<i?Math.min(o+t,i):o+t;return`${o+1} \u2013 ${s} of ${i}`}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xc(n){return n||new Ln}var Zc={provide:Ln,deps:[[new sn,new an,Ln]],useFactory:Xc},Jc=50;var ed=new ne("MAT_PAGINATOR_DEFAULT_OPTIONS"),td=0,Vt=(()=>{class n{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>gt(t,0)),this._updateDisplayedPageSizeOptions()}constructor(e,t,i){if(this._intl=e,this._changeDetectorRef=t,this._pageSizeLabelId=`mat-paginator-page-size-label-${td++}`,this._isInitialized=!1,this._initializedStream=new en(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Pe,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:o,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:d}=i;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),d!=null&&(this.showFirstLastButtons=d)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Jc),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(t){return new(t||n)(p(Ln),p(qe),p(ed,8))}}static{this.\u0275cmp=T({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",gt],length:[2,"length","length",gt],pageSize:[2,"pageSize","pageSize",gt],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",ge],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",ge],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",ge]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[Me,I],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){t&1&&(c(0,"div",1)(1,"div",2),v(2,Yc,5,4,"div",3),c(3,"div",4)(4,"div",5),h(5),m(),v(6,Wc,3,5,"button",6),c(7,"button",7),x("click",function(){return i.previousPage()}),st(),c(8,"svg",8),k(9,"path",9),m()(),Jt(),c(10,"button",10),x("click",function(){return i.nextPage()}),st(),c(11,"svg",8),k(12,"path",11),m()(),v(13,Kc,3,5,"button",12),m()()()),t&2&&(l(2),Re(i.hidePageSize?-1:2),l(3),E(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l(),Re(i.showFirstLastButtons?6:-1),l(),f("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),me("aria-label",i._intl.previousPageLabel),l(3),f("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),me("aria-label",i._intl.nextPageLabel),l(3),Re(i.showFirstLastButtons?13:-1))},dependencies:[Ko,cs,Vo,gn,ta],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return n})(),Bn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:[Zc],imports:[Ee,wn,ia,Vt]})}}return n})();var nd=["mat-sort-header",""],rd=["*"];function od(n,r){if(n&1){let e=H();c(0,"div",2),x("@arrowPosition.start",function(){F(e);let i=y();return N(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){F(e);let i=y();return N(i._disableViewStateAnimation=!1)}),k(1,"div",3),c(2,"div",4),k(3,"div",5)(4,"div",6)(5,"div",7),m()()}if(n&2){let e=y();f("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),l(2),f("@indicator",e._getArrowDirectionState()),l(),f("@leftPointer",e._getArrowDirectionState()),l(),f("@rightPointer",e._getArrowDirectionState())}}var na=new ne("MAT_SORT_DEFAULT_OPTIONS"),Ht=(()=>{class n{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new en(1),this.sortables=new Map,this._stateChanges=new ie,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Pe,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,i=sd(e.start||this.start,t),o=i.indexOf(this.direction)+1;return o>=i.length&&(o=0),i[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(t){return new(t||n)(p(na,8))}}static{this.\u0275dir=L({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",ge],disabled:[2,"matSortDisabled","disabled",ge]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Me,Nt]})}}return n})();function sd(n,r){let e=["asc","desc"];return n=="desc"&&e.reverse(),r||e.push(""),e}var Rt=zo.ENTERING+" "+jo.STANDARD_CURVE,xi={indicator:jt("indicator",[Le("active-asc, asc",K({transform:"translateY(0px)"})),Le("active-desc, desc",K({transform:"translateY(10px)"})),tt("active-asc <=> active-desc",ut(Rt))]),leftPointer:jt("leftPointer",[Le("active-asc, asc",K({transform:"rotate(-45deg)"})),Le("active-desc, desc",K({transform:"rotate(45deg)"})),tt("active-asc <=> active-desc",ut(Rt))]),rightPointer:jt("rightPointer",[Le("active-asc, asc",K({transform:"rotate(45deg)"})),Le("active-desc, desc",K({transform:"rotate(-45deg)"})),tt("active-asc <=> active-desc",ut(Rt))]),arrowOpacity:jt("arrowOpacity",[Le("desc-to-active, asc-to-active, active",K({opacity:1})),Le("desc-to-hint, asc-to-hint, hint",K({opacity:.54})),Le("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",K({opacity:0})),tt("* => asc, * => desc, * => active, * => hint, * => void",ut("0ms")),tt("* <=> *",ut(Rt))]),arrowPosition:jt("arrowPosition",[tt("* => desc-to-hint, * => desc-to-active",ut(Rt,Ni([K({transform:"translateY(-25%)"}),K({transform:"translateY(0)"})]))),tt("* => hint-to-desc, * => active-to-desc",ut(Rt,Ni([K({transform:"translateY(0)"}),K({transform:"translateY(25%)"})]))),tt("* => asc-to-hint, * => asc-to-active",ut(Rt,Ni([K({transform:"translateY(25%)"}),K({transform:"translateY(0)"})]))),tt("* => hint-to-asc, * => active-to-asc",ut(Rt,Ni([K({transform:"translateY(0)"}),K({transform:"translateY(-25%)"})]))),Le("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",K({transform:"translateY(0)"})),Le("hint-to-desc, active-to-desc, desc",K({transform:"translateY(-25%)"})),Le("hint-to-asc, active-to-asc, asc",K({transform:"translateY(25%)"}))]),allowChildren:jt("allowChildren",[tt("* <=> *",[Wo("@*",Yo(),{optional:!0})])])},jn=(()=>{class n{constructor(){this.changes=new ie}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ad(n){return n||new jn}var ld={provide:jn,deps:[[new sn,new an,jn]],useFactory:ad},ra=(()=>{class n{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}constructor(e,t,i,o,s,a,d,u){this._intl=e,this._changeDetectorRef=t,this._sort=i,this._columnDef=o,this._focusMonitor=s,this._elementRef=a,this._ariaDescriber=d,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",u?.arrowPosition&&(this.arrowPosition=u?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let t=!!e;t!==this._showIndicatorHint&&(this._setIndicatorHintVisible(t),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=Ft(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(t){return new(t||n)(p(jn),p(qe),p(Ht,8),p("MAT_SORT_HEADER_COLUMN_DEF",8),p(Tt),p(Y),p(un,8),p(na,8))}}static{this.\u0275cmp=T({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,i){t&1&&x("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),t&2&&(me("aria-sort",i._getAriaSortAttribute()),ce("mat-sort-header-disabled",i._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",ge],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",ge]},exportAs:["matSortHeader"],standalone:!0,features:[Me,I],attrs:nd,ngContentSelectors:rd,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,i){t&1&&(Ct(),c(0,"div",0)(1,"div",1),Fe(2),m(),v(3,od,6,6,"div",2),m()),t&2&&(ce("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before",i.arrowPosition==="before"),me("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),l(3),Re(i._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[xi.indicator,xi.leftPointer,xi.rightPointer,xi.arrowOpacity,xi.arrowPosition,xi.allowChildren]},changeDetection:0})}}return n})(),zn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:[ld],imports:[Ce]})}}return n})();function dd(n,r){}var Ut=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Tr=(()=>{class n extends as{constructor(e,t,i,o,s,a,d,u){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=d,this._focusMonitor=u,this._platform=re(Dt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=re(qe),this._injector=re(Ge),this._isDestroyed=!1,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),g},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_trapFocus(){this._isDestroyed||ei(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let i=mn(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=mn();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mn()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||n)(p(Y),p(hn),p(Qe,8),p(Ut),p(pn),p(Oe),p(yi),p(Tt))}}static{this.\u0275cmp=T({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(t&1&&Ne(ji,7),t&2){let o;J(o=ee())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){t&2&&me("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[Z,I],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&v(0,dd,0,0,"ng-template",0)},dependencies:[ji],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),Gi=class{constructor(r,e){this.overlayRef=r,this.config=e,this.closed=new ie,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!si(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(r),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}},md=new ne("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=re(Be);return()=>n.scrollStrategies.block()}}),ud=new ne("DialogData"),pd=new ne("DefaultDialogConfig");var hd=0,Ir=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,i,o,s,a){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ie,this._afterOpenedAtThisLevel=new ie,this._ariaHiddenElements=new Map,this.afterAllClosed=nn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(on(void 0))),this._scrollStrategy=a}open(e,t){let i=this._defaultOptions||new Ut;t=oe(oe({},i),t),t.id=t.id||`cdk-dialog-${hd++}`,t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),s=this._overlay.create(o),a=new Gi(s,t),d=this._attachContainer(s,a,t);return a.containerInstance=d,this._attachDialogContent(e,a,d,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Dr(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Dr(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Dr(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new ls({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Ut,useValue:i},{provide:Gi,useValue:t},{provide:yi,useValue:e}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=Tr;let d=new Bi(a,i.viewContainerRef,Ge.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,t,i,o){if(e instanceof Ze){let s=this._createInjector(o,t,i,void 0),a={$implicit:o.data,dialogRef:t};o.templateContext&&(a=oe(oe({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new ss(e,null,a,s))}else{let s=this._createInjector(o,t,i,this._injector),a=i.attachComponentPortal(new Bi(e,o.viewContainerRef,s,o.componentFactoryResolver));t.componentRef=a,t.componentInstance=a.instance}}_createInjector(e,t,i,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:ud,useValue:e.data},{provide:Gi,useValue:t}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(t,e,i)):a.push(...e.providers)),e.direction&&(!s||!s.get(Bt,null,{optional:!0}))&&a.push({provide:Bt,useValue:{value:e.direction,change:bt()}}),Ge.create({parent:s||o,providers:a})}_removeOpenDialog(e,t){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let o=t[i];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||n)(q(Be),q(Ge),q(pd,8),q(n,12),q(bn),q(md))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Dr(n,r){let e=n.length;for(;e--;)r(n[e])}var oa=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:[Ir],imports:[vi,zi,fn,zi]})}}return n})();function fd(n,r){}var $i=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Mr="mdc-dialog--open",sa="mdc-dialog--opening",aa="mdc-dialog--closing",gd=150,_d=75,yd=(()=>{class n extends Tr{constructor(e,t,i,o,s,a,d,u,_){super(e,t,i,o,s,a,d,_),this._animationMode=u,this._animationStateChanged=new Pe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ca(this._config.enterAnimationDuration)??gd:0,this._exitAnimationDuration=this._animationsEnabled?ca(this._config.exitAnimationDuration)??_d:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(la,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(sa,Mr)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Mr),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Mr),this._animationsEnabled?(this._hostElement.style.setProperty(la,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(aa)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(sa,aa)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||n)(p(Y),p(hn),p(Qe,8),p($i),p(pn),p(Oe),p(yi),p(at,8),p(Tt))}}static{this.\u0275cmp=T({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,i){t&2&&(lr("id",i._config.id),me("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ce("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[Z,I],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),v(2,fd,0,0,"ng-template",2),m()())},dependencies:[ji],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),la="--mat-dialog-transition-duration";function ca(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?ai(n.substring(0,n.length-2)):n.endsWith("s")?ai(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Vn=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Vn||{}),Di=class{constructor(r,e,t){this._ref=r,this._containerInstance=t,this._afterOpened=new ie,this._beforeClosed=new ie,this._state=Vn.OPEN,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(ki(i=>i.state==="opened"),Zt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ki(i=>i.state==="closed"),Zt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ft(this.backdropClick(),this.keydownEvents().pipe(ki(i=>i.keyCode===27&&!this.disableClose&&!si(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),vd(this,i.type==="keydown"?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(ki(e=>e.state==="closing"),Zt(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Vn.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=Vn.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function vd(n,r,e){return n._closeInteractionType=r,n.close(e)}var Rr=new ne("MatMdcDialogData"),bd=new ne("mat-mdc-dialog-default-options"),wd=new ne("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=re(Be);return()=>n.scrollStrategies.block()}});var Cd=0,Ti=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,i,o,s,a,d,u){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ie,this._afterOpenedAtThisLevel=new ie,this.dialogConfigClass=$i,this.afterAllClosed=nn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(on(void 0))),this._dialog=t.get(Ir),this._dialogRefConstructor=Di,this._dialogContainerType=yd,this._dialogDataToken=Rr}open(e,t){let i;t=oe(oe({},this._defaultOptions||new $i),t),t.id=t.id||`mat-mdc-dialog-${Cd++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Ji(oe({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Ut,useValue:t}]},templateContext:()=>({dialogRef:i}),providers:(s,a,d)=>(i=new this._dialogRefConstructor(s,t,d),i.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||n)(q(Be),q(Ge),q(So,8),q(bd,8),q(wd),q(n,12),q(bn),q(at,8))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sd=0;var da=(()=>{class n{constructor(e,t,i){this._dialogRef=e,this._elementRef=t,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=Ed(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||n)(p(Di,8),p(Y),p(Ti))}}static{this.\u0275dir=L({type:n,standalone:!0})}}return n})(),ma=(()=>{class n extends da{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${Sd++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){t&2&&lr("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Z]})}}return n})(),ua=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=L({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[yo([is])]})}}return n})(),pa=(()=>{class n extends da{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Ie(n)))(i||n)}})()}static{this.\u0275dir=L({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,i){t&2&&ce("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},standalone:!0,features:[Z]})}}return n})();function Ed(n,r){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(t=>t.id===e.id):null}var ha=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:[Ti],imports:[oa,vi,zi,Ce,Ce]})}}return n})();var Hn=(()=>{class n{constructor(e,t){this.data=e,this.dialogRef=t}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(t){return new(t||n)(p(Rr),p(Di))}}static{this.\u0275cmp=T({type:n,selectors:[["app-confirm-dialog"]],standalone:!0,features:[I],decls:10,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){t&1&&(c(0,"h2",0),h(1),m(),c(2,"mat-dialog-content")(3,"p"),h(4),m()(),c(5,"mat-dialog-actions",1)(6,"button",2),x("click",function(){return i.onCancel()}),h(7,"Cancelar"),m(),c(8,"button",3),x("click",function(){return i.onConfirm()}),h(9,"Eliminar"),m()()),t&2&&(l(),O(i.data.title),l(3),O(i.data.message))},dependencies:[G,ha,ma,pa,ua,Ee,ct]})}}return n})();function Dd(n,r){if(n&1){let e=H();c(0,"div",9)(1,"div",10)(2,"div",11),h(3),m(),c(4,"div",12),h(5),m(),c(6,"div",13),h(7),m()(),c(8,"div",14)(9,"button",15),x("click",function(){let i=F(e).$implicit,o=y();return N(o.onView(i))}),c(10,"mat-icon"),h(11,"visibility"),m()(),c(12,"button",15),x("click",function(){let i=F(e).$implicit,o=y();return N(o.onEdit(i))}),c(13,"mat-icon"),h(14,"edit"),m()(),c(15,"button",16),x("click",function(){let i=F(e).$implicit,o=y();return N(o.onDelete(i))}),c(16,"mat-icon"),h(17,"delete"),m()()()()}if(n&2){let e=r.$implicit;l(3),cr("",e.name," ",e.surname,""),l(2),O(e.email),l(2),O(e.role||"\u2014")}}var fa=(()=>{class n{constructor(e,t,i,o){this.userService=e,this.snackBar=t,this.dialog=i,this.router=o,this.users=new Ei,this.displayedColumns=["name","email","role","actions"],this.totalPages=1,this.currentPage=0,this.pageSize=15}ngOnInit(){}ngAfterViewInit(){this.users.paginator=this.paginator,this.users.sort=this.sort,this.loadUsers()}loadUsers(){let e=this.currentPage,t=this.pageSize,i=this.sort?.active&&this.sort?.direction?`${this.sort.active},${this.sort.direction}`:"id,asc",o=this.userService.getCurrentUser(),s=o?.role===Q.COMPANY_ADMIN?o.company?.id:void 0;this.userService.getUsers(e,t,i,void 0,s).subscribe({next:a=>{let d=(a.content??[]).filter(_=>_.id!==o?.id);this.users.data=d;let u=a.totalElements??d.length;this.totalPages=Math.ceil(u/t)},error:a=>console.error("\u274C Error al cargar usuarios",a)})}previousPage(){this.currentPage>0&&(this.currentPage--,this.loadUsers())}nextPage(){this.currentPage+1<this.totalPages&&(this.currentPage++,this.loadUsers())}onEdit(e){this.router.navigate(["/admin/user-form/",e.id])}addUser(){this.router.navigate(["/admin/user-form"])}onView(e){this.router.navigate(["/profile",e.id])}onDelete(e){this.dialog.open(Hn,{width:"400px",data:{title:"Eliminar usuario",message:`\xBFEst\xE1s seguro de que quieres eliminar a ${e.name}?`}}).afterClosed().subscribe(i=>{i&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Usuario eliminado","Cerrar",{duration:3e3}),this.currentPage=0,this.loadUsers()},error:o=>{console.error("\u274C Error al eliminar usuario",o),this.snackBar.open("\u274C Error al eliminar usuario","Cerrar",{duration:3e3})}})})}applyFilter(e){let t=e.target.value;this.users.filter=t.trim().toLowerCase()}static{this.\u0275fac=function(t){return new(t||n)(p(ke),p(Cn),p(Ti),p(ye))}}static{this.\u0275cmp=T({type:n,selectors:[["app-admin-users"]],viewQuery:function(t,i){if(t&1&&(Ne(Vt,5),Ne(Ht,5)),t&2){let o;J(o=ee())&&(i.paginator=o.first),J(o=ee())&&(i.sort=o.first)}},standalone:!0,features:[I],decls:16,vars:5,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar usuario...",1,"border","rounded","px-3","py-2","w-64",3,"keyup"],["mat-raised-button","","color","accent",3,"click"],[1,"mr-1"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-center","items-center","gap-2"],["mat-stroked-button","",3,"click","disabled"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"text-gray-500"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","",1,"bg-red-400","hover:bg-red-500","text-white",3,"click"]],template:function(t,i){t&1&&(c(0,"mat-card",0)(1,"div",1)(2,"input",2),x("keyup",function(s){return i.applyFilter(s)}),m(),c(3,"button",3),x("click",function(){return i.addUser()}),c(4,"mat-icon",4),h(5,"add"),m(),h(6," Nuevo usuario "),m()(),c(7,"div",5),v(8,Dd,18,4,"div",6),m(),c(9,"div",7)(10,"button",8),x("click",function(){return i.previousPage()}),h(11," Anterior "),m(),c(12,"span"),h(13),m(),c(14,"button",8),x("click",function(){return i.nextPage()}),h(15," Siguiente "),m()()()),t&2&&(l(8),f("ngForOf",i.users.data),l(2),f("disabled",i.currentPage===0),l(3),cr("",i.currentPage+1," / ",i.totalPages,""),l(),f("disabled",i.currentPage+1>=i.totalPages))},dependencies:[G,Et,de,Ke,lt,Nn,Ee,ct,Go,dt,li,It,Bn,zn]})}}return n})();var Id=()=>["/admin/company-form"],Md=()=>[5,10,20];function Rd(n,r){n&1&&(c(0,"th",16),h(1,"Nombre"),m())}function kd(n,r){if(n&1&&(c(0,"td",17),h(1),m()),n&2){let e=r.$implicit;l(),O(e.name)}}function Ad(n,r){n&1&&(c(0,"th",16),h(1,"address"),m())}function Pd(n,r){if(n&1&&(c(0,"td",17),h(1),m()),n&2){let e=r.$implicit;l(),O(e.address||"\u2014")}}function Od(n,r){n&1&&(c(0,"th",18),h(1,"Acciones"),m())}function Fd(n,r){if(n&1){let e=H();c(0,"td",19)(1,"button",20),x("click",function(){let i=F(e).$implicit,o=y();return N(o.onEdit(i))}),c(2,"mat-icon"),h(3,"edit"),m()(),c(4,"button",21),x("click",function(){let i=F(e).$implicit,o=y();return N(o.onDelete(i))}),c(5,"mat-icon"),h(6,"delete"),m()()()}}function Nd(n,r){n&1&&k(0,"tr",22)}function Ld(n,r){n&1&&k(0,"tr",23)}var ga=(()=>{class n{constructor(e,t,i,o,s){this.companyService=e,this.userService=t,this.snackBar=i,this.dialog=o,this.router=s,this.companies=new Ei,this.displayedColumns=["name","address","actions"]}ngOnInit(){this.loadCompanies()}ngAfterViewInit(){this.companies.paginator=this.paginator,this.companies.sort=this.sort}loadCompanies(){let e=this.userService.getCurrentUser();this.companyService.getAllCompanies().subscribe({next:t=>{let i=t;e?.role===Q.COMPANY_ADMIN&&e.company?.id&&(i=t.filter(o=>o.id===e.company?.id)),this.companies.data=i,this.paginator&&(this.paginator.length=i.length)},error:t=>{console.error("\u274C Error al cargar compa\xF1\xEDas",t)}})}onEdit(e){this.router.navigate(["/admin/company-form/",e.id])}onDelete(e){let t=e.id;if(!t){console.warn("\u26A0\uFE0F No se puede eliminar: id de compa\xF1\xEDa undefined"),this.snackBar.open("\u26A0\uFE0F No se puede eliminar esta compa\xF1\xEDa","Cerrar",{duration:3e3});return}this.dialog.open(Hn,{width:"400px",data:{title:"Eliminar compa\xF1\xEDa",message:`\xBFEst\xE1s seguro de que quieres eliminar ${e.name}?`}}).afterClosed().subscribe(o=>{o&&this.companyService.deleteCompany(t).subscribe({next:()=>{this.snackBar.open("\u2705 Compa\xF1\xEDa eliminada","Cerrar",{duration:3e3}),this.loadCompanies()},error:s=>{console.error("Error al eliminar compa\xF1\xEDa",s),this.snackBar.open("\u274C Error al eliminar compa\xF1\xEDa","Cerrar",{duration:3e3})}})})}applyFilter(e){let t=e.target.value;this.companies.filter=t.trim().toLowerCase()}static{this.\u0275fac=function(t){return new(t||n)(p(Sn),p(ke),p(Cn),p(Ti),p(ye))}}static{this.\u0275cmp=T({type:n,selectors:[["app-admin-companies"]],viewQuery:function(t,i){if(t&1&&(Ne(Vt,5),Ne(Ht,5)),t&2){let o;J(o=ee())&&(i.paginator=o.first),J(o=ee())&&(i.sort=o.first)}},standalone:!0,features:[I],decls:20,vars:8,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar compa\xF1\xEDa...",1,"border","rounded","px-3","py-2","w-64",3,"keyup"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"mr-1"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){t&1&&(c(0,"mat-card",0)(1,"div",1)(2,"input",2),x("keyup",function(s){return i.applyFilter(s)}),m(),c(3,"button",3)(4,"mat-icon",4),h(5,"add"),m(),h(6," Nueva compa\xF1\xEDa "),m()(),c(7,"table",5),pe(8,6),v(9,Rd,2,0,"th",7)(10,kd,2,1,"td",8),he(),pe(11,9),v(12,Ad,2,0,"th",7)(13,Pd,2,1,"td",8),he(),pe(14,10),v(15,Od,2,0,"th",11)(16,Fd,7,0,"td",12),he(),v(17,Nd,1,0,"tr",13)(18,Ld,1,0,"tr",14),m(),k(19,"mat-paginator",15),m()),t&2&&(l(3),f("routerLink",et(6,Id)),l(4),f("dataSource",i.companies),l(10),f("matHeaderRowDef",i.displayedColumns),l(),f("matRowDefColumns",i.displayedColumns),l(),f("pageSize",5)("pageSizeOptions",et(7,Md)))},dependencies:[G,de,Ye,Ke,lt,Nn,zs,Hs,qs,Us,Vs,Qs,Gs,$s,Ys,Ws,Ee,ct,gn,dt,li,It,Bn,Vt,zn,Ht,ra]})}}return n})();function Bd(n,r){if(n&1){let e=H();c(0,"div",6)(1,"button",7),x("click",function(){F(e);let i=y();return N(i.goToEditForm())}),h(2," Editar "),m()()}}function jd(n,r){if(n&1&&(c(0,"div",23)(1,"div",24)(2,"div",25),h(3),m(),c(4,"div",26)(5,"div",12),k(6,"canvas",27),m(),c(7,"div",12),k(8,"canvas",27),m(),c(9,"div",15)(10,"div",28),h(11),b(12,"number"),m(),c(13,"div",17),h(14,"Toneladas de CO\u2082"),m(),c(15,"div",18),h(16),m()()()()()),n&2){let e=r.$implicit,t=y(3);l(3),O(e.year),l(3),f("id",e.emitidoRef),l(2),f("id",e.compensadoRef),l(2),f("ngClass",t.getNetColorClass(e.totalEmissions,e.totalCompensations)),l(),E(" ",Lt(12,6,e.totalEmissions-e.totalCompensations,"1.0-0")," "),l(5),E(" Compensaste el ",t.getCompensatedPercentage(e.totalEmissions,e.totalCompensations),"% de tus emisiones ")}}function zd(n,r){if(n&1&&(c(0,"div",20)(1,"h3",21),h(2,"A\xF1os anteriores"),m(),v(3,jd,17,9,"div",22),m()),n&2){let e=y(2);l(3),f("ngForOf",e.co2Years.slice(1))}}function Vd(n,r){if(n&1&&(c(0,"div",8)(1,"div",9)(2,"h3",10),h(3,"\xDAltimo a\xF1o registrado"),m(),c(4,"h4",10),h(5),m(),c(6,"div",11)(7,"div",12)(8,"div",13),h(9,"Emisiones"),m(),k(10,"canvas",14),m(),c(11,"div",12)(12,"div",13),h(13,"Compensaciones"),m(),k(14,"canvas",14),m(),c(15,"div",15)(16,"div",13),h(17,"Valor Neto"),m(),c(18,"div",16),h(19),b(20,"number"),m(),c(21,"div",17),h(22,"Toneladas de CO\u2082"),m(),c(23,"div",18),h(24),m()()()(),v(25,zd,4,1,"div",19),m()),n&2){let e=y();l(5),O(e.co2Years[0].year),l(5),f("id",e.co2Years[0].emitidoRef),l(4),f("id",e.co2Years[0].compensadoRef),l(4),f("ngClass",e.getNetColorClass(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations)),l(),E(" ",Lt(20,7,e.co2Years[0].totalEmissions-e.co2Years[0].totalCompensations,"1.0-0")," "),l(5),E(" (Compensaste el ",e.getCompensatedPercentage(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations),"% de tus emisiones) "),l(),f("ngIf",e.co2Years.length>1)}}var _a=(()=>{class n{constructor(e,t,i,o){this.userService=e,this.companyService=t,this.router=i,this.cdr=o,this.co2Years=[],this.chartsMap={},ur.register(ds,ms,ps,us)}ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e,e?.company?.id&&this.companyService.getCompanyById(e.company.id).subscribe(t=>{this.company=t,this.prepareCO2Years()})})}ngAfterViewInit(){this.co2Years?.length&&setTimeout(()=>this.renderCO2Charts(),50)}prepareCO2Years(){if(!this.company?.co2?.length)return;let e=[...this.company.co2].filter(t=>t.year!==void 0).sort((t,i)=>i.year-t.year);this.co2Years=e.map(t=>Ji(oe({},t),{totalEmissions:t.totalEmissions||0,totalCompensations:t.totalCompensations||0,net:(t.totalEmissions||0)-(t.totalCompensations||0),emitidoRef:`emitido-${t.year}`,compensadoRef:`compensado-${t.year}`,netoRef:`neto-${t.year}`})),this.cdr.detectChanges(),setTimeout(()=>this.renderCO2Charts(),100)}goToEditForm(){console.log("this.user?.company?.id",this.user?.company?.id),this.user?.company?.id&&this.router.navigate(["/company/form",this.user.company.id])}renderCO2Charts(){this.co2Years.forEach((e,t)=>{["emitidoRef","compensadoRef","netoRef"].forEach(i=>{let o=document.getElementById(e[i]);if(!o)return;let s=t===0?200:80;o.width=s,o.height=s;let a=i==="emitidoRef"?e.totalEmissions:i==="compensadoRef"?e.totalCompensations:e.net,d=i==="emitidoRef"?"#fc4d03ff":i==="compensadoRef"?"#89de8cff":"#2c80c5cf";this.createDonutChart(o,a,d,e.totalEmissions||1)})})}createDonutChart(e,t,i,o){let s=e.getContext("2d");if(!s)return;this.chartsMap[e.id]&&this.chartsMap[e.id].destroy();let a=t/(o>0?o:1)*100,d={datasets:[{data:[a,100-a],backgroundColor:[i,"#e0e0e0"],cutout:"75%",borderWidth:0}]},u={id:"centerText",beforeDraw:_=>{let{ctx:g,width:w,height:D}=_;g&&(g.save(),g.font=`${D/100*20}px sans-serif`,g.fillStyle="#333",g.textBaseline="middle",g.fillText(`${t}`,w/2-g.measureText(`${t}`).width/2,D/2-10),g.font=`${D/100*8}px sans-serif`,g.fillStyle="#666",g.fillText("Toneladas de CO\u2082",w/2-g.measureText("Toneladas de CO\u2082").width/2,D/2+15),g.restore())}};this.chartsMap[e.id]=new ur(s,{type:"doughnut",data:d,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}},animation:{animateRotate:!0,animateScale:!0}},plugins:[u]})}getNetColorClass(e,t){let i=e-t,o=e>0?i/e:1;return o<.5?"net-yellow":o<=1?"net-red":"net-green"}getCompensatedPercentage(e,t){return e?(t/e*100).toFixed(0):"0"}static{this.\u0275fac=function(t){return new(t||n)(p(ke),p(Sn),p(ye),p(qe))}}static{this.\u0275cmp=T({type:n,selectors:[["app-company"]],standalone:!0,features:[I],decls:8,vars:5,consts:[[1,"rounded-2xl","shadow-md","p-4","flex","flex-col","items-center","text-center"],["alt","Logo",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","flex gap-2 mt-4",4,"ngIf"],["class","w-full mt-6",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","mt-6"],[1,"mb-8"],[1,"text-lg","font-semibold"],[1,"co2-container","flex","justify-center","gap-4","mt-4","items-center"],[1,"donut-wrapper"],[1,"donut-label"],[1,"donut-large",3,"id"],[1,"donut-wrapper","neto-wrapper"],[1,"donut-neto","text-4xl","font-bold",3,"ngClass"],[1,"donut-neto-unit"],[1,"donut-neto-info"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"text-left","font-semibold","mb-2"],["class","co2-year-row flex flex-col items-start gap-2 mb-4 w-full",4,"ngFor","ngForOf"],[1,"co2-year-row","flex","flex-col","items-start","gap-2","mb-4","w-full"],[1,"flex","items-center","gap-4","w-full"],[1,"w-16","font-bold"],[1,"co2-container","flex","gap-4","items-center"],[1,"donut-small",3,"id"],[1,"donut-neto",3,"ngClass"]],template:function(t,i){t&1&&(c(0,"mat-card",0),k(1,"img",1),c(2,"h2",2),h(3),m(),c(4,"p",3),h(5),m(),v(6,Bd,3,0,"div",4)(7,Vd,26,10,"div",5),m()),t&2&&(l(),f("src",i.previewImage||i.user.company.picture||"assets/company_profile.png",ln),l(2),O(i.user.company.name),l(2),O(i.user.company.address),l(),f("ngIf",i.user.role==="COMPANY_ADMIN"),l(),f("ngIf",i.co2Years==null?null:i.co2Years.length))},dependencies:[G,dn,Et,_e,Do,Ke,lt,Ee,ct,de],encapsulation:2})}}return n})();var ya=[{path:"login",component:xs},{path:"register",component:Es},{path:"verify-email",component:Ds},{path:"reset-password",component:Ts},{path:"",component:bs,canActivate:[Vi],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ws},{path:"profile",component:pr},{path:"profile/:id",component:pr,canActivate:[Vi]},{path:"profile/edit/:id",loadComponent:()=>import("./chunk-MWNT7VI2.js").then(n=>n.UserFormComponent),canActivate:[Vi]},{path:"company",component:_a},{path:"company/form/:id",loadComponent:()=>import("./chunk-6Q4WUPY3.js").then(n=>n.CompanyFormComponent),canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}},{path:"settings",component:Cs},{path:"admin",component:As,canActivate:[Vi],children:[{path:"users",component:fa,canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}},{path:"user-form",loadComponent:()=>import("./chunk-MWNT7VI2.js").then(n=>n.UserFormComponent),canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}},{path:"user-form/:id",loadComponent:()=>import("./chunk-MWNT7VI2.js").then(n=>n.UserFormComponent),canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}},{path:"companies",component:ga,canActivate:[Mt],data:{roles:[Q.ADMIN]}},{path:"company-form",loadComponent:()=>import("./chunk-6Q4WUPY3.js").then(n=>n.CompanyFormComponent),canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}},{path:"company-form/:id",loadComponent:()=>import("./chunk-6Q4WUPY3.js").then(n=>n.CompanyFormComponent),canActivate:[Mt],data:{roles:[Q.ADMIN,Q.COMPANY_ADMIN]}}]}]},{path:"**",redirectTo:"login"}];function va(n){return new V(3e3,!1)}function Hd(){return new V(3100,!1)}function Ud(){return new V(3101,!1)}function Gd(n){return new V(3001,!1)}function $d(n){return new V(3003,!1)}function qd(n){return new V(3004,!1)}function Qd(n,r){return new V(3005,!1)}function Yd(){return new V(3006,!1)}function Wd(){return new V(3007,!1)}function Kd(n,r){return new V(3008,!1)}function Xd(n){return new V(3002,!1)}function Zd(n,r,e,t,i){return new V(3010,!1)}function Jd(){return new V(3011,!1)}function em(){return new V(3012,!1)}function tm(){return new V(3200,!1)}function im(){return new V(3202,!1)}function nm(){return new V(3013,!1)}function rm(n){return new V(3014,!1)}function om(n){return new V(3015,!1)}function sm(n){return new V(3016,!1)}function am(n,r){return new V(3404,!1)}function lm(n){return new V(3502,!1)}function cm(n){return new V(3503,!1)}function dm(){return new V(3300,!1)}function mm(n){return new V(3504,!1)}function um(n){return new V(3301,!1)}function pm(n,r){return new V(3302,!1)}function hm(n){return new V(3303,!1)}function fm(n,r){return new V(3400,!1)}function gm(n){return new V(3401,!1)}function _m(n){return new V(3402,!1)}function ym(n,r){return new V(3505,!1)}function kt(n){switch(n.length){case 0:return new _i;case 1:return n[0];default:return new mr(n)}}function Pa(n,r,e=new Map,t=new Map){let i=[],o=[],s=-1,a=null;if(r.forEach(d=>{let u=d.get("offset"),_=u==s,g=_&&a||new Map;d.forEach((w,D)=>{let M=D,P=w;if(D!=="offset")switch(M=n.normalizePropertyName(M,i),P){case _n:P=e.get(D);break;case mt:P=t.get(D);break;default:P=n.normalizeStyleValue(D,M,P,i);break}g.set(M,P)}),_||o.push(g),a=g,s=u}),i.length)throw lm(i);return o}function eo(n,r,e,t){switch(r){case"start":n.onStart(()=>t(e&&Ar(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Ar(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Ar(e,"destroy",n)));break}}function Ar(n,r,e){let t=e.totalTime,i=!!e.disabled,o=to(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,t??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function to(n,r,e,t,i="",o=0,s){return{element:n,triggerName:r,fromState:e,toState:t,phaseName:i,totalTime:o,disabled:!!s}}function Ve(n,r,e){let t=n.get(r);return t||n.set(r,t=e),t}function ba(n){let r=n.indexOf(":"),e=n.substring(1,r),t=n.slice(r+1);return[e,t]}var vm=typeof document>"u"?null:document.documentElement;function io(n){let r=n.parentNode||n.host||null;return r===vm?null:r}function bm(n){return n.substring(1,6)=="ebkit"}var Gt=null,wa=!1;function wm(n){Gt||(Gt=Cm()||{},wa=Gt.style?"WebkitAppearance"in Gt.style:!1);let r=!0;return Gt.style&&!bm(n)&&(r=n in Gt.style,!r&&wa&&(r="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gt.style)),r}function Cm(){return typeof document<"u"?document.body:null}function Oa(n,r){for(;r;){if(r===n)return!0;r=io(r)}return!1}function Fa(n,r,e){if(e)return Array.from(n.querySelectorAll(r));let t=n.querySelector(r);return t?[t]:[]}var no=(()=>{class n{validateStyleProperty(e){return wm(e)}containsElement(e,t){return Oa(e,t)}getParentElement(e){return io(e)}query(e,t,i){return Fa(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,o,s,a=[],d){return new _i(i,o)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac})}}return n})(),Qt=class{static{this.NOOP=new no}},Yt=class{};var Sm=1e3,Na="{{",Em="}}",La="ng-enter",Br="ng-leave",Un="ng-trigger",Yn=".ng-trigger",Ca="ng-animating",jr=".ng-animating";function _t(n){if(typeof n=="number")return n;let r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:zr(parseFloat(r[1]),r[2])}function zr(n,r){switch(r){case"s":return n*Sm;default:return n}}function Wn(n,r,e){return n.hasOwnProperty("duration")?n:xm(n,r,e)}function xm(n,r,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(t);if(a===null)return r.push(va(n)),{duration:0,delay:0,easing:""};i=zr(parseFloat(a[1]),a[2]);let d=a[3];d!=null&&(o=zr(parseFloat(d),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!e){let a=!1,d=r.length;i<0&&(r.push(Hd()),a=!0),o<0&&(r.push(Ud()),a=!0),a&&r.splice(d,0,va(n))}return{duration:i,delay:o,easing:s}}function Dm(n){return n.length?n[0]instanceof Map?n:n.map(r=>new Map(Object.entries(r))):[]}function ht(n,r,e){r.forEach((t,i)=>{let o=ro(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=t})}function qt(n,r){r.forEach((e,t)=>{let i=ro(t);n.style[i]=""})}function qi(n){return Array.isArray(n)?n.length==1?n[0]:Qo(n):n}function Tm(n,r,e){let t=r.params||{},i=Ba(n);i.length&&i.forEach(o=>{t.hasOwnProperty(o)||e.push(Gd(o))})}var Vr=new RegExp(`${Na}\\s*(.+?)\\s*${Em}`,"g");function Ba(n){let r=[];if(typeof n=="string"){let e;for(;e=Vr.exec(n);)r.push(e[1]);Vr.lastIndex=0}return r}function Yi(n,r,e){let t=`${n}`,i=t.replace(Vr,(o,s)=>{let a=r[s];return a==null&&(e.push($d(s)),a=""),a.toString()});return i==t?n:i}var Im=/-+([a-z0-9])/g;function ro(n){return n.replace(Im,(...r)=>r[1].toUpperCase())}function Mm(n,r){return n===0||r===0}function Rm(n,r,e){if(e.size&&r.length){let t=r[0],i=[];if(e.forEach((o,s)=>{t.has(s)||i.push(s),t.set(s,o)}),i.length)for(let o=1;o<r.length;o++){let s=r[o];i.forEach(a=>s.set(a,oo(n,a)))}}return r}function ze(n,r,e){switch(r.type){case B.Trigger:return n.visitTrigger(r,e);case B.State:return n.visitState(r,e);case B.Transition:return n.visitTransition(r,e);case B.Sequence:return n.visitSequence(r,e);case B.Group:return n.visitGroup(r,e);case B.Animate:return n.visitAnimate(r,e);case B.Keyframes:return n.visitKeyframes(r,e);case B.Style:return n.visitStyle(r,e);case B.Reference:return n.visitReference(r,e);case B.AnimateChild:return n.visitAnimateChild(r,e);case B.AnimateRef:return n.visitAnimateRef(r,e);case B.Query:return n.visitQuery(r,e);case B.Stagger:return n.visitStagger(r,e);default:throw qd(r.type)}}function oo(n,r){return window.getComputedStyle(n)[r]}var km=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Kn=class extends Yt{normalizePropertyName(r,e){return ro(r)}normalizeStyleValue(r,e,t,i){let o="",s=t.toString().trim();if(km.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Qd(r,t))}return s+o}};var Xn="*";function Am(n,r){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>Pm(t,e,r)):e.push(n),e}function Pm(n,r,e){if(n[0]==":"){let d=Om(n,e);if(typeof d=="function"){r.push(d);return}n=d}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(om(n)),r;let i=t[1],o=t[2],s=t[3];r.push(Sa(i,s));let a=i==Xn&&s==Xn;o[0]=="<"&&!a&&r.push(Sa(s,i))}function Om(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return r.push(sm(n)),"* => *"}}var Gn=new Set(["true","1"]),$n=new Set(["false","0"]);function Sa(n,r){let e=Gn.has(n)||$n.has(n),t=Gn.has(r)||$n.has(r);return(i,o)=>{let s=n==Xn||n==i,a=r==Xn||r==o;return!s&&e&&typeof i=="boolean"&&(s=i?Gn.has(n):$n.has(n)),!a&&t&&typeof o=="boolean"&&(a=o?Gn.has(r):$n.has(r)),s&&a}}var ja=":self",Fm=new RegExp(`s*${ja}s*,?`,"g");function za(n,r,e,t){return new Hr(n).build(r,e,t)}var Ea="",Hr=class{constructor(r){this._driver=r}build(r,e,t){let i=new Ur(e);return this._resetContextStyleTimingState(i),ze(this,qi(r),i)}_resetContextStyleTimingState(r){r.currentQuerySelector=Ea,r.collectedStyles=new Map,r.collectedStyles.set(Ea,new Map),r.currentTime=0}visitTrigger(r,e){let t=e.queryCount=0,i=e.depCount=0,o=[],s=[];return r.name.charAt(0)=="@"&&e.errors.push(Yd()),r.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==B.State){let d=a,u=d.name;u.toString().split(/\s*,\s*/).forEach(_=>{d.name=_,o.push(this.visitState(d,e))}),d.name=u}else if(a.type==B.Transition){let d=this.visitTransition(a,e);t+=d.queryCount,i+=d.depCount,s.push(d)}else e.errors.push(Wd())}),{type:B.Trigger,name:r.name,states:o,transitions:s,queryCount:t,depCount:i,options:null}}visitState(r,e){let t=this.visitStyle(r.styles,e),i=r.options&&r.options.params||null;if(t.containsDynamicStyles){let o=new Set,s=i||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(d=>{Ba(d).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(Kd(r.name,[...o.values()]))}return{type:B.State,name:r.name,style:t,options:i?{params:i}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;let t=ze(this,qi(r.animation),e),i=Am(r.expr,e.errors);return{type:B.Transition,matchers:i,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:$t(r.options)}}visitSequence(r,e){return{type:B.Sequence,steps:r.steps.map(t=>ze(this,t,e)),options:$t(r.options)}}visitGroup(r,e){let t=e.currentTime,i=0,o=r.steps.map(s=>{e.currentTime=t;let a=ze(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:B.Group,steps:o,options:$t(r.options)}}visitAnimate(r,e){let t=jm(r.timings,e.errors);e.currentAnimateTimings=t;let i,o=r.styles?r.styles:K({});if(o.type==B.Keyframes)i=this.visitKeyframes(o,e);else{let s=r.styles,a=!1;if(!s){a=!0;let u={};t.easing&&(u.easing=t.easing),s=K(u)}e.currentTime+=t.duration+t.delay;let d=this.visitStyle(s,e);d.isEmptyStep=a,i=d}return e.currentAnimateTimings=null,{type:B.Animate,timings:t,style:i,options:null}}visitStyle(r,e){let t=this._makeStyleAst(r,e);return this._validateStyleAst(t,e),t}_makeStyleAst(r,e){let t=[],i=Array.isArray(r.styles)?r.styles:[r.styles];for(let a of i)typeof a=="string"?a===mt?t.push(a):e.errors.push(Xd(a)):t.push(new Map(Object.entries(a)));let o=!1,s=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let d of a.values())if(d.toString().indexOf(Na)>=0){o=!0;break}}}),{type:B.Style,styles:t,easing:s,offset:r.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(r,e){let t=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),r.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,d)=>{let u=e.collectedStyles.get(e.currentQuerySelector),_=u.get(d),g=!0;_&&(o!=i&&o>=_.startTime&&i<=_.endTime&&(e.errors.push(Zd(d,_.startTime,_.endTime,o,i)),g=!1),o=_.startTime),g&&u.set(d,{startTime:o,endTime:i}),e.options&&Tm(a,e.options,e.errors)})})}visitKeyframes(r,e){let t={type:B.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Jd()),t;let i=1,o=0,s=[],a=!1,d=!1,u=0,_=r.steps.map(j=>{let te=this._makeStyleAst(j,e),xe=te.offset!=null?te.offset:Bm(te.styles),ve=0;return xe!=null&&(o++,ve=te.offset=xe),d=d||ve<0||ve>1,a=a||ve<u,u=ve,s.push(ve),te});d&&e.errors.push(em()),a&&e.errors.push(tm());let g=r.steps.length,w=0;o>0&&o<g?e.errors.push(im()):o==0&&(w=i/(g-1));let D=g-1,M=e.currentTime,P=e.currentAnimateTimings,U=P.duration;return _.forEach((j,te)=>{let xe=w>0?te==D?1:w*te:s[te],ve=xe*U;e.currentTime=M+P.delay+ve,P.duration=ve,this._validateStyleAst(j,e),j.offset=xe,t.styles.push(j)}),t}visitReference(r,e){return{type:B.Reference,animation:ze(this,qi(r.animation),e),options:$t(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:B.AnimateChild,options:$t(r.options)}}visitAnimateRef(r,e){return{type:B.AnimateRef,animation:this.visitReference(r.animation,e),options:$t(r.options)}}visitQuery(r,e){let t=e.currentQuerySelector,i=r.options||{};e.queryCount++,e.currentQuery=r;let[o,s]=Nm(r.selector);e.currentQuerySelector=t.length?t+" "+o:o,Ve(e.collectedStyles,e.currentQuerySelector,new Map);let a=ze(this,qi(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:B.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:r.selector,options:$t(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(nm());let t=r.timings==="full"?{duration:0,delay:0,easing:"full"}:Wn(r.timings,e.errors,!0);return{type:B.Stagger,animation:ze(this,qi(r.animation),e),timings:t,options:null}}};function Nm(n){let r=!!n.split(/\s*,\s*/).find(e=>e==ja);return r&&(n=n.replace(Fm,"")),n=n.replace(/@\*/g,Yn).replace(/@\w+/g,e=>Yn+"-"+e.slice(1)).replace(/:animating/g,jr),[n,r]}function Lm(n){return n?oe({},n):null}var Ur=class{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Bm(n){if(typeof n=="string")return null;let r=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;r=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;r=parseFloat(e.get("offset")),e.delete("offset")}return r}function jm(n,r){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Wn(n,r).duration;return Pr(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Pr(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Wn(e,r);return Pr(i.duration,i.delay,i.easing)}function $t(n){return n?(n=oe({},n),n.params&&(n.params=Lm(n.params))):n={},n}function Pr(n,r,e){return{duration:n,delay:r,easing:e}}function so(n,r,e,t,i,o,s=null,a=!1){return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:t,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Wi=class{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let t=this._map.get(r);t||this._map.set(r,t=[]),t.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}},zm=1,Vm=":enter",Hm=new RegExp(Vm,"g"),Um=":leave",Gm=new RegExp(Um,"g");function Va(n,r,e,t,i,o=new Map,s=new Map,a,d,u=[]){return new Gr().buildKeyframes(n,r,e,t,i,o,s,a,d,u)}var Gr=class{buildKeyframes(r,e,t,i,o,s,a,d,u,_=[]){u=u||new Wi;let g=new $r(r,e,u,i,o,_,[]);g.options=d;let w=d.delay?_t(d.delay):0;g.currentTimeline.delayNextStep(w),g.currentTimeline.setStyles([s],null,g.errors,d),ze(this,t,g);let D=g.timelines.filter(M=>M.containsAnimation());if(D.length&&a.size){let M;for(let P=D.length-1;P>=0;P--){let U=D[P];if(U.element===e){M=U;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([a],null,g.errors,d)}return D.length?D.map(M=>M.buildKeyframes()):[so(e,[],[],[],0,w,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){let t=e.subInstructions.get(e.element);if(t){let i=e.createSubContext(r.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(t,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=r}visitAnimateRef(r,e){let t=e.createSubContext(r.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],e,t),this.visitReference(r.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=r}_applyAnimationRefDelays(r,e,t){for(let i of r){let o=i?.delay;if(o){let s=typeof o=="number"?o:_t(Yi(o,i?.params??{},e.errors));t.delayNextStep(s)}}}_visitSubInstructions(r,e,t){let o=e.currentTimeline.currentTime,s=t.duration!=null?_t(t.duration):null,a=t.delay!=null?_t(t.delay):null;return s!==0&&r.forEach(d=>{let u=e.appendInstructionToTimeline(d,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(r,e){e.updateOptions(r.options,!0),ze(this,r.animation,e),e.previousNode=r}visitSequence(r,e){let t=e.subContextCount,i=e,o=r.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==B.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zn);let s=_t(o.delay);i.delayNextStep(s)}r.steps.length&&(r.steps.forEach(s=>ze(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>t&&i.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){let t=[],i=e.currentTimeline.currentTime,o=r.options&&r.options.delay?_t(r.options.delay):0;r.steps.forEach(s=>{let a=e.createSubContext(r.options);o&&a.delayNextStep(o),ze(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){let t=r.strValue,i=e.params?Yi(t,e.params,e.errors):t;return Wn(i,e.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){let t=e.currentAnimateTimings=this._visitTiming(r.timings,e),i=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),i.snapshotCurrentStyles());let o=r.style;o.type==B.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){let t=e.currentTimeline,i=e.currentAnimateTimings;!i&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=i&&i.easing||r.easing;r.isEmptyStep?t.applyEmptyStep(o):t.setStyles(r.styles,o,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){let t=e.currentAnimateTimings,i=e.currentTimeline.duration,o=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,r.styles.forEach(d=>{let u=d.offset||0;a.forwardTime(u*o),a.setStyles(d.styles,d.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=r}visitQuery(r,e){let t=e.currentTimeline.currentTime,i=r.options||{},o=i.delay?_t(i.delay):0;o&&(e.previousNode.type===B.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zn);let s=t,a=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let d=null;a.forEach((u,_)=>{e.currentQueryIndex=_;let g=e.createSubContext(r.options,u);o&&g.delayNextStep(o),u===e.element&&(d=g.currentTimeline),ze(this,r.animation,g),g.currentTimeline.applyStylesToKeyframe();let w=g.currentTimeline.currentTime;s=Math.max(s,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){let t=e.parentContext,i=e.currentTimeline,o=r.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),d=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=a-d;break;case"full":d=t.currentStaggerTime;break}let _=e.currentTimeline;d&&_.delayNextStep(d);let g=_.currentTime;ze(this,r.animation,e),e.previousNode=r,t.currentStaggerTime=i.currentTime-g+(i.startTime-t.currentTimeline.startTime)}},Zn={},$r=class n{constructor(r,e,t,i,o,s,a,d){this._driver=r,this.element=e,this.subInstructions=t,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new Jn(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;let t=r,i=this.options;t.duration!=null&&(i.duration=_t(t.duration)),t.delay!=null&&(i.delay=_t(t.delay));let o=t.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Yi(o[a],s,this.errors))})}}_copyOptions(){let r={};if(this.options){let e=this.options.params;if(e){let t=r.params={};Object.keys(e).forEach(i=>{t[i]=e[i]})}}return r}createSubContext(r=null,e,t){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(r),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(r){return this.previousNode=Zn,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,t){let i={duration:e??r.duration,delay:this.currentTimeline.currentTime+(t??0)+r.delay,easing:""},o=new qr(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,i,r.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,t,i,o,s){let a=[];if(i&&a.push(this.element),r.length>0){r=r.replace(Hm,"."+this._enterClassName),r=r.replace(Gm,"."+this._leaveClassName);let d=t!=1,u=this._driver.query(this.element,r,d);t!==0&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),a.push(...u)}return!o&&a.length==0&&s.push(rm(e)),a}},Jn=class n{constructor(r,e,t,i){this._driver=r,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new n(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=zm,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles.set(r,e),this._globalTimelineStyles.set(r,e),this._styleSummary.set(r,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||mt),this._currentKeyframe.set(e,mt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,t,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=$m(r,this._globalTimelineStyles);for(let[a,d]of s){let u=Yi(d,o,t);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mt),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,e)=>{this._currentKeyframe.set(e,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,r)}))}snapshotCurrentStyles(){for(let[r,e]of this._localTimelineStyles)this._pendingStyles.set(r,e),this._updateStyle(r,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((e,t)=>{let i=this._styleSummary.get(t);(!i||e.time>i.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,d)=>{let u=new Map([...this._backFill,...a]);u.forEach((_,g)=>{_===_n?r.add(g):_===mt&&e.add(g)}),t||u.set("offset",d/this.duration),i.push(u)});let o=[...r.values()],s=[...e.values()];if(t){let a=i[0],d=new Map(a);a.set("offset",0),d.set("offset",1),i=[a,d]}return so(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},qr=class extends Jn{constructor(r,e,t,i,o,s,a=!1){super(r,e,s.delay),this.keyframes=t,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:t,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=t+e,a=e/s,d=new Map(r[0]);d.set("offset",0),o.push(d);let u=new Map(r[0]);u.set("offset",xa(a)),o.push(u);let _=r.length-1;for(let g=1;g<=_;g++){let w=new Map(r[g]),D=w.get("offset"),M=e+D*t;w.set("offset",xa(M/s)),o.push(w)}t=s,e=0,i="",r=o}return so(this.element,r,this.preStyleProps,this.postStyleProps,t,e,i,!0)}};function xa(n,r=3){let e=Math.pow(10,r-1);return Math.round(n*e)/e}function $m(n,r){let e=new Map,t;return n.forEach(i=>{if(i==="*"){t??=r.keys();for(let o of t)e.set(o,mt)}else for(let[o,s]of i)e.set(o,s)}),e}function Da(n,r,e,t,i,o,s,a,d,u,_,g,w){return{type:0,element:n,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:o,toState:t,toStyles:s,timelines:a,queriedElements:d,preStyleProps:u,postStyleProps:_,totalTime:g,errors:w}}var Or={},er=class{constructor(r,e,t){this._triggerName=r,this.ast=e,this._stateStyles=t}match(r,e,t,i){return qm(this.ast.matchers,r,e,t,i)}buildStyles(r,e,t){let i=this._stateStyles.get("*");return r!==void 0&&(i=this._stateStyles.get(r?.toString())||i),i?i.buildStyles(e,t):new Map}build(r,e,t,i,o,s,a,d,u,_){let g=[],w=this.ast.options&&this.ast.options.params||Or,D=a&&a.params||Or,M=this.buildStyles(t,D,g),P=d&&d.params||Or,U=this.buildStyles(i,P,g),j=new Set,te=new Map,xe=new Map,ve=i==="void",Wt={params:Ha(P,w),delay:this.ast.options?.delay},rt=_?[]:Va(r,e,this.ast.animation,o,s,M,U,Wt,u,g),De=0;return rt.forEach(Te=>{De=Math.max(Te.duration+Te.delay,De)}),g.length?Da(e,this._triggerName,t,i,ve,M,U,[],[],te,xe,De,g):(rt.forEach(Te=>{let At=Te.element,Kt=Ve(te,At,new Set);Te.preStyleProps.forEach(Pt=>Kt.add(Pt));let ao=Ve(xe,At,new Set);Te.postStyleProps.forEach(Pt=>ao.add(Pt)),At!==e&&j.add(At)}),Da(e,this._triggerName,t,i,ve,M,U,rt,[...j.values()],te,xe,De))}};function qm(n,r,e,t,i){return n.some(o=>o(r,e,t,i))}function Ha(n,r){let e=oe({},r);return Object.entries(n).forEach(([t,i])=>{i!=null&&(e[t]=i)}),e}var Qr=class{constructor(r,e,t){this.styles=r,this.defaultParams=e,this.normalizer=t}buildStyles(r,e){let t=new Map,i=Ha(r,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Yi(s,i,e));let d=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,d,s,e),t.set(a,s)})}),t}};function Qm(n,r,e){return new Yr(n,r,e)}var Yr=class{constructor(r,e,t){this.name=r,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Qr(i.style,o,t))}),Ta(this.states,"true","1"),Ta(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new er(r,i,this.states))}),this.fallbackTransition=Ym(r,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,t,i){return this.transitionFactories.find(s=>s.match(r,e,t,i))||null}matchStyles(r,e,t){return this.fallbackTransition.buildStyles(r,e,t)}};function Ym(n,r,e){let t=[(s,a)=>!0],i={type:B.Sequence,steps:[],options:null},o={type:B.Transition,animation:i,matchers:t,options:null,queryCount:0,depCount:0};return new er(n,o,r)}function Ta(n,r,e){n.has(r)?n.has(e)||n.set(e,n.get(r)):n.has(e)&&n.set(r,n.get(e))}var Wm=new Wi,Wr=class{constructor(r,e,t){this.bodyNode=r,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,e){let t=[],i=[],o=za(this._driver,e,t,i);if(t.length)throw cm(t);i.length&&void 0,this._animations.set(r,o)}_buildPlayer(r,e,t){let i=r.element,o=Pa(this._normalizer,r.keyframes,e,t);return this._driver.animate(i,o,r.duration,r.delay,r.easing,[],!0)}create(r,e,t={}){let i=[],o=this._animations.get(r),s,a=new Map;if(o?(s=Va(this._driver,e,o,La,Br,new Map,new Map,t,Wm,i),s.forEach(_=>{let g=Ve(a,_.element,new Map);_.postStyleProps.forEach(w=>g.set(w,null))})):(i.push(dm()),s=[]),i.length)throw mm(i);a.forEach((_,g)=>{_.forEach((w,D)=>{_.set(D,this._driver.computeStyle(g,D,mt))})});let d=s.map(_=>{let g=a.get(_.element);return this._buildPlayer(_,new Map,g)}),u=kt(d);return this._playersById.set(r,u),u.onDestroy(()=>this.destroy(r)),this.players.push(u),u}destroy(r){let e=this._getPlayer(r);e.destroy(),this._playersById.delete(r);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(r){let e=this._playersById.get(r);if(!e)throw um(r);return e}listen(r,e,t,i){let o=to(e,"","","");return eo(this._getPlayer(r),t,o,i),()=>{}}command(r,e,t,i){if(t=="register"){this.register(r,i[0]);return}if(t=="create"){let s=i[0]||{};this.create(r,e,s);return}let o=this._getPlayer(r);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(r);break}}},Ia="ng-animate-queued",Km=".ng-animate-queued",Fr="ng-animate-disabled",Xm=".ng-animate-disabled",Zm="ng-star-inserted",Jm=".ng-star-inserted",eu=[],Ua={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nt="__ng_removed",Ki=class{get params(){return this.options.params}constructor(r,e=""){this.namespaceId=e;let t=r&&r.hasOwnProperty("value"),i=t?r.value:r;if(this.value=nu(i),t){let o=r,{value:s}=o,a=uo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let e=r.params;if(e){let t=this.options.params;Object.keys(e).forEach(i=>{t[i]==null&&(t[i]=e[i])})}}},Qi="void",Nr=new Ki(Qi),Kr=class{constructor(r,e,t){this.id=r,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Xe(e,this._hostClassName)}listen(r,e,t,i){if(!this._triggers.has(e))throw pm(t,e);if(t==null||t.length==0)throw hm(e);if(!ru(t))throw fm(t,e);let o=Ve(this._elementListeners,r,[]),s={name:e,phase:t,callback:i};o.push(s);let a=Ve(this._engine.statesByElement,r,new Map);return a.has(e)||(Xe(r,Un),Xe(r,Un+"-"+e),a.set(e,Nr)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(s);d>=0&&o.splice(d,1),this._triggers.has(e)||a.delete(e)})}}register(r,e){return this._triggers.has(r)?!1:(this._triggers.set(r,e),!0)}_getTrigger(r){let e=this._triggers.get(r);if(!e)throw gm(r);return e}trigger(r,e,t,i=!0){let o=this._getTrigger(e),s=new Xi(this.id,e,r),a=this._engine.statesByElement.get(r);a||(Xe(r,Un),Xe(r,Un+"-"+e),this._engine.statesByElement.set(r,a=new Map));let d=a.get(e),u=new Ki(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&d&&u.absorbOptions(d.options),a.set(e,u),d||(d=Nr),!(u.value===Qi)&&d.value===u.value){if(!au(d.params,u.params)){let P=[],U=o.matchStyles(d.value,d.params,P),j=o.matchStyles(u.value,u.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{qt(r,U),ht(r,j)})}return}let w=Ve(this._engine.playersByElement,r,[]);w.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let D=o.matchTransition(d.value,u.value,r,u.params),M=!1;if(!D){if(!i)return;D=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:D,fromState:d,toState:u,player:s,isFallbackTransition:M}),M||(Xe(r,Ia),s.onStart(()=>{Ii(r,Ia)})),s.onDone(()=>{let P=this.players.indexOf(s);P>=0&&this.players.splice(P,1);let U=this._engine.playersByElement.get(r);if(U){let j=U.indexOf(s);j>=0&&U.splice(j,1)}}),this.players.push(s),w.push(s),s}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(e=>e.delete(r)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(i=>i.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let e=this._engine.playersByElement.get(r);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){let t=this._engine.driver.query(r,Yn,!0);t.forEach(i=>{if(i[nt])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(r,e,t,i){let o=this._engine.statesByElement.get(r),s=new Map;if(o){let a=[];if(o.forEach((d,u)=>{if(s.set(u,d.value),this._triggers.has(u)){let _=this.trigger(r,u,Qi,i);_&&a.push(_)}}),a.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,s),t&&kt(a).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let e=this._elementListeners.get(r),t=this._engine.statesByElement.get(r);if(e&&t){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let d=this._triggers.get(s).fallbackTransition,u=t.get(s)||Nr,_=new Ki(Qi),g=new Xi(this.id,s,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:s,transition:d,fromState:u,toState:_,player:g,isFallbackTransition:!0})})}}removeNode(r,e){let t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let i=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(r):[];if(o&&o.length)i=!0;else{let s=r;for(;s=s.parentNode;)if(t.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(r),i)t.markElementAsRemoved(this.id,r,!1,e);else{let o=r[nt];(!o||o===Ua)&&(t.afterFlush(()=>this.clearElementCache(r)),t.destroyInnerAnimations(r),t._onRemovalComplete(r,e))}}insertNode(r,e){Xe(r,this._hostClassName)}drainQueuedTransitions(r){let e=[];return this._queue.forEach(t=>{let i=t.player;if(i.destroyed)return;let o=t.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==t.triggerName){let d=to(o,t.triggerName,t.fromState.value,t.toState.value);d._data=r,eo(t.player,a.phase,d,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(t)}),this._queue=[],e.sort((t,i)=>{let o=t.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(t.element,i.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},Xr=class{_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}constructor(r,e,t){this.bodyNode=r,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let r=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&r.push(t)})}),r}createNamespace(r,e){let t=new Kr(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[r]=t}_balanceNamespaceList(r,e){let t=this._namespaceList,i=this.namespacesByHostElement;if(t.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let d=i.get(a);if(d){let u=t.indexOf(d);t.splice(u+1,0,r),s=!0;break}a=this.driver.getParentElement(a)}s||t.unshift(r)}else t.push(r);return i.set(e,r),r}register(r,e){let t=this._namespaceLookup[r];return t||(t=this.createNamespace(r,e)),t}registerTrigger(r,e,t){let i=this._namespaceLookup[r];i&&i.register(e,t)&&this.totalAnimations++}destroy(r,e){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(r);this.namespacesByHostElement.delete(t.hostElement);let i=this._namespaceList.indexOf(t);i>=0&&this._namespaceList.splice(i,1),t.destroy(e),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let e=new Set,t=this.statesByElement.get(r);if(t){for(let i of t.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(r,e,t,i){if(qn(e)){let o=this._fetchNamespace(r);if(o)return o.trigger(e,t,i),!0}return!1}insertNode(r,e,t,i){if(!qn(e))return;let o=e[nt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(r){let s=this._fetchNamespace(r);s&&s.insertNode(e,t)}i&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Xe(r,Fr)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ii(r,Fr))}removeNode(r,e,t){if(qn(e)){let i=r?this._fetchNamespace(r):null;i?i.removeNode(e,t):this.markElementAsRemoved(r,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==r&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(r,e,t,i,o){this.collectedLeaveElements.push(e),e[nt]={namespaceId:r,setForRemoval:i,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(r,e,t,i,o){return qn(e)?this._fetchNamespace(r).listen(e,t,i,o):()=>{}}_buildInstruction(r,e,t,i,o){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,t,i,r.fromState.options,r.toState.options,e,o)}destroyInnerAnimations(r){let e=this.driver.query(r,Yn,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(r,jr,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(r){let e=this.playersByElement.get(r);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(r){let e=this.playersByQueriedElement.get(r);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return kt(this.players).onDone(()=>r());r()})}processLeaveNode(r){let e=r[nt];if(e&&e.setForRemoval){if(r[nt]=Ua,e.namespaceId){this.destroyInnerAnimations(r);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}r.classList?.contains(Fr)&&this.markElementAsDisabled(r,!1),this.driver.query(r,Xm,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,i)=>this._balanceNamespaceList(t,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let i=this.collectedEnterElements[t];Xe(i,Zm)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,r)}finally{for(let i=0;i<t.length;i++)t[i]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let i=this.collectedLeaveElements[t];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?kt(e).onDone(()=>{t.forEach(i=>i())}):t.forEach(i=>i())}}reportError(r){throw _m(r)}_flushAnimations(r,e){let t=new Wi,i=[],o=new Map,s=[],a=new Map,d=new Map,u=new Map,_=new Set;this.disabledNodes.forEach(S=>{_.add(S);let R=this.driver.query(S,Km,!0);for(let A=0;A<R.length;A++)_.add(R[A])});let g=this.bodyNode,w=Array.from(this.statesByElement.keys()),D=ka(w,this.collectedEnterElements),M=new Map,P=0;D.forEach((S,R)=>{let A=La+P++;M.set(R,A),S.forEach(z=>Xe(z,A))});let U=[],j=new Set,te=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){let R=this.collectedLeaveElements[S],A=R[nt];A&&A.setForRemoval&&(U.push(R),j.add(R),A.hasAnimation?this.driver.query(R,Jm,!0).forEach(z=>j.add(z)):te.add(R))}let xe=new Map,ve=ka(w,Array.from(j));ve.forEach((S,R)=>{let A=Br+P++;xe.set(R,A),S.forEach(z=>Xe(z,A))}),r.push(()=>{D.forEach((S,R)=>{let A=M.get(R);S.forEach(z=>Ii(z,A))}),ve.forEach((S,R)=>{let A=xe.get(R);S.forEach(z=>Ii(z,A))}),U.forEach(S=>{this.processLeaveNode(S)})});let Wt=[],rt=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach(A=>{let z=A.player,ue=A.element;if(Wt.push(z),this.collectedEnterElements.length){let we=ue[nt];if(we&&we.setForMove){if(we.previousTriggersValues&&we.previousTriggersValues.has(A.triggerName)){let Ot=we.previousTriggersValues.get(A.triggerName),He=this.statesByElement.get(A.element);if(He&&He.has(A.triggerName)){let Zi=He.get(A.triggerName);Zi.value=Ot,He.set(A.triggerName,Zi)}}z.destroy();return}}let ot=!g||!this.driver.containsElement(g,ue),Ae=xe.get(ue),yt=M.get(ue),X=this._buildInstruction(A,t,yt,Ae,ot);if(X.errors&&X.errors.length){rt.push(X);return}if(ot){z.onStart(()=>qt(ue,X.fromStyles)),z.onDestroy(()=>ht(ue,X.toStyles)),i.push(z);return}if(A.isFallbackTransition){z.onStart(()=>qt(ue,X.fromStyles)),z.onDestroy(()=>ht(ue,X.toStyles)),i.push(z);return}let mo=[];X.timelines.forEach(we=>{we.stretchStartingKeyframe=!0,this.disabledNodes.has(we.element)||mo.push(we)}),X.timelines=mo,t.append(ue,X.timelines);let Ka={instruction:X,player:z,element:ue};s.push(Ka),X.queriedElements.forEach(we=>Ve(a,we,[]).push(z)),X.preStyleProps.forEach((we,Ot)=>{if(we.size){let He=d.get(Ot);He||d.set(Ot,He=new Set),we.forEach((Zi,sr)=>He.add(sr))}}),X.postStyleProps.forEach((we,Ot)=>{let He=u.get(Ot);He||u.set(Ot,He=new Set),we.forEach((Zi,sr)=>He.add(sr))})});if(rt.length){let S=[];rt.forEach(R=>{S.push(ym(R.triggerName,R.errors))}),Wt.forEach(R=>R.destroy()),this.reportError(S)}let De=new Map,Te=new Map;s.forEach(S=>{let R=S.element;t.has(R)&&(Te.set(R,R),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,De))}),i.forEach(S=>{let R=S.element;this._getPreviousPlayers(R,!1,S.namespaceId,S.triggerName,null).forEach(z=>{Ve(De,R,[]).push(z),z.destroy()})});let At=U.filter(S=>Aa(S,d,u)),Kt=new Map;Ra(Kt,this.driver,te,u,mt).forEach(S=>{Aa(S,d,u)&&At.push(S)});let Pt=new Map;D.forEach((S,R)=>{Ra(Pt,this.driver,new Set(S),d,_n)}),At.forEach(S=>{let R=Kt.get(S),A=Pt.get(S);Kt.set(S,new Map([...R?.entries()??[],...A?.entries()??[]]))});let or=[],lo=[],co={};s.forEach(S=>{let{element:R,player:A,instruction:z}=S;if(t.has(R)){if(_.has(R)){A.onDestroy(()=>ht(R,z.toStyles)),A.disabled=!0,A.overrideTotalTime(z.totalTime),i.push(A);return}let ue=co;if(Te.size>1){let Ae=R,yt=[];for(;Ae=Ae.parentNode;){let X=Te.get(Ae);if(X){ue=X;break}yt.push(Ae)}yt.forEach(X=>Te.set(X,ue))}let ot=this._buildAnimation(A.namespaceId,z,De,o,Pt,Kt);if(A.setRealPlayer(ot),ue===co)or.push(A);else{let Ae=this.playersByElement.get(ue);Ae&&Ae.length&&(A.parentPlayer=kt(Ae)),i.push(A)}}else qt(R,z.fromStyles),A.onDestroy(()=>ht(R,z.toStyles)),lo.push(A),_.has(R)&&i.push(A)}),lo.forEach(S=>{let R=o.get(S.element);if(R&&R.length){let A=kt(R);S.setRealPlayer(A)}}),i.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<U.length;S++){let R=U[S],A=R[nt];if(Ii(R,Br),A&&A.hasAnimation)continue;let z=[];if(a.size){let ot=a.get(R);ot&&ot.length&&z.push(...ot);let Ae=this.driver.query(R,jr,!0);for(let yt=0;yt<Ae.length;yt++){let X=a.get(Ae[yt]);X&&X.length&&z.push(...X)}}let ue=z.filter(ot=>!ot.destroyed);ue.length?ou(this,R,ue):this.processLeaveNode(R)}return U.length=0,or.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();let R=this.players.indexOf(S);this.players.splice(R,1)}),S.play()}),or}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,t,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(r);a&&(s=a)}else{let a=this.playersByElement.get(r);if(a){let d=!o||o==Qi;a.forEach(u=>{u.queued||!d&&u.triggerName!=i||s.push(u)})}}return(t||i)&&(s=s.filter(a=>!(t&&t!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(r,e,t){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:r,a=e.isRemovalTransition?void 0:i;for(let d of e.timelines){let u=d.element,_=u!==o,g=Ve(t,u,[]);this._getPreviousPlayers(u,_,s,a,e.toState).forEach(D=>{let M=D.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),D.destroy(),g.push(D)})}qt(o,e.fromStyles)}_buildAnimation(r,e,t,i,o,s){let a=e.triggerName,d=e.element,u=[],_=new Set,g=new Set,w=e.timelines.map(M=>{let P=M.element;_.add(P);let U=P[nt];if(U&&U.removedBeforeQueried)return new _i(M.duration,M.delay);let j=P!==d,te=su((t.get(P)||eu).map(De=>De.getRealPlayer())).filter(De=>{let Te=De;return Te.element?Te.element===P:!1}),xe=o.get(P),ve=s.get(P),Wt=Pa(this._normalizer,M.keyframes,xe,ve),rt=this._buildPlayer(M,Wt,te);if(M.subTimeline&&i&&g.add(P),j){let De=new Xi(r,a,P);De.setRealPlayer(rt),u.push(De)}return rt});u.forEach(M=>{Ve(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>iu(this.playersByQueriedElement,M.element,M))}),_.forEach(M=>Xe(M,Ca));let D=kt(w);return D.onDestroy(()=>{_.forEach(M=>Ii(M,Ca)),ht(d,e.toStyles)}),g.forEach(M=>{Ve(i,M,[]).push(D)}),D}_buildPlayer(r,e,t){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,t):new _i(r.duration,r.delay)}},Xi=class{constructor(r,e,t){this.namespaceId=r,this.triggerName=e,this.element=t,this._player=new _i,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((e,t)=>{e.forEach(i=>eo(r,t,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){Ve(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let e=this._player;e.triggerCallback&&e.triggerCallback(r)}};function iu(n,r,e){let t=n.get(r);if(t){if(t.length){let i=t.indexOf(e);t.splice(i,1)}t.length==0&&n.delete(r)}return t}function nu(n){return n??null}function qn(n){return n&&n.nodeType===1}function ru(n){return n=="start"||n=="done"}function Ma(n,r){let e=n.style.display;return n.style.display=r??"none",e}function Ra(n,r,e,t,i){let o=[];e.forEach(d=>o.push(Ma(d)));let s=[];t.forEach((d,u)=>{let _=new Map;d.forEach(g=>{let w=r.computeStyle(u,g,i);_.set(g,w),(!w||w.length==0)&&(u[nt]=tu,s.push(u))}),n.set(u,_)});let a=0;return e.forEach(d=>Ma(d,o[a++])),s}function ka(n,r){let e=new Map;if(n.forEach(a=>e.set(a,[])),r.length==0)return e;let t=1,i=new Set(r),o=new Map;function s(a){if(!a)return t;let d=o.get(a);if(d)return d;let u=a.parentNode;return e.has(u)?d=u:i.has(u)?d=t:d=s(u),o.set(a,d),d}return r.forEach(a=>{let d=s(a);d!==t&&e.get(d).push(a)}),e}function Xe(n,r){n.classList?.add(r)}function Ii(n,r){n.classList?.remove(r)}function ou(n,r,e){kt(e).onDone(()=>n.processLeaveNode(r))}function su(n){let r=[];return Ga(n,r),r}function Ga(n,r){for(let e=0;e<n.length;e++){let t=n[e];t instanceof mr?Ga(t.players,r):r.push(t)}}function au(n,r){let e=Object.keys(n),t=Object.keys(r);if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!r.hasOwnProperty(o)||n[o]!==r[o])return!1}return!0}function Aa(n,r,e){let t=e.get(n);if(!t)return!1;let i=r.get(n);return i?t.forEach(o=>i.add(o)):r.set(n,t),e.delete(n),!0}var Mi=class{constructor(r,e,t){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Xr(r.body,e,t),this._timelineEngine=new Wr(r.body,e,t),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(r,e,t,i,o){let s=r+"-"+i,a=this._triggerCache[s];if(!a){let d=[],u=[],_=za(this._driver,o,d,u);if(d.length)throw am(i,d);u.length&&void 0,a=Qm(i,_,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,t,i){this._transitionEngine.insertNode(r,e,t,i)}onRemove(r,e,t){this._transitionEngine.removeNode(r,e,t)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,t,i){if(t.charAt(0)=="@"){let[o,s]=ba(t),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(r,e,t,i)}listen(r,e,t,i,o){if(t.charAt(0)=="@"){let[s,a]=ba(t);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(r,e,t,i,o)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function lu(n,r){let e=null,t=null;return Array.isArray(r)&&r.length?(e=Lr(r[0]),r.length>1&&(t=Lr(r[r.length-1]))):r instanceof Map&&(e=Lr(r)),e||t?new Zr(n,e,t):null}var Zr=class n{static{this.initialStylesByElement=new WeakMap}constructor(r,e,t){this._element=r,this._startStyles=e,this._endStyles=t,this._state=0;let i=n.initialStylesByElement.get(r);i||n.initialStylesByElement.set(r,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ht(this._element,this._initialStyles),this._endStyles&&(ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),ht(this._element,this._initialStyles),this._state=3)}};function Lr(n){let r=null;return n.forEach((e,t)=>{cu(t)&&(r=r||new Map,r.set(t,e))}),r}function cu(n){return n==="display"||n==="position"}var tr=class{constructor(r,e,t,i){this.element=r,this.keyframes=e,this.options=t,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let e=[];return r.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(r,e,t){return r.animate(this._convertKeyframesToObject(e),t)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,i)=>{i!=="offset"&&r.set(i,this._finished?t:oo(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){let e=r==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},ir=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,e){return Oa(r,e)}getParentElement(r){return io(r)}query(r,e,t){return Fa(r,e,t)}computeStyle(r,e,t){return oo(r,e)}animate(r,e,t,i,o,s=[]){let a=i==0?"both":"forwards",d={duration:t,delay:i,fill:a};o&&(d.easing=o);let u=new Map,_=s.filter(D=>D instanceof tr);Mm(t,i)&&_.forEach(D=>{D.currentSnapshot.forEach((M,P)=>u.set(P,M))});let g=Dm(e).map(D=>new Map(D));g=Rm(r,g,u);let w=lu(r,g);return new tr(r,g,d,w)}};var Qn="@",$a="@.disabled",nr=class{constructor(r,e,t,i){this.namespaceId=r,this.delegate=e,this.engine=t,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,t,i=!0){this.delegate.insertBefore(r,e,t),this.engine.onInsert(this.namespaceId,e,r,i)}removeChild(r,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,t,i){this.delegate.setAttribute(r,e,t,i)}removeAttribute(r,e,t){this.delegate.removeAttribute(r,e,t)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,t,i){this.delegate.setStyle(r,e,t,i)}removeStyle(r,e,t){this.delegate.removeStyle(r,e,t)}setProperty(r,e,t){e.charAt(0)==Qn&&e==$a?this.disableAnimations(r,!!t):this.delegate.setProperty(r,e,t)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,t){return this.delegate.listen(r,e,t)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}},Jr=class extends nr{constructor(r,e,t,i,o){super(e,t,i,o),this.factory=r,this.namespaceId=e}setProperty(r,e,t){e.charAt(0)==Qn?e.charAt(1)=="."&&e==$a?(t=t===void 0?!0:!!t,this.disableAnimations(r,t)):this.engine.process(this.namespaceId,r,e.slice(1),t):this.delegate.setProperty(r,e,t)}listen(r,e,t){if(e.charAt(0)==Qn){let i=du(r),o=e.slice(1),s="";return o.charAt(0)!=Qn&&([o,s]=mu(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let d=a._data||-1;this.factory.scheduleListenerCallback(d,t,a)})}return this.delegate.listen(r,e,t)}};function du(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function mu(n){let r=n.indexOf("."),e=n.substring(0,r),t=n.slice(r+1);return[e,t]}var rr=class{constructor(r,e,t){this.delegate=r,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(r,e){let t="",i=this.delegate.createRenderer(r,e);if(!r||!e?.data?.animation){let u=this._rendererCache,_=u.get(i);if(!_){let g=()=>u.delete(i);_=new nr(t,i,this.engine,g),u.set(i,_)}return _}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,r);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,r,u.name,u)};return e.data.animation.forEach(a),new Jr(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,e,t){if(r>=0&&r<this._microtaskId){this._zone.run(()=>e(t));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var pu=(()=>{class n extends Mi{constructor(e,t,i){super(e,t,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||n)(q(Qe),q(Qt),q(Yt))}}static{this.\u0275prov=se({token:n,factory:n.\u0275fac})}}return n})();function hu(){return new Kn}function fu(n,r,e){return new rr(n,r,e)}var Qa=[{provide:Yt,useFactory:hu},{provide:Mi,useClass:pu},{provide:_o,useFactory:fu,deps:[Ro,Mi,Oe]}],qa=[{provide:Qt,useFactory:()=>new ir},{provide:at,useValue:"BrowserAnimations"},...Qa],gu=[{provide:Qt,useClass:no},{provide:at,useValue:"NoopAnimations"},...Qa],Ya=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?gu:qa}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=le({type:n})}static{this.\u0275inj=ae({providers:qa,imports:[Ao]})}}return n})();var Wa=(n,r)=>{let e=re(En);return e.show(),r(n).pipe(rn(()=>e.hide()))};function _u(n){return new xn(n,"/assets/i18n/",".json")}var yu=(n,r)=>{let e=re(Se),t=localStorage.getItem("forestPlus_token"),i=t?n.clone({setHeaders:{Authorization:`Bearer ${t}`}}):n;return r(i).pipe(ar(o=>o.status===401||o.status===403?localStorage.getItem("forestPlus_refresh_token")?e.refreshToken().pipe(ho(a=>{if(a.token&&a.refreshToken)localStorage.setItem("forestPlus_token",a.token),localStorage.setItem("forestPlus_refresh_token",a.refreshToken);else return e.logout(),Ri(()=>new Error("Refresh token inv\xE1lido"));let d=n.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return r(d)}),ar(a=>(e.logout(),Ri(()=>a)))):(e.logout(),Ri(()=>o)):Ri(()=>o)))};ko(_s,{providers:[Uo(Fi.apiBaseUrl),Oo(ya,Fo()),fo(Ya,W.forRoot({loader:{provide:No,useFactory:_u,deps:[To]}})),Io(Mo([Wa,yu]))]}).catch(n=>console.error(n));export{_u as HttpLoaderFactory,yu as authInterceptor};
