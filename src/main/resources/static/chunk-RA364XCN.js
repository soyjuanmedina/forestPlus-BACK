import{a as U}from"./chunk-I6AMTEEF.js";import{Ab as G,Ac as J,Ba as y,E as g,F as x,G as I,H as b,Ha as D,J as h,K as M,Ma as B,Na as N,Oa as R,Q as k,R as j,Ra as W,Sb as H,Y as P,Z as T,ab as v,ba as c,ca as m,fb as F,gb as z,i as u,ib as L,la as E,lc as Q,ma as _,mb as C,n as s,pa as p,qa as l,ra as f,sa as O,ta as A,ub as $,vb as q,wa as a,wb as V,xa as o,ya as d,zb as S}from"./chunk-6A3NVZPE.js";var ue=(()=>{class i{constructor(e,t){this.companyController=e,this.http=t,this.companySubject=new u(null);let r=localStorage.getItem("forestPlus_company");r&&this.companySubject.next(JSON.parse(r))}getCompany(){return this.companySubject.asObservable()}getCurrentCompany(){return this.companySubject.value}updateCurrentCompany(e){this.companySubject.next(e),localStorage.setItem("forestPlus_company",JSON.stringify(e))}clearCompany(){this.companySubject.next(null),localStorage.removeItem("forestPlus_company")}getAllCompanies(){return this.companyController.getAllCompanies()}getCompanies(e,t,r){return this.companyController.getAllCompanies()}getCompanyById(e){return this.companyController.getCompanyById(e).pipe(s(t=>(this.updateCurrentCompany(t),t)))}createCompany(e){return this.companyController.createCompany(e).pipe(s(t=>(this.updateCurrentCompany(t),t)))}updateCompany(e,t){let r={name:t.name,address:t.address};return this.companyController.updateCompany(e,r).pipe(s(n=>(this.companySubject.value?.id===n.id&&this.updateCurrentCompany(n),n)))}deleteCompany(e){return this.companyController.deleteCompany(e).pipe(s(t=>(this.companySubject.value?.id===e&&this.clearCompany(),t)))}updateCompanyPicture(e,t){let r=new FormData;return r.append("file",t),this.http.put(`${U.apiBaseUrl}/api/companies/${e}/picture`,r).pipe(s(n=>(this.companySubject.value?.id===n.id&&this.updateCurrentCompany(n),n)))}static{this.\u0275fac=function(t){return new(t||i)(b(J),b(G))}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Y=(()=>{class i{constructor(){this.loadingSubject=new u(!1),this.loading$=this.loadingSubject.asObservable(),this.requests=0}show(){this.requests++,this.loadingSubject.next(!0)}hide(){this.requests--,this.requests<=0&&(this.requests=0,this.loadingSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var te=["determinateSpinner"];function ie(i,ee){if(i&1&&(k(),a(0,"svg",11),d(1,"circle",12),o()),i&2){let e=D();p("viewBox",e._viewBox()),c(),f("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),p("r",e._circleRadius())}}var ne=new I("mat-progress-spinner-default-options",{providedIn:"root",factory:ae});function ae(){return{diameter:K}}var K=100,oe=10,Z=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,t,r){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=K,this._noopAnimations=t==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-oe)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(t){return new(t||i)(m(P),m(T,8),m(ne))}}static{this.\u0275cmp=h({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,r){if(t&1&&B(te,5),t&2){let n;N(n=R())&&(r._determinateCircle=n.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,r){t&2&&(p("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),A("mat-"+r.color),f("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),O("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",C],diameter:[2,"diameter","diameter",C],strokeWidth:[2,"strokeWidth","strokeWidth",C]},exportAs:["matProgressSpinner"],standalone:!0,features:[E,v],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,r){if(t&1&&(_(0,ie,2,8,"ng-template",null,0,L),a(2,"div",2,1),k(),a(4,"svg",3),d(5,"circle",4),o()(),j(),a(6,"div",5)(7,"div",6)(8,"div",7),y(9,8),o(),a(10,"div",9),y(11,8),o(),a(12,"div",10),y(13,8),o()()()),t&2){let n=W(1);c(4),p("viewBox",r._viewBox()),c(),f("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),p("r",r._circleRadius()),c(4),l("ngTemplateOutlet",n),c(2),l("ngTemplateOutlet",n),c(2),l("ngTemplateOutlet",n)}},dependencies:[q],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return i})();var X=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=M({type:i})}static{this.\u0275inj=x({imports:[S,Q]})}}return i})();function se(i,ee){i&1&&(a(0,"div",1),d(1,"mat-spinner",2),o())}var Ee=(()=>{class i{constructor(e){this.loadingService=e,this.loading$=this.loadingService.loading$}static{this.\u0275fac=function(t){return new(t||i)(m(Y))}}static{this.\u0275cmp=h({type:i,selectors:[["app-loading-spinner"]],standalone:!0,features:[v],decls:2,vars:3,consts:[["class","fixed inset-0 bg-gray-200 bg-opacity-50 flex flex-col items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-200","bg-opacity-50","flex","flex-col","items-center","justify-center","z-50"],["diameter","50"]],template:function(t,r){t&1&&(_(0,se,2,0,"div",0),F(1,"async")),t&2&&l("ngIf",z(1,1,r.loading$))},dependencies:[S,$,V,X,Z,H]})}}return i})();export{X as a,Y as b,Ee as c,ue as d};
