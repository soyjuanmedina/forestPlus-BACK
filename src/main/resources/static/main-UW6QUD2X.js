import{a as Go,b as Dt,c as Ke,d as Y,e as si,f as dt,g as _n}from"./chunk-CW6BFJWS.js";import{a as lt,b as Xe,d as is,e as ns,g as rs,h as fs,i as gn,j as gs,k as Cr,l as _s,m as ys,n as vs}from"./chunk-3P5MD5LR.js";import{$a as gr,$b as cn,$c as br,A as Zi,Aa as d,Ab as jo,Ac as ai,B as wo,Ba as m,Bb as zo,Bc as be,C as $e,Ca as R,Cb as Vo,Da as J,Dc as li,E as V,Ea as ee,Eb as sn,Ec as ci,F as le,Fa as fe,Fb as ii,G as ce,Ga as U,Gb as ye,H as oe,Ha as fr,Hb as Ae,Hc as di,I as q,Ib as Ho,J as se,Ja as M,Jb as Uo,Jc as mi,K as Ji,Kb as ue,Kc as ui,L as en,La as y,Lb as xt,M as x,Ma as Et,Mc as pi,N as de,Na as Le,Nb as $o,O as F,Oa as ht,Ob as an,Oc as hi,Pa as et,Pb as ni,Pc as B,Q as So,Qa as Be,Qb as vr,Qc as mt,R as Ft,Ra as te,Rb as ri,Rc as Bt,S as N,Sa as ie,Sb as qo,Sc as ut,T as L,Tc as Jo,U as st,Uc as K,V as Kt,Va as Jt,Vc as je,W as Ie,Wa as h,Wc as ki,X as Eo,Xa as P,Xc as tt,Y as qe,Ya as E,Yc as es,Z as Fe,Za as Mo,Zb as ln,Zc as ts,_ as Ne,_a as ko,_c as fi,a as ae,aa as Q,ab as _r,ac as dn,ad as un,b as Qi,ba as at,bb as yr,bd as os,c as bo,cb as Qe,cc as Tt,cd as pn,da as tn,db as T,dc as mn,dd as ss,ea as l,eb as ke,ec as Lt,ed as Ai,f as re,fa as p,fb as b,fc as Qo,fd as hn,g as Ct,ga as Je,gb as w,gc as Yo,h as Yi,ha as Do,hb as Nt,hc as we,hd as as,ia as St,ib as rn,id as ls,j as wt,jb as Ye,jd as cs,k as Ri,ka as Z,kb as ei,kd as ds,l as Co,la as xo,lb as ge,ld as ms,m as Yt,ma as Re,mb as ft,mc as Wo,md as Oi,n as Wi,na as v,nd as us,ob as We,od as ps,p as Ki,pa as Xt,pb as Ao,pd as Pi,qa as pe,qb as on,qc as W,qd as Fi,r as Pt,ra as f,rb as ti,rc as Ko,rd as hs,s as Mi,sa as Zt,sb as _e,sc as Xo,sd as fn,t as hr,ta as me,tb as Oo,td as gi,ua as nn,ub as Po,uc as Zo,ud as ze,v as Wt,vb as Fo,vc as Se,wa as Me,wb as G,wc as Oe,x as Xi,xa as To,xb as No,xc as ct,xd as _i,ya as Io,yb as Lo,yc as oi,yd as yn,za as Ro,zb as Bo,zc as Ee}from"./chunk-UX3E3RBF.js";var Ka=["determinateSpinner"];function Xa(i,r){if(i&1&&(st(),d(0,"svg",11),R(1,"circle",12),m()),i&2){let e=y();pe("viewBox",e._viewBox()),l(),Zt("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),pe("r",e._circleRadius())}}var Za=new oe("mat-progress-spinner-default-options",{providedIn:"root",factory:Ja});function Ja(){return{diameter:bs}}var bs=100,el=10,Cs=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,t,n){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=bs,this._noopAnimations=t==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-el)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(t){return new(t||i)(p(Q),p(at,8),p(Za))}}static{this.\u0275cmp=x({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,n){if(t&1&&Be(Ka,5),t&2){let o;te(o=ie())&&(n._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,n){t&2&&(pe("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),nn("mat-"+n.color),Zt("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),me("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",ft],diameter:[2,"diameter","diameter",ft],strokeWidth:[2,"strokeWidth","strokeWidth",ft]},exportAs:["matProgressSpinner"],standalone:!0,features:[Re,T],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,n){if(t&1&&(v(0,Xa,2,8,"ng-template",null,0,rn),d(2,"div",2,1),st(),d(4,"svg",3),R(5,"circle",4),m()(),Kt(),d(6,"div",5)(7,"div",6)(8,"div",7),fe(9,8),m(),d(10,"div",9),fe(11,8),m(),d(12,"div",10),fe(13,8),m()()()),t&2){let o=Jt(1);l(4),pe("viewBox",n._viewBox()),l(),Zt("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),pe("r",n._circleRadius()),l(4),f("ngTemplateOutlet",o),l(2),f("ngTemplateOutlet",o),l(2),f("ngTemplateOutlet",o)}},dependencies:[Oo],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return i})();var It=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({imports:[G,we]})}}return i})();var vn=(()=>{class i{constructor(){this.loadingSubject=new Ct(!1),this.loading$=this.loadingSubject.asObservable(),this.requests=0}show(){this.requests++,this.loadingSubject.next(!0)}hide(){this.requests--,this.requests<=0&&(this.requests=0,this.loadingSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function nl(i,r){i&1&&(d(0,"div",1),R(1,"mat-spinner",2),m())}var ws=(()=>{class i{constructor(e){this.loadingService=e,this.loading$=this.loadingService.loading$}static{this.\u0275fac=function(t){return new(t||i)(p(vn))}}static{this.\u0275cmp=x({type:i,selectors:[["app-loading-spinner"]],standalone:!0,features:[T],decls:2,vars:3,consts:[["class","fixed inset-0 bg-gray-200 bg-opacity-50 flex flex-col items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-200","bg-opacity-50","flex","flex-col","items-center","justify-center","z-50"],["diameter","50"]],template:function(t,n){t&1&&(v(0,nl,2,0,"div",0),b(1,"async")),t&2&&f("ngIf",w(1,1,n.loading$))},dependencies:[G,_e,Po,It,Cs,Y]})}}return i})();var Ss=(()=>{class i{constructor(e){this.translate=e,e.addLangs(["en","es"]),e.setDefaultLang("es");let t=e.getBrowserLang();e.use(t?.match(/en|es/)?t:"es")}static{this.\u0275fac=function(t){return new(t||i)(p(Dt))}}static{this.\u0275cmp=x({type:i,selectors:[["app-root"]],standalone:!0,features:[T],decls:2,vars:0,template:function(t,n){t&1&&R(0,"app-loading-spinner")(1,"router-outlet")},dependencies:[ii,Y,ws]})}}return i})();var bn=class{constructor(r,e="assets/i18n/",t=".json"){this.http=r,this.prefix=e,this.suffix=t}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}};function rl(i,r){if(i&1&&(J(0),d(1,"a",11),h(2),b(3,"translate"),m(),ee()),i&2){let e=y().$implicit;l(),f("routerLink",e.route),l(),E(" ",w(3,2,e.label)," ")}}function ol(i,r){if(i&1&&(J(0),v(1,rl,4,4,"ng-container",10),ee()),i&2){let e=r.$implicit,t=y(2);l(),f("ngIf",!e.children&&t.canShow(e))}}function sl(i,r){if(i&1&&(d(0,"a",15),h(1),b(2,"translate"),m()),i&2){let e=y().$implicit;f("routerLink",e.route),l(),E(" ",w(2,2,e.label)," ")}}function al(i,r){if(i&1&&(J(0),v(1,sl,3,4,"a",14),ee()),i&2){let e=r.$implicit,t=y(4);l(),f("ngIf",t.canShow(e))}}function ll(i,r){if(i&1&&(J(0),d(1,"div",12),h(2),b(3,"translate"),m(),d(4,"div",13),v(5,al,2,1,"ng-container",6),m(),ee()),i&2){let e=y().$implicit;l(2),E(" ",w(3,2,e.label)," "),l(3),f("ngForOf",e.children)}}function cl(i,r){if(i&1&&(J(0),v(1,ll,6,4,"ng-container",10),ee()),i&2){let e=r.$implicit,t=y(2);l(),f("ngIf",e.children&&t.canShow(e))}}function dl(i,r){if(i&1){let e=U();d(0,"div",16),M("click",function(){N(e);let n=y(2);return L(n.closeSidebar())}),m()}}function ml(i,r){if(i&1){let e=U();J(0),d(1,"a",19),M("click",function(){N(e);let n=y(4);return L(n.closeSidebar())}),h(2),b(3,"translate"),m(),ee()}if(i&2){let e=y().$implicit;l(),f("routerLink",e.route),l(),E(" ",w(3,2,e.label)," ")}}function ul(i,r){if(i&1&&(J(0),v(1,ml,4,4,"ng-container",10),ee()),i&2){let e=r.$implicit,t=y(3);l(),f("ngIf",!e.children&&t.canShow(e))}}function pl(i,r){if(i&1){let e=U();d(0,"a",21),M("click",function(){N(e);let n=y(6);return L(n.closeSidebar())}),h(1),b(2,"translate"),m()}if(i&2){let e=y().$implicit;f("routerLink",e.route),l(),E(" ",w(2,2,e.label)," ")}}function hl(i,r){if(i&1&&(J(0),v(1,pl,3,4,"a",20),ee()),i&2){let e=r.$implicit,t=y(5);l(),f("ngIf",t.canShow(e))}}function fl(i,r){if(i&1&&(J(0),d(1,"div",12),h(2),b(3,"translate"),m(),d(4,"div",13),v(5,hl,2,1,"ng-container",6),m(),ee()),i&2){let e=y().$implicit;l(2),E(" ",w(3,2,e.label)," "),l(3),f("ngForOf",e.children)}}function gl(i,r){if(i&1&&(J(0),v(1,fl,6,4,"ng-container",10),ee()),i&2){let e=r.$implicit,t=y(3);l(),f("ngIf",e.children&&t.canShow(e))}}function _l(i,r){if(i&1&&(d(0,"aside",17)(1,"div",3),h(2),b(3,"translate"),m(),d(4,"div",18)(5,"nav",5),v(6,ul,2,1,"ng-container",6),m()(),d(7,"nav",7),v(8,gl,2,1,"ng-container",6),m()()),i&2){let e=y(2);l(2),E(" ",w(3,3,"MENU.MENU")," "),l(4),f("ngForOf",e.menuLinks),l(2),f("ngForOf",e.menuLinks)}}function yl(i,r){if(i&1&&(J(0),d(1,"aside",2)(2,"div",3),h(3),b(4,"translate"),m(),d(5,"div",4)(6,"nav",5),v(7,ol,2,1,"ng-container",6),m()(),d(8,"nav",7),v(9,cl,2,1,"ng-container",6),m()(),v(10,dl,1,0,"div",8)(11,_l,9,5,"aside",9),ee()),i&2){let e=y();l(3),E(" ",w(4,5,"MENU.MENU")," "),l(4),f("ngForOf",e.menuLinks),l(2),f("ngForOf",e.menuLinks),l(),f("ngIf",e.sidebarOpen),l(),f("ngIf",e.sidebarOpen)}}function vl(i,r){if(i&1){let e=U();d(0,"div",16),M("click",function(){N(e);let n=y(2);return L(n.closeSidebar())}),m()}}function bl(i,r){if(i&1){let e=U();d(0,"aside",17)(1,"div",3),h(2),b(3,"translate"),m(),d(4,"nav",5)(5,"a",24),M("click",function(){N(e);let n=y(2);return L(n.closeSidebar())}),h(6),b(7,"translate"),m(),d(8,"a",25),M("click",function(){N(e);let n=y(2);return L(n.closeSidebar())}),h(9),b(10,"translate"),m()()()}i&2&&(l(2),E(" ",w(3,3,"MENU.MENU")," "),l(4),E(" ",w(7,5,"MENU.LOGIN")," "),l(3),E(" ",w(10,7,"MENU.REGISTER")," "))}function Cl(i,r){if(i&1&&(d(0,"aside",2)(1,"div",3),h(2),b(3,"translate"),m(),d(4,"nav",5)(5,"a",22),h(6),b(7,"translate"),m(),d(8,"a",23),h(9),b(10,"translate"),m()()(),v(11,vl,1,0,"div",8)(12,bl,11,9,"aside",9)),i&2){let e=y();l(2),E(" ",w(3,5,"MENU.MENU")," "),l(4),E(" ",w(7,7,"MENU.LOGIN")," "),l(3),E(" ",w(10,9,"MENU.REGISTER")," "),l(2),f("ngIf",e.sidebarOpen),l(),f("ngIf",e.sidebarOpen)}}var Es=(()=>{class i{constructor(e){this.userService=e,this.sidebarOpen=!1,this.sidebarOpenChange=new Fe,this.menuLinks=[{label:"MENU.HOME",route:"home"},{label:"MENU.PROFILE",route:"profile"},{label:"MENU.MY_COMPANY",route:"company",roles:[W.COMPANY_ADMIN,W.COMPANY_USER]},{label:"MENU.ADMIN.ADMIN",roles:[W.ADMIN,W.COMPANY_ADMIN],children:[{label:"MENU.ADMIN.USERS",route:"admin/users",roles:[W.ADMIN,W.COMPANY_ADMIN]},{label:"MENU.ADMIN.COMPANIES",route:"admin/companies",roles:[W.ADMIN]}]}]}closeSidebar(){this.sidebarOpen=!1,this.sidebarOpenChange.emit(this.sidebarOpen)}canShow(e){if(!e.roles)return!0;let t=this.userService.getCurrentUser();return!!t&&e.roles.includes(t.role)}get userLinks(){return this.menuLinks.filter(e=>!e.children)}get adminLinks(){return this.menuLinks.filter(e=>e.children&&this.canShow(e))}static{this.\u0275fac=function(t){return new(t||i)(p(Oe))}}static{this.\u0275cmp=x({type:i,selectors:[["app-sidebar"]],inputs:{sidebarOpen:"sidebarOpen"},outputs:{sidebarOpenChange:"sidebarOpenChange"},standalone:!0,features:[T],decls:3,vars:2,consts:[["loggedOutLinks",""],[4,"ngIf","ngIfElse"],[1,"w-64","bg-white","shadow-md","hidden","md:flex","flex-col","h-screen"],[1,"p-4","text-xl","font-bold","border-b"],[1,"flex-1"],[1,"p-4","space-y-2"],[4,"ngFor","ngForOf"],[1,"p-4","space-y-2","border-t"],["class","fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",3,"click",4,"ngIf"],["class","fixed inset-y-0 left-0 w-64 bg-white shadow-md z-50 md:hidden flex flex-col h-full",4,"ngIf"],[4,"ngIf"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"routerLink"],[1,"px-3","py-2","font-semibold","text-gray-700"],[1,"ml-4","space-y-1"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"routerLink"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40","md:hidden",3,"click"],[1,"fixed","inset-y-0","left-0","w-64","bg-white","shadow-md","z-50","md:hidden","flex","flex-col","h-full"],[1,"flex-1","overflow-auto"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click","routerLink"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink","click",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"click","routerLink"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"]],template:function(t,n){if(t&1&&v(0,yl,12,7,"ng-container",1)(1,Cl,13,11,"ng-template",null,0,rn),t&2){let o=Jt(2);f("ngIf",n.userService.getCurrentUser())("ngIfElse",o)}},dependencies:[Y,Ke,G,ti,_e,ue,Ae,Ho],styles:['@charset "UTF-8";aside[_ngcontent-%COMP%]{background-color:#fff}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:background-color .2s;display:block;border-radius:.375rem;padding:.5rem .75rem}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}']})}}return i})();var Ds=(()=>{class i{constructor(e,t,n){this.translate=e,this.authService=t,this.router=n,this.selectedLang="es",this.selectedLangChange=new Fe,this.toggleSidebar=new Fe}switchLanguage(e){this.selectedLang=e,this.selectedLangChange.emit(e),this.translate.use(e)}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(t){return new(t||i)(p(Dt),p(Se),p(ye))}}static{this.\u0275cmp=x({type:i,selectors:[["app-header"]],inputs:{selectedLang:"selectedLang"},outputs:{selectedLangChange:"selectedLangChange",toggleSidebar:"toggleSidebar"},standalone:!0,features:[T],decls:18,vars:10,consts:[[1,"flex","items-center","justify-between","bg-gradient-to-r","from-teal-500","to-green-500","text-white","p-4","shadow-md"],[1,"md:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","gap-2"],["src","assets/logo-white.png","alt","Forest+ Logo",1,"logo"],[1,"font-bold"],[1,"flex","items-center","space-x-4"],[1,"bg-red-600","hover:bg-red-700","px-3","py-1","rounded","text-white","font-semibold",3,"click"],[1,"language-switcher"],[3,"click"]],template:function(t,n){t&1&&(d(0,"header",0)(1,"button",1),M("click",function(){return n.onToggleSidebar()}),st(),d(2,"svg",2),R(3,"path",3),m()(),Kt(),d(4,"div",4),R(5,"img",5),d(6,"span",6),h(7),b(8,"translate"),m()(),d(9,"div",7)(10,"button",8),M("click",function(){return n.logout()}),h(11),b(12,"translate"),m(),d(13,"div",9)(14,"button",10),M("click",function(){return n.switchLanguage("es")}),h(15,"ES"),m(),d(16,"button",10),M("click",function(){return n.switchLanguage("en")}),h(17,"EN"),m()()()()),t&2&&(l(7),P(w(8,6,"DASHBOARD.DASHBOARD")),l(4),E(" ",w(12,8,"DASHBOARD.LOGOUT")," "),l(3),me("active",n.selectedLang==="es"),l(2),me("active",n.selectedLang==="en"))},dependencies:[Y,Ke],styles:[".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;font-weight:700}.logo[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}"]})}}return i})();var xs=(()=>{class i{constructor(){this.sidebarOpen=!1,this.selectedLang="es"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[T],decls:6,vars:2,consts:[[1,"flex","min-h-screen","bg-gray-100"],[3,"sidebarOpenChange","sidebarOpen"],[1,"flex-1","flex","flex-col"],[3,"selectedLangChange","toggleSidebar","selectedLang"],[1,"p-6","flex-1","overflow-auto"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"app-sidebar",1),yr("sidebarOpenChange",function(s){return _r(n.sidebarOpen,s)||(n.sidebarOpen=s),s}),m(),d(2,"div",2)(3,"app-header",3),yr("selectedLangChange",function(s){return _r(n.selectedLang,s)||(n.selectedLang=s),s}),M("toggleSidebar",function(){return n.sidebarOpen=!n.sidebarOpen}),m(),d(4,"main",4),R(5,"router-outlet"),m()()()),t&2&&(l(),gr("sidebarOpen",n.sidebarOpen),l(2),gr("selectedLang",n.selectedLang))},dependencies:[G,ue,ii,Y,Es,Ds],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:220px}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.dashboard-card[_ngcontent-%COMP%]{text-align:center}.language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;font-weight:700}"]})}}return i})();function wl(i,r){if(i&1&&(d(0,"span"),h(1),m()),i&2){let e=y();l(),E(", ",e.userName,"")}}function Sl(i,r){if(i&1&&(d(0,"p",4),h(1),m()),i&2){let e=r.$implicit;l(),E(" ",e," ")}}var Ts=(()=>{class i{constructor(e){this.userService=e,this.userName=""}ngOnInit(){this.userService.getUser().subscribe(e=>{this.userName=e?.name||""})}static{this.\u0275fac=function(t){return new(t||i)(p(Oe))}}static{this.\u0275cmp=x({type:i,selectors:[["app-home"]],standalone:!0,features:[T],decls:7,vars:7,consts:[[1,"home-presentation","p-8","max-w-5xl","mx-auto","text-center","space-y-6"],[1,"text-4xl","font-extrabold","text-green-800"],[4,"ngIf"],["class","text-lg text-gray-700 leading-relaxed",4,"ngFor","ngForOf"],[1,"text-lg","text-gray-700","leading-relaxed"]],template:function(t,n){t&1&&(d(0,"section",0)(1,"h1",1),h(2),b(3,"translate"),v(4,wl,2,1,"span",2),m(),v(5,Sl,2,1,"p",3),b(6,"translate"),m()),t&2&&(l(2),P(w(3,3,"HOME.TITLE")),l(2),f("ngIf",n.userName),l(),f("ngForOf",w(6,5,"HOME.LINES")))},dependencies:[G,ti,_e,Y,Ke]})}}return i})();function El(i,r){if(i&1&&(d(0,"p",10),h(1),m()),i&2){let e=y(2);l(),E(" Empresa: ",e.user.company==null?null:e.user.company.name," ")}}function Dl(i,r){if(i&1){let e=U();d(0,"div",1)(1,"mat-card",2)(2,"div",3),R(3,"img",4),d(4,"h2",5),h(5),m(),d(6,"p",6),h(7),m(),v(8,El,2,1,"p",7),d(9,"div",8)(10,"button",9),M("click",function(){N(e);let n=y();return L(n.goToEdit())}),h(11," Editar "),m()()()()()}if(i&2){let e=y();l(3),f("src",e.user.picture||"assets/logo-white.png",tn),l(2),ko(" ",e.user.name," ",e.user.surname," ",e.user.secondSurname," "),l(2),P(e.user.email),l(),f("ngIf",e.user.role==="COMPANY_ADMIN"||e.user.role==="COMPANY_USER")}}var Is=(()=>{class i{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){this.authService.user$.subscribe(e=>{this.user=e??void 0})}goToEdit(){console.log("this.user?.id",this.user?.id),this.user?.id&&this.router.navigate([`/admin/user-form/${this.user.id}`])}static{this.\u0275fac=function(t){return new(t||i)(p(Se),p(ye))}}static{this.\u0275cmp=x({type:i,selectors:[["app-profile"]],inputs:{user:"user"},standalone:!0,features:[T],decls:1,vars:1,consts:[["class","max-w-sm mx-auto",4,"ngIf"],[1,"max-w-sm","mx-auto"],[1,"rounded-2xl","shadow-md","p-4"],[1,"flex","flex-col","items-center","text-center"],["alt","Avatar",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","text-gray-500 font-medium mt-1",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"text-gray-500","font-medium","mt-1"]],template:function(t,n){t&1&&v(0,Dl,12,6,"div",0),t&2&&f("ngIf",n.user)},dependencies:[G,_e,Y,Xe,lt,Ee,ct,dt]})}}return i})();var Rs=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-settings"]],standalone:!0,features:[T],decls:2,vars:0,template:function(t,n){t&1&&(d(0,"p"),h(1,"settings works!"),m())}})}}return i})();var xl=()=>["../login"],Tl=()=>({length:6});function Il(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(w(2,1,"REGISTER.NAME_REQUIRED")))}function Rl(i,r){if(i&1&&(d(0,"div",23),v(1,Il,3,3,"div",24),m()),i&2){let e,t=y(2);l(),f("ngIf",(e=t.registerForm.get("name"))==null?null:e.hasError("required"))}}function Ml(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(w(2,1,"REGISTER.SURNAME_REQUIRED")))}function kl(i,r){if(i&1&&(d(0,"div",23),v(1,Ml,3,3,"div",24),m()),i&2){let e,t=y(2);l(),f("ngIf",(e=t.registerForm.get("surname"))==null?null:e.hasError("required"))}}function Al(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(w(2,1,"REGISTER.EMAIL_REQUIRED")))}function Ol(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(w(2,1,"REGISTER.EMAIL_INVALID")))}function Pl(i,r){if(i&1&&(d(0,"div",23),v(1,Al,3,3,"div",24)(2,Ol,3,3,"div",24),m()),i&2){let e,t,n=y(2);l(),f("ngIf",(e=n.registerForm.get("email"))==null?null:e.hasError("required")),l(),f("ngIf",(t=n.registerForm.get("email"))==null?null:t.hasError("email"))}}function Fl(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(w(2,1,"REGISTER.PASSWORD_REQUIRED")))}function Nl(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),P(Nt(2,1,"REGISTER.PASSWORD_MINLENGTH",ke(4,Tl))))}function Ll(i,r){if(i&1&&(d(0,"div",23),v(1,Fl,3,3,"div",24)(2,Nl,3,5,"div",24),m()),i&2){let e,t,n=y(2);l(),f("ngIf",(e=n.registerForm.get("password"))==null?null:e.hasError("required")),l(),f("ngIf",(t=n.registerForm.get("password"))==null?null:t.hasError("minlength"))}}function Bl(i,r){if(i&1){let e=U();d(0,"form",10),M("ngSubmit",function(){N(e);let n=y();return L(n.onSubmit())}),d(1,"div",11)(2,"label",12),h(3),b(4,"translate"),m(),R(5,"input",13),b(6,"translate"),v(7,Rl,2,1,"div",14),m(),d(8,"div")(9,"label",12),h(10),b(11,"translate"),m(),R(12,"input",15),b(13,"translate"),v(14,kl,2,1,"div",14),m(),d(15,"div")(16,"label",12),h(17),b(18,"translate"),m(),R(19,"input",16),b(20,"translate"),m(),d(21,"div",11)(22,"label",12),h(23),b(24,"translate"),m(),R(25,"input",17),b(26,"translate"),v(27,Pl,3,2,"div",14),m(),d(28,"div",18)(29,"label",12),h(30),b(31,"translate"),m(),R(32,"input",19),b(33,"translate"),d(34,"button",20),M("click",function(){N(e);let n=y();return L(n.hidePassword=!n.hidePassword)}),h(35),m(),v(36,Ll,3,2,"div",14),m(),d(37,"div",21)(38,"button",22),h(39),b(40,"translate"),m()()()}if(i&2){let e,t,n,o,s=y();f("formGroup",s.registerForm),l(3),P(w(4,19,"REGISTER.NAME")),l(2),ht("placeholder",w(6,21,"REGISTER.NAME_PLACEHOLDER")),l(2),f("ngIf",((e=s.registerForm.get("name"))==null?null:e.invalid)&&((e=s.registerForm.get("name"))==null?null:e.touched)),l(3),P(w(11,23,"REGISTER.SURNAME")),l(2),ht("placeholder",w(13,25,"REGISTER.SURNAME_PLACEHOLDER")),l(2),f("ngIf",((t=s.registerForm.get("surname"))==null?null:t.invalid)&&((t=s.registerForm.get("surname"))==null?null:t.touched)),l(3),P(w(18,27,"REGISTER.SECOND_SURNAME")),l(2),ht("placeholder",w(20,29,"REGISTER.SECOND_SURNAME_PLACEHOLDER")),l(4),P(w(24,31,"REGISTER.EMAIL")),l(2),ht("placeholder",w(26,33,"REGISTER.EMAIL_PLACEHOLDER")),l(2),f("ngIf",((n=s.registerForm.get("email"))==null?null:n.invalid)&&((n=s.registerForm.get("email"))==null?null:n.touched)),l(3),P(w(31,35,"REGISTER.PASSWORD")),l(2),ht("placeholder",w(33,37,"REGISTER.PASSWORD_PLACEHOLDER")),f("type",s.hidePassword?"password":"text"),l(3),E(" ",s.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),l(),f("ngIf",((o=s.registerForm.get("password"))==null?null:o.invalid)&&((o=s.registerForm.get("password"))==null?null:o.touched)),l(2),f("disabled",s.registerForm.invalid),l(),E(" ",w(40,39,"REGISTER.BUTTON")," ")}}function jl(i,r){i&1&&(d(0,"div",25),h(1),b(2,"translate"),m()),i&2&&(l(),E(" ",w(2,1,"REGISTER.SUCCESS")," "))}function zl(i,r){if(i&1&&(d(0,"div",26),h(1),m()),i&2){let e=y();l(),E(" ",e.registerError," ")}}var ks=(()=>{class i{constructor(e,t){this.fb=e,this.authService=t,this.hidePassword=!0,this.registerError="",this.registerSuccess=!1,this.roles=Ko,this.registerForm=this.fb.group({name:["",be.required],surname:[""],secondSurname:[""],email:["",[be.required,be.email]],password:["",[be.required,be.minLength(6)]],role:[W.USER]})}onSubmit(){this.registerForm.invalid||(this.registerError="",this.registerSuccess=!1,this.authService.register(this.registerForm.value).subscribe({next:()=>{this.registerSuccess=!0,this.registerForm.reset()},error:e=>this.registerError=e.error?.message||"Error al registrarse"}))}static{this.\u0275fac=function(t){return new(t||i)(p(pi),p(Se))}}static{this.\u0275cmp=x({type:i,selectors:[["app-register"]],standalone:!0,features:[T],decls:16,vars:14,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-gray-700","mb-1"],["type","text","formControlName","name",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text","formControlName","surname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","text","formControlName","secondSurname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],[1,"md:col-span-2","relative"],["formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"md:col-span-2","mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"text-center","text-red-500","mt-4"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),R(2,"img",2),m(),d(3,"div",3)(4,"h1",4),h(5),b(6,"translate"),m(),v(7,Bl,41,41,"form",5)(8,jl,3,3,"div",6)(9,zl,2,1,"div",7),d(10,"p",8),h(11),b(12,"translate"),d(13,"a",9),h(14),b(15,"translate"),m()()()()),t&2&&(l(5),E(" ",w(6,7,"REGISTER.TITLE")," "),l(2),f("ngIf",!n.registerSuccess),l(),f("ngIf",n.registerSuccess),l(),f("ngIf",n.registerError),l(2),E(" ",w(12,9,"REGISTER.ALREADY_ACCOUNT")," "),l(2),f("routerLink",ke(13,xl)),l(),E(" ",w(15,11,"REGISTER.LOGIN")," "))},dependencies:[G,_e,Y,Ke,ue,Ae,hi,di,ai,li,ci,mi,ui,Xe,ns,rs,Ee,dt,gn]})}}return i})();var Vl=()=>["../register"],Hl=()=>({length:6});function Ul(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),E(" ",w(2,1,"LOGIN.EMAIL_REQUIRED")," "))}function Gl(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),E(" ",w(2,1,"LOGIN.EMAIL_INVALID")," "))}function $l(i,r){if(i&1&&(d(0,"div",18),v(1,Ul,3,3,"div",19)(2,Gl,3,3,"div",19),m()),i&2){let e,t,n=y(2);l(),f("ngIf",(e=(n.forgotMode?n.forgotForm:n.loginForm).get("email"))==null?null:e.hasError("required")),l(),f("ngIf",(t=(n.forgotMode?n.forgotForm:n.loginForm).get("email"))==null?null:t.hasError("email"))}}function ql(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),E(" ",w(2,1,"LOGIN.PASSWORD_REQUIRED")," "))}function Ql(i,r){i&1&&(d(0,"div"),h(1),b(2,"translate"),m()),i&2&&(l(),E(" ",Nt(2,1,"LOGIN.PASSWORD_MINLENGTH",ke(4,Hl))," "))}function Yl(i,r){if(i&1&&(d(0,"div",18),v(1,ql,3,3,"div",19)(2,Ql,3,5,"div",19),m()),i&2){let e,t,n=y(3);l(),f("ngIf",(e=n.loginForm.get("password"))==null?null:e.hasError("required")),l(),f("ngIf",(t=n.loginForm.get("password"))==null?null:t.hasError("minlength"))}}function Wl(i,r){if(i&1){let e=U();d(0,"div",20)(1,"label",21),h(2),b(3,"translate"),m(),R(4,"input",22),b(5,"translate"),d(6,"button",23),M("click",function(){N(e);let n=y(2);return L(n.hidePassword=!n.hidePassword)}),h(7),m(),v(8,Yl,3,2,"div",15),m()}if(i&2){let e,t=y(2);l(2),P(w(3,5,"LOGIN.PASSWORD")),l(2),ht("placeholder",w(5,7,"LOGIN.PASSWORD_PLACEHOLDER")),f("type",t.hidePassword?"password":"text"),l(3),E(" ",t.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),l(),f("ngIf",((e=t.loginForm.get("password"))==null?null:e.invalid)&&((e=t.loginForm.get("password"))==null?null:e.touched))}}function Kl(i,r){if(i&1){let e=U();d(0,"form",11),M("ngSubmit",function(){N(e);let n=y();return L(n.forgotMode?n.onForgotSubmit():n.onSubmit())}),d(1,"div",12)(2,"label",13),h(3),b(4,"translate"),m(),R(5,"input",14),b(6,"translate"),v(7,$l,3,2,"div",15),m(),v(8,Wl,9,9,"div",16),d(9,"button",17),h(10),b(11,"translate"),b(12,"translate"),m()()}if(i&2){let e,t=y();f("formGroup",t.forgotMode?t.forgotForm:t.loginForm),l(3),P(w(4,7,"LOGIN.EMAIL")),l(2),ht("placeholder",w(6,9,"LOGIN.EMAIL_PLACEHOLDER")),l(2),f("ngIf",((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.invalid)&&((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.touched)),l(),f("ngIf",!t.forgotMode),l(),f("disabled",(t.forgotMode?t.forgotForm:t.loginForm).invalid),l(),E(" ",t.forgotMode?w(11,11,"LOGIN.SEND_NEW_PASSWORD"):w(12,13,"LOGIN.BUTTON")," ")}}function Xl(i,r){if(i&1){let e=U();d(0,"div",24),h(1),b(2,"translate"),d(3,"div",25)(4,"button",26),M("click",function(){N(e);let n=y();return L(n.toggleForgotMode())}),h(5),b(6,"translate"),m()()()}i&2&&(l(),E(" ",w(2,2,"LOGIN.FORGOT_PASSWORD_SUCCESS")," "),l(4),E(" ",w(6,4,"LOGIN.GO_TO_LOGIN")," "))}function Zl(i,r){if(i&1){let e=U();d(0,"button",29),M("click",function(){N(e);let n=y(2);return L(n.resendVerificationEmail())}),h(1),b(2,"translate"),m()}i&2&&(l(),E(" ",w(2,1,"LOGIN.RESEND_EMAIL")," "))}function Jl(i,r){if(i&1&&(d(0,"div",27),h(1),v(2,Zl,3,3,"button",28),m()),i&2){let e=y();l(),E(" ",e.loginError," "),l(),f("ngIf",e.showResendButton)}}function ec(i,r){if(i&1){let e=U();d(0,"div",30)(1,"button",31),M("click",function(){N(e);let n=y();return L(n.toggleForgotMode())}),h(2),b(3,"translate"),m()()}i&2&&(l(2),E(" ",w(3,1,"LOGIN.FORGOT_PASSWORD")," "))}var As=(()=>{class i{constructor(e,t,n,o,s){this.fb=e,this.router=t,this.translate=n,this.authService=o,this.userService=s,this.hidePassword=!0,this.loginError=null,this.showResendButton=!1,this.unverifiedEmail=null,this.success=!1,this.forgotMode=!1,this.loginForm=this.fb.group({email:["",[be.required,be.email]],password:["",[be.required,be.minLength(6)]]}),this.forgotForm=this.fb.group({email:["",[be.required,be.email]]}),this.loginForm.valueChanges.subscribe(()=>this.loginError=null)}toggleForgotMode(){this.forgotMode=!this.forgotMode,this.success=!1,this.loginError=null}onSubmit(){if(this.forgotMode){this.onForgotSubmit();return}if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.authService.login({email:e,password:t}).subscribe({next:n=>{n&&(n.forcePasswordChange?this.router.navigate(["/reset-password"],{queryParams:{email:n.email}}):this.router.navigateByUrl("/"))},error:n=>this.handleLoginError(n)})}}handleLoginError(e){console.error(e);let t=e.error?.message||"LOGIN.GENERIC_ERROR";t==="EMAIL_NOT_VERIFIED"?(this.loginError=this.translate.instant("LOGIN.EMAIL_NOT_VERIFIED"),this.showResendButton=!0,this.unverifiedEmail=this.loginForm.value.email):this.translate.get(t).subscribe(n=>{this.loginError=n,this.showResendButton=!1})}resendVerificationEmail(){this.unverifiedEmail&&this.authService.resendVerification(this.unverifiedEmail).subscribe({next:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_SENT"),this.showResendButton=!1},error:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_FAILED")}})}onForgotSubmit(){if(this.forgotForm.invalid)return;let e=this.forgotForm.value.email;this.authService.forgotPassword(e).pipe(Xi(()=>{})).subscribe({next:()=>{this.success=!0},error:t=>{alert(t?.error?.message||"Error enviando correo de restablecimiento")}})}static{this.\u0275fac=function(t){return new(t||i)(p(pi),p(ye),p(Dt),p(Se),p(Oe))}}static{this.\u0275cmp=x({type:i,selectors:[["app-login"]],standalone:!0,features:[T],decls:18,vars:17,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mb-6 relative",4,"ngIf"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"mb-6","relative"],["for","password",1,"block","text-gray-700","mb-1"],["id","password","formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],[1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],[1,"text-center","text-red-500","mt-4"],["class","ml-2 bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",3,"click",4,"ngIf"],[1,"ml-2","bg-blue-600","text-white","px-2","py-1","rounded","hover:bg-blue-700",3,"click"],[1,"text-center","mt-4"],["type","button",1,"text-blue-500","font-semibold","hover:underline",3,"click"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),R(2,"img",2),m(),d(3,"div",3)(4,"h1",4),h(5),b(6,"translate"),b(7,"translate"),m(),v(8,Kl,13,15,"form",5)(9,Xl,7,6,"div",6)(10,Jl,3,2,"div",7)(11,ec,4,3,"div",8),d(12,"p",9),h(13),b(14,"translate"),d(15,"a",10),h(16),b(17,"translate"),m()()()()),t&2&&(l(5),E(" ",n.forgotMode?w(6,8,"LOGIN.FORGOT_PASSWORD_TITLE"):w(7,10,"LOGIN.TITLE")," "),l(3),f("ngIf",!n.success),l(),f("ngIf",n.success),l(),f("ngIf",!n.forgotMode&&n.loginError),l(),f("ngIf",!n.forgotMode&&!n.success),l(2),E(" ",w(14,12,"LOGIN.NO_ACCOUNT")," "),l(2),f("routerLink",ke(16,Vl)),l(),E(" ",w(17,14,"LOGIN.REGISTER")," "))},dependencies:[G,_e,hi,di,ai,li,ci,mi,ui,Y,Ke,ue,Ae],styles:[".minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{background-color:transparent!important;padding-top:.5rem!important;padding-bottom:.5rem!important}.minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-start[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-end[_ngcontent-%COMP%]{border-color:#cbd5e1!important;border-width:1px!important}"]})}}return i})();var Sn=(()=>{class i{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.user$.pipe(Wt(1),Yt(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(t){return new(t||i)(q(Se),q(ye))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function tc(i,r){i&1&&(d(0,"div",7),h(1),b(2,"translate"),d(3,"div",8)(4,"a",9),h(5),b(6,"translate"),m()()()),i&2&&(l(),E(" ",w(2,2,"VERIFY_EMAIL.SUCCESS")," "),l(4),E(" ",w(6,4,"VERIFY_EMAIL.GO_TO_LOGIN")," "))}function ic(i,r){if(i&1&&(d(0,"div",10),h(1),b(2,"translate"),m()),i&2){let e=y();l(),E(" ",e.errorMessage||w(2,1,"VERIFY_EMAIL.ERROR")," ")}}var Os=(()=>{class i{constructor(e,t,n){this.route=e,this.authService=t,this.translate=n,this.loading=!0,this.success=!1,this.errorMessage=null}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.uuid;console.log("uuid:",t),t?this.authService.verifyEmail(t).subscribe({next:()=>{this.success=!0,this.loading=!1},error:n=>{console.error(n),this.success=!1,this.loading=!1;let o=n?.error?.message||"VERIFY_EMAIL.ERROR";this.translate.get(o).subscribe(s=>this.errorMessage=s)}}):(this.loading=!1,this.success=!1,this.translate.get("VERIFY_EMAIL.INVALID_LINK").subscribe(n=>{this.errorMessage=n}))})}static{this.\u0275fac=function(t){return new(t||i)(p(sn),p(Se),p(Dt))}}static{this.\u0275cmp=x({type:i,selectors:[["app-email-verify"]],standalone:!0,features:[T],decls:9,vars:5,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-600 font-semibold mt-4",4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],["routerLink","/login",1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg"],[1,"text-center","text-red-600","font-semibold","mt-4"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),R(2,"img",2),m(),d(3,"mat-card",3)(4,"h1",4),h(5),b(6,"translate"),m(),v(7,tc,7,6,"div",5)(8,ic,3,3,"div",6),m()()),t&2&&(l(5),E(" ",w(6,3,"VERIFY_EMAIL.TITLE")," "),l(2),f("ngIf",!n.loading&&n.success),l(),f("ngIf",!n.loading&&!n.success))},dependencies:[G,_e,Y,Ke,Xe,lt,ue,Ae,It]})}}return i})();var nc=()=>["../login"];function rc(i,r){i&1&&(d(0,"div"),h(1,"La nueva contrase\xF1a es requerida"),m())}function oc(i,r){i&1&&(d(0,"div"),h(1,"La contrase\xF1a debe tener al menos 6 caracteres"),m())}function sc(i,r){if(i&1&&(d(0,"div",18),v(1,rc,2,0,"div",19)(2,oc,2,0,"div",19),m()),i&2){let e,t,n=y();l(),f("ngIf",(e=n.resetForm.get("newPassword"))==null?null:e.hasError("required")),l(),f("ngIf",(t=n.resetForm.get("newPassword"))==null?null:t.hasError("minlength"))}}function ac(i,r){i&1&&(d(0,"div"),h(1,"Confirma la nueva contrase\xF1a"),m())}function lc(i,r){if(i&1&&(d(0,"div",18),v(1,ac,2,0,"div",19),m()),i&2){let e,t=y();l(),f("ngIf",(e=t.resetForm.get("confirmPassword"))==null?null:e.hasError("required"))}}function cc(i,r){if(i&1&&(d(0,"div",20),h(1),m()),i&2){let e=y();l(),P(e.errorMessage)}}function dc(i,r){if(i&1&&(d(0,"div",21),h(1),m()),i&2){let e=y();l(),P(e.successMessage)}}var Ps=(()=>{class i{constructor(e,t,n,o){this.fb=e,this.authService=t,this.router=n,this.route=o,this.errorMessage="",this.successMessage="",this.token=null,this.resetForm=this.fb.group({newPassword:["",[be.required,be.minLength(6)]],confirmPassword:["",be.required]}),this.token=this.route.snapshot.queryParamMap.get("token")||localStorage.getItem("forestPlus_token")}onSubmit(){if(this.resetForm.invalid)return;let{newPassword:e,confirmPassword:t}=this.resetForm.value;if(e!==t){this.errorMessage="Las contrase\xF1as no coinciden";return}if(!this.token){this.errorMessage="Token inv\xE1lido o expirado";return}let n={newPassword:e};this.authService.resetPassword(n,this.isUUID(this.token)?this.token:void 0).subscribe({next:()=>{this.successMessage="Contrase\xF1a cambiada correctamente",setTimeout(()=>this.router.navigate(["/"]),2e3)},error:s=>{this.errorMessage=s.error?.message||"Error al cambiar la contrase\xF1a"}})}isUUID(e){return e.length===36&&e.includes("-")}static{this.\u0275fac=function(t){return new(t||i)(p(pi),p(Se),p(ye),p(sn))}}static{this.\u0275cmp=x({type:i,selectors:[["app-reset-password"]],standalone:!0,features:[T],decls:25,vars:8,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","newPassword",1,"block","text-gray-700","mb-1"],["id","newPassword","type","password","formControlName","newPassword","placeholder","Ingresa tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-6"],["for","confirmPassword",1,"block","text-gray-700","mb-1"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center text-green-600 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-red-500","mt-4"],[1,"text-center","text-green-600","mt-4"]],template:function(t,n){if(t&1&&(d(0,"div",0)(1,"div",1),R(2,"img",2),m(),d(3,"div",3)(4,"h1",4),h(5," Cambiar contrase\xF1a "),m(),d(6,"form",5),M("ngSubmit",function(){return n.onSubmit()}),d(7,"div",6)(8,"label",7),h(9,"Nueva contrase\xF1a"),m(),R(10,"input",8),v(11,sc,3,2,"div",9),m(),d(12,"div",10)(13,"label",11),h(14,"Confirmar nueva contrase\xF1a"),m(),R(15,"input",12),v(16,lc,2,1,"div",9),m(),d(17,"button",13),h(18," Cambiar contrase\xF1a "),m()(),v(19,cc,2,1,"div",14)(20,dc,2,1,"div",15),d(21,"p",16),h(22," \xBFRecordaste tu contrase\xF1a? "),d(23,"a",17),h(24," Inicia sesi\xF3n "),m()()()()),t&2){let o,s;l(6),f("formGroup",n.resetForm),l(5),f("ngIf",((o=n.resetForm.get("newPassword"))==null?null:o.invalid)&&((o=n.resetForm.get("newPassword"))==null?null:o.touched)),l(5),f("ngIf",((s=n.resetForm.get("confirmPassword"))==null?null:s.invalid)&&((s=n.resetForm.get("confirmPassword"))==null?null:s.touched)),l(),f("disabled",n.resetForm.invalid),l(2),f("ngIf",n.errorMessage),l(),f("ngIf",n.successMessage),l(3),f("routerLink",ke(7,nc))}},dependencies:[G,_e,hi,di,ai,li,ci,mi,ui,Y,ue,Ae]})}}return i})();var Ci=(()=>{class i{constructor(e,t){this.userService=e,this.router=t}canActivate(e){let t=e.data.roles,n=this.userService.getCurrentUser();return n?n.role&&t.includes(n.role)?!0:(this.router.navigate(["/dashboard"]),!1):(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(t){return new(t||i)(q(Oe),q(ye))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mc=["*",[["mat-toolbar-row"]]],uc=["*","mat-toolbar-row"],pc=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=F({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return i})(),Ns=(()=>{class i{constructor(e,t,n){this._elementRef=e,this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||i)(p(Q),p(xt),p(We))}}static{this.\u0275cmp=x({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,o){if(t&1&&et(o,pc,5),t&2){let s;te(s=ie())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,n){t&2&&(nn(n.color?"mat-"+n.color:""),me("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[T],ngContentSelectors:uc,decls:2,vars:0,template:function(t,n){t&1&&(Et(mc),Le(0),Le(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return i})();var Ls=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({imports:[we,we]})}}return i})();var js=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-admin-page"]],standalone:!0,features:[T],decls:7,vars:0,consts:[["color","primary",1,"flex","items-center","justify-between","px-6","py-4","bg-white","shadow-md"],[1,"flex","items-center","space-x-3"],[1,"text-gray-800"],[1,"text-2xl","font-bold","text-gray-800"]],template:function(t,n){t&1&&(d(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),h(3,"admin_panel_settings"),m(),d(4,"h1",3),h(5,"Administraci\xF3n"),m()()(),R(6,"router-outlet"))},dependencies:[ue,ii,Ls,Ns,dt,si,Ee]})}}return i})();var yc=[[["caption"]],[["colgroup"],["col"]],"*"],vc=["caption","colgroup, col","*"];function bc(i,r){i&1&&Le(0,2)}function Cc(i,r){i&1&&(d(0,"thead",0),fe(1,1),m(),d(2,"tbody",0),fe(3,2)(4,3),m(),d(5,"tfoot",0),fe(6,4),m())}function wc(i,r){i&1&&fe(0,1)(1,2)(2,3)(3,4)}var it=new oe("CDK_TABLE");var Rn=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(p(Je))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkCellDef",""]],standalone:!0})}}return i})(),Mn=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(p(Je))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return i})(),Hs=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(p(Je))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return i})(),wi=(()=>{class i{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(t){return new(t||i)(p(it,8))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,n,o){if(t&1&&(et(o,Rn,5),et(o,Mn,5),et(o,Hs,5)),t&2){let s;te(s=ie())&&(n.cell=s.first),te(s=ie())&&(n.headerCell=s.first),te(s=ie())&&(n.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ge],stickyEnd:[2,"stickyEnd","stickyEnd",ge]},standalone:!0,features:[Qe([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Re]})}}return i})(),Dn=class{constructor(r,e){e.nativeElement.classList.add(...r._columnCssClassName)}},Us=(()=>{class i extends Dn{constructor(e,t){super(e,t)}static{this.\u0275fac=function(t){return new(t||i)(p(wi),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Z]})}}return i})();var Gs=(()=>{class i extends Dn{constructor(e,t){super(e,t);let n=e._table?._getCellRole();n&&t.nativeElement.setAttribute("role",n)}static{this.\u0275fac=function(t){return new(t||i)(p(wi),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Z]})}}return i})(),xn=class{constructor(){this.tasks=[],this.endTasks=[]}},Tn=new oe("_COALESCED_STYLE_SCHEDULER"),Sr=(()=>{class i{constructor(e){this._currentSchedule=null,this._ngZone=se(Ne)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xn,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new xn;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static{this.\u0275fac=function(t){return new(t||i)(q(Ne))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac})}}return i})();var Er=(()=>{class i{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Ni?e.headerCell.template:this instanceof Dr?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(t){return new(t||i)(p(Je),p(ei))}}static{this.\u0275dir=F({type:i,features:[Ft]})}}return i})(),Ni=(()=>{class i extends Er{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||i)(p(Je),p(ei),p(it,8))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ge]},standalone:!0,features:[Re,Z,Ft]})}}return i})(),Dr=(()=>{class i extends Er{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||i)(p(Je),p(ei),p(it,8))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ge]},standalone:!0,features:[Re,Z,Ft]})}}return i})(),kn=(()=>{class i extends Er{constructor(e,t,n){super(e,t),this._table=n}static{this.\u0275fac=function(t){return new(t||i)(p(Je),p(ei),p(it,8))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Z]})}}return i})(),jt=(()=>{class i{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static{this.\u0275fac=function(t){return new(t||i)(p(St))}}static{this.\u0275dir=F({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return i})(),xr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=x({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&fe(0,0)},dependencies:[jt],encapsulation:2})}}return i})();var Tr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=x({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&fe(0,0)},dependencies:[jt],encapsulation:2})}}return i})(),$s=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(t){return new(t||i)(p(Je))}}static{this.\u0275dir=F({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return i})(),zs=["top","bottom","left","right"],wr=class{constructor(r,e,t,n,o=!0,s=!0,a){this._isNativeHtmlTable=r,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=n,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(c=>this._updateCachedSizes(c)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(r,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(r);let t=[];for(let n of r)if(n.nodeType===n.ELEMENT_NODE){t.push(n);for(let o=0;o<n.children.length;o++)t.push(n.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let n of t)this._removeStickyStyle(n,e)})}updateStickyColumns(r,e,t,n=!0,o=!0){if(o&&this._updateStickyColumnReplayQueue({rows:[...r],stickyStartStates:[...e],stickyEndStates:[...t]}),!r.length||!this._isBrowser||!(e.some(s=>s)||t.some(s=>s))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let s=r[0],a=s.children.length,c=this._getCellWidths(s,n),u=this._getStickyStartColumnPositions(c,e),_=this._getStickyEndColumnPositions(c,t),g=e.lastIndexOf(!0),C=t.indexOf(!0),D=this.direction==="rtl",I=D?"right":"left",O=D?"left":"right";for(let H of r)for(let j=0;j<a;j++){let ne=H.children[j];e[j]&&this._addStickyStyle(ne,I,u[j],j===g),t[j]&&this._addStickyStyle(ne,O,_[j],j===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:g===-1?[]:c.slice(0,g+1).map((H,j)=>e[j]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:C===-1?[]:c.slice(C).map((H,j)=>t[j+C]?H:null).reverse()}))})}stickRows(r,e,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let n=t==="bottom"?r.slice().reverse():r,o=t==="bottom"?e.slice().reverse():e,s=[],a=[],c=[];for(let _=0,g=0;_<n.length;_++){if(!o[_])continue;s[_]=g;let C=n[_];c[_]=this._isNativeHtmlTable?Array.from(C.children):[C];let D=this._retrieveElementSize(C).height;g+=D,a[_]=D}let u=o.lastIndexOf(!0);for(let _=0;_<n.length;_++){if(!o[_])continue;let g=s[_],C=_===u;for(let D of c[_])this._addStickyStyle(D,t,g,C)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(r,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=r.querySelector("tfoot");t&&(e.some(n=>!n)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(r,e){for(let n of e)r.style[n]="",r.classList.remove(this._borderCellCss[n]);zs.some(n=>e.indexOf(n)===-1&&r.style[n])?r.style.zIndex=this._getCalculatedZIndex(r):(r.style.zIndex="",this._needsPositionStickyOnElement&&(r.style.position=""),r.classList.remove(this._stickCellCss))}_addStickyStyle(r,e,t,n){r.classList.add(this._stickCellCss),n&&r.classList.add(this._borderCellCss[e]),r.style[e]=`${t}px`,r.style.zIndex=this._getCalculatedZIndex(r),this._needsPositionStickyOnElement&&(r.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(r){let e={top:100,bottom:10,left:1,right:1},t=0;for(let n of zs)r.style[n]&&(t+=e[n]);return t?`${t}`:""}_getCellWidths(r,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],n=r.children;for(let o=0;o<n.length;o++){let s=n[o];t.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(r,e){let t=[],n=0;for(let o=0;o<r.length;o++)e[o]&&(t[o]=n,n+=r[o]);return t}_getStickyEndColumnPositions(r,e){let t=[],n=0;for(let o=r.length;o>0;o--)e[o]&&(t[o]=n,n+=r[o]);return t}_retrieveElementSize(r){let e=this._elemSizeCache.get(r);if(e)return e;let t=r.getBoundingClientRect(),n={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(r,n),this._resizeObserver.observe(r,{box:"border-box"})),n}_updateStickyColumnReplayQueue(r){this._removeFromStickyColumnReplayQueue(r.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(r)}_removeFromStickyColumnReplayQueue(r){let e=new Set(r);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(n=>!e.has(n));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(r){let e=!1;for(let t of r){let n=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};n.width!==this._elemSizeCache.get(t.target)?.width&&Sc(t.target)&&(e=!0),this._elemSizeCache.set(t.target,n)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function Sc(i){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(r=>i.classList.contains(r))}var In=new oe("CDK_SPL");var Ir=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=se(it);n._rowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(p(St),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["","rowOutlet",""]],standalone:!0})}}return i})(),Rr=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=se(it);n._headerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(p(St),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return i})(),Mr=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=se(it);n._footerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(p(St),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return i})(),kr=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=se(it);n._noDataRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(p(St),p(Q))}}static{this.\u0275dir=F({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return i})();var Ar=(()=>{class i{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,n,o,s,a,c,u,_,g,C,D){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=s,this._platform=c,this._viewRepeater=u,this._coalescedStyleScheduler=_,this._viewportRuler=g,this._stickyPositioningListener=C,this._onDestroy=new re,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Fe,this.viewChange=new Ct({start:0,end:Number.MAX_VALUE}),this._injector=se(qe),o||n.nativeElement.setAttribute("role","table"),this._document=a,this._isServer=!c.isBrowser,this._isNativeHtmlTable=n.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe($e(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),pn(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(n,o,s)=>this._getEmbeddedViewArgs(n.item,s),n=>n.item.data,n=>{n.operation===ss.INSERTED&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(n=>{let o=t.get(n.currentIndex);o.context.$implicit=n.item.data}),this._updateNoDataRow(),Xt(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let n=Vs(this._headerRowOutlet,"thead");n&&(n.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let n=Vs(this._footerRowOutlet,"tfoot");n&&(n.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let a=0;a<t.length;a++)this._renderRows[a].rowDef===o&&s.push(t[a]);this._addStickyColumnStyles(s,o)}),n.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let o=this._data[n],s=this._getRenderRowsForData(o,n,t.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a],u=this._cachedRenderRowsMap.get(c.data);u.has(c.rowDef)?u.get(c.rowDef).push(c):u.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(s=>{let a=n&&n.has(s)?n.get(s):[];if(a.length){let c=a.shift();return c.dataIndex=t,c}else return{data:e,rowDef:s,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),En(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=En(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=En(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=En(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,a)=>{let c=!!a.getColumnsDiff();return s||c},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),t||n||o}_switchDataSource(e){this._data=[],pn(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;pn(this.dataSource)?e=this.dataSource.connect(this):Co(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=wt(this.dataSource)),this._renderChangeSubscription=e.pipe($e(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let n=Array.from(t.columns||[]).map(a=>{let c=this._columnDefsByName.get(a);return c}),o=n.map(a=>a.sticky),s=n.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let n=0;n<e.viewContainer.length;n++){let o=e.viewContainer.get(n);t.push(o.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(o=>!o.when||o.when(t,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(t,e))||this._defaultRowDef;o&&n.push(o)}return n.length,n}_getEmbeddedViewArgs(e,t){let n=e.rowDef,o={$implicit:e.data};return{templateRef:n.template,context:o,index:t}}_renderRow(e,t,n,o={}){let s=e.viewContainer.createEmbeddedView(t.template,o,n);return this._renderCellTemplateForItem(t,o),s}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))jt.mostRecentCellOutlet&&jt.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){let s=e.get(t).context;s.count=n,s.first=t===0,s.last=t===n-1,s.even=t%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[t].dataIndex,s.renderIndex=t):s.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,n)=>t||n.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new wr(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:wt()).pipe($e(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let n=this._noDataRowOutlet.viewContainer;if(t){let o=n.createEmbeddedView(e.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else n.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||i)(p(ei),p(Ye),p(Q),Eo("role"),p(Lt,8),p(We),p(xt),p(Ai),p(Tn),p(cs),p(In,12),p(Ne,8))}}static{this.\u0275cmp=x({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,n,o){if(t&1&&(et(o,$s,5),et(o,wi,5),et(o,kn,5),et(o,Ni,5),et(o,Dr,5)),t&2){let s;te(s=ie())&&(n._noDataRow=s.first),te(s=ie())&&(n._contentColumnDefs=s),te(s=ie())&&(n._contentRowDefs=s),te(s=ie())&&(n._contentHeaderRowDefs=s),te(s=ie())&&(n._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,n){t&2&&me("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ge],fixedLayout:[2,"fixedLayout","fixedLayout",ge]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Qe([{provide:it,useExisting:i},{provide:Ai,useClass:hn},{provide:Tn,useClass:Sr},{provide:In,useValue:null}]),Re,T],ngContentSelectors:vc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(Et(yc),Le(0),Le(1,1),v(2,bc,1,0)(3,Cc,7,0)(4,wc,4,0)),t&2&&(l(2),Me(n._isServer?2:-1),l(),Me(n._isNativeHtmlTable?3:4))},dependencies:[Rr,Ir,kr,Mr],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return i})();function En(i,r){return i.concat(Array.from(r))}function Vs(i,r){let e=r.toUpperCase(),t=i.viewContainer.element.nativeElement;for(;t;){let n=t.nodeType===1?t.nodeName:null;if(n===e)return t;if(n==="TABLE")break;t=t.parentNode}return null}var qs=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({imports:[ms]})}}return i})();var Ec=[[["caption"]],[["colgroup"],["col"]],"*"],Dc=["caption","colgroup, col","*"];function xc(i,r){i&1&&Le(0,2)}function Tc(i,r){i&1&&(d(0,"thead",0),fe(1,1),m(),d(2,"tbody",2),fe(3,3)(4,4),m(),d(5,"tfoot",0),fe(6,5),m())}function Ic(i,r){i&1&&fe(0,1)(1,3)(2,4)(3,5)}var An=(()=>{class i extends Ar{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=x({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,n){t&2&&me("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Qe([{provide:Ar,useExisting:i},{provide:it,useExisting:i},{provide:Tn,useClass:Sr},{provide:Ai,useClass:hn},{provide:In,useValue:null}]),Z,T],ngContentSelectors:Dc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(Et(Ec),Le(0),Le(1,1),v(2,xc,1,0)(3,Tc,7,0)(4,Ic,4,0)),t&2&&(l(2),Me(n._isServer?2:-1),l(),Me(n._isNativeHtmlTable?3:4))},dependencies:[Rr,Ir,kr,Mr],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return i})(),On=(()=>{class i extends Rn{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","matCellDef",""]],standalone:!0,features:[Qe([{provide:Rn,useExisting:i}]),Z]})}}return i})(),Pn=(()=>{class i extends Mn{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Qe([{provide:Mn,useExisting:i}]),Z]})}}return i})();var Fn=(()=>{class i extends wi{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Qe([{provide:wi,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Z]})}}return i})(),Nn=(()=>{class i extends Us{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Z]})}}return i})();var Ln=(()=>{class i extends Gs{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Z]})}}return i})();var Bn=(()=>{class i extends Ni{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ge]},standalone:!0,features:[Qe([{provide:Ni,useExisting:i}]),Re,Z]})}}return i})();var jn=(()=>{class i extends kn{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Qe([{provide:kn,useExisting:i}]),Z]})}}return i})(),zn=(()=>{class i extends xr{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=x({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Qe([{provide:xr,useExisting:i}]),Z,T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&fe(0,0)},dependencies:[jt],encapsulation:2})}}return i})();var Vn=(()=>{class i extends Tr{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=x({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Qe([{provide:Tr,useExisting:i}]),Z,T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&fe(0,0)},dependencies:[jt],encapsulation:2})}}return i})();var Hn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({imports:[we,qs,we]})}}return i})(),Rc=9007199254740991,Si=class extends os{get data(){return this._data.value}set data(r){r=Array.isArray(r)?r:[],this._data.next(r),this._renderChangesSubscription||this._filterData(r)}get filter(){return this._filter.value}set filter(r){this._filter.next(r),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(r){this._sort=r,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(r){this._paginator=r,this._updateChangeSubscription()}constructor(r=[]){super(),this._renderData=new Ct([]),this._filter=new Ct(""),this._internalPageChanges=new re,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{let n=e[t];if(qo(n)){let o=Number(n);return o<Rc?o:n}return n},this.sortData=(e,t)=>{let n=t.active,o=t.direction;return!n||o==""?e:e.sort((s,a)=>{let c=this.sortingDataAccessor(s,n),u=this.sortingDataAccessor(a,n),_=typeof c,g=typeof u;_!==g&&(_==="number"&&(c+=""),g==="number"&&(u+=""));let C=0;return c!=null&&u!=null?c>u?C=1:c<u&&(C=-1):c!=null?C=1:u!=null&&(C=-1),C*(o=="asc"?1:-1)})},this.filterPredicate=(e,t)=>{let n=Object.keys(e).reduce((s,a)=>s+e[a]+"\u25EC","").toLowerCase(),o=t.trim().toLowerCase();return n.indexOf(o)!=-1},this._data=new Ct(r),this._updateChangeSubscription()}_updateChangeSubscription(){let r=this._sort?Pt(this._sort.sortChange,this._sort.initialized):wt(null),e=this._paginator?Pt(this._paginator.page,this._internalPageChanges,this._paginator.initialized):wt(null),t=this._data,n=Wi([t,this._filter]).pipe(Yt(([a])=>this._filterData(a))),o=Wi([n,r]).pipe(Yt(([a])=>this._orderData(a))),s=Wi([o,e]).pipe(Yt(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(r){return this.filteredData=this.filter==null||this.filter===""?r:r.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(r){return this.sort?this.sortData(r.slice(),this.sort):r}_pageData(r){if(!this.paginator)return r;let e=this.paginator.pageIndex*this.paginator.pageSize;return r.slice(e,e+this.paginator.pageSize)}_updatePaginator(r){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=r,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Mc=["tooltip"],Xs=20;var Zs=new oe("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=se(ze);return()=>i.scrollStrategies.reposition({scrollThrottle:Xs})}});function kc(i){return()=>i.scrollStrategies.reposition({scrollThrottle:Xs})}var Ac={provide:Zs,deps:[ze],useFactory:kc};function Oc(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Pc=new oe("mat-tooltip-default-options",{providedIn:"root",factory:Oc});var Ys="tooltip-panel",Ws=$o({passive:!0}),Fc=8,Nc=8,Lc=24,Bc=200,Js=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=vr(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=vr(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ri(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ri(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,n,o,s,a,c,u,_,g,C,D){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=u,this._dir=g,this._defaultOptions=C,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=jc,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new re,this._injector=se(qe),this._scrollStrategy=_,this._document=D,C&&(this._showDelay=C.showDelay,this._hideDelay=C.hideDelay,C.position&&(this.position=C.position),C.positionAtOrigin&&(this.positionAtOrigin=C.positionAtOrigin),C.touchGestures&&(this.touchGestures=C.touchGestures),C.tooltipClass&&(this.tooltipClass=C.tooltipClass)),g.change.pipe($e(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Fc}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($e(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,Ws)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(t);this._detach(),this._portal=this._portal||new Oi(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Q)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return n.positionChanges.pipe($e(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${Ys}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($e(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($e(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!ni(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,n=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(ae(ae({},n.main),o.main)),this._addOffset(ae(ae({},n.fallback),o.fallback))])}_addOffset(e){let t=Nc,n=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=n?-t:t:e.originX==="end"&&(e.offsetX=n?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"||t=="below"?n={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"?n={overlayX:"center",overlayY:"bottom"}:t=="below"?n={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Xt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:n,originY:o}=e,s;if(t==="center"?this._dir&&this._dir.value==="rtl"?s=n==="end"?"left":"right":s=n==="start"?"left":"right":s=t==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${Ys}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],n=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,n)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let n=t.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,n])=>{this._elementRef.nativeElement.addEventListener(t,n,Ws)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,n=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(e==="on"||!t.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(t){return new(t||i)(p(ze),p(Q),p(as),p(St),p(Ne),p(xt),p(ln),p(Tt),p(Zs),p(Lt),p(Pc,8),p(We))}}static{this.\u0275dir=F({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,n){t&2&&me("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),jc=(()=>{class i{constructor(e,t,n){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new re,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=n==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Lc&&e.width>=Bc}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,n=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:n),t.classList.add(e?n:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(t);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(t){return new(t||i)(p(Ye),p(Q),p(at,8))}}static{this.\u0275cmp=x({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(t,n){if(t&1&&Be(Mc,7),t&2){let o;te(o=ie())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,n){t&1&&M("mouseleave",function(s){return n._handleMouseLeave(s)})},standalone:!0,features:[T],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,n){if(t&1){let o=U();d(0,"div",1,0),M("animationend",function(a){return N(o),L(n._handleAnimationEnd(a))}),d(2,"div",2),h(3),m()()}t&2&&(me("mdc-tooltip--multiline",n._isMultiline),f("ngClass",n.tooltipClass),l(3),P(n.message))},dependencies:[on],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var ea=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[Ac],imports:[mn,G,_i,we,we,ds]})}}return i})();function zc(i,r){if(i&1&&(d(0,"mat-option",17),h(1),m()),i&2){let e=r.$implicit;f("value",e),l(),E(" ",e," ")}}function Vc(i,r){if(i&1){let e=U();d(0,"mat-form-field",14)(1,"mat-select",16,0),M("selectionChange",function(n){N(e);let o=y(2);return L(o._changePageSize(n.value))}),Io(3,zc,2,2,"mat-option",17,To),m(),d(5,"div",18),M("click",function(){N(e);let n=Jt(2);return L(n.open())}),m()()}if(i&2){let e=y(2);f("appearance",e._formFieldAppearance)("color",e.color),l(),f("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),Ro(e._displayedPageSizeOptions)}}function Hc(i,r){if(i&1&&(d(0,"div",15),h(1),m()),i&2){let e=y(2);l(),P(e.pageSize)}}function Uc(i,r){if(i&1&&(d(0,"div",3)(1,"div",13),h(2),m(),v(3,Vc,6,7,"mat-form-field",14)(4,Hc,2,1,"div",15),m()),i&2){let e=y();l(),pe("id",e._pageSizeLabelId),l(),E(" ",e._intl.itemsPerPageLabel," "),l(),Me(e._displayedPageSizeOptions.length>1?3:-1),l(),Me(e._displayedPageSizeOptions.length<=1?4:-1)}}function Gc(i,r){if(i&1){let e=U();d(0,"button",19),M("click",function(){N(e);let n=y();return L(n.firstPage())}),st(),d(1,"svg",8),R(2,"path",20),m()()}if(i&2){let e=y();f("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),pe("aria-label",e._intl.firstPageLabel)}}function $c(i,r){if(i&1){let e=U();d(0,"button",21),M("click",function(){N(e);let n=y();return L(n.lastPage())}),st(),d(1,"svg",8),R(2,"path",22),m()()}if(i&2){let e=y();f("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),pe("aria-label",e._intl.lastPageLabel)}}var Un=(()=>{class i{constructor(){this.changes=new re,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(n==0||t==0)return`0 of ${n}`;n=Math.max(n,0);let o=e*t,s=o<n?Math.min(o+t,n):o+t;return`${o+1} \u2013 ${s} of ${n}`}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qc(i){return i||new Un}var Qc={provide:Un,deps:[[new Ji,new en,Un]],useFactory:qc},Yc=50;var Wc=new oe("MAT_PAGINATOR_DEFAULT_OPTIONS"),Kc=0,_t=(()=>{class i{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>ft(t,0)),this._updateDisplayedPageSizeOptions()}constructor(e,t,n){if(this._intl=e,this._changeDetectorRef=t,this._pageSizeLabelId=`mat-paginator-page-size-label-${Kc++}`,this._isInitialized=!1,this._initializedStream=new Yi(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Fe,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:o,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:c}=n;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,n=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Yc),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(t){return new(t||i)(p(Un),p(Ye),p(Wc,8))}}static{this.\u0275cmp=x({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ft],length:[2,"length","length",ft],pageSize:[2,"pageSize","pageSize",ft],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",ge],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",ge],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",ge]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[Re,T],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,n){t&1&&(d(0,"div",1)(1,"div",2),v(2,Uc,5,4,"div",3),d(3,"div",4)(4,"div",5),h(5),m(),v(6,Gc,3,5,"button",6),d(7,"button",7),M("click",function(){return n.previousPage()}),st(),d(8,"svg",8),R(9,"path",9),m()(),Kt(),d(10,"button",10),M("click",function(){return n.nextPage()}),st(),d(11,"svg",8),R(12,"path",11),m()(),v(13,$c,3,5,"button",12),m()()()),t&2&&(l(2),Me(n.hidePageSize?-1:2),l(3),E(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),l(),Me(n.showFirstLastButtons?6:-1),l(),f("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),pe("aria-label",n._intl.previousPageLabel),l(3),f("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),pe("aria-label",n._intl.nextPageLabel),l(3),Me(n.showFirstLastButtons?13:-1))},dependencies:[is,fs,Wo,oi,Js],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return i})(),Gn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[Qc],imports:[Ee,gn,ea,_t]})}}return i})();var Xc=["mat-sort-header",""],Zc=["*"];function Jc(i,r){if(i&1){let e=U();d(0,"div",2),M("@arrowPosition.start",function(){N(e);let n=y();return L(n._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){N(e);let n=y();return L(n._disableViewStateAnimation=!1)}),R(1,"div",3),d(2,"div",4),R(3,"div",5)(4,"div",6)(5,"div",7),m()()}if(i&2){let e=y();f("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),l(2),f("@indicator",e._getArrowDirectionState()),l(),f("@leftPointer",e._getArrowDirectionState()),l(),f("@rightPointer",e._getArrowDirectionState())}}var ia=new oe("MAT_SORT_DEFAULT_OPTIONS"),yt=(()=>{class i{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new Yi(1),this.sortables=new Map,this._stateChanges=new re,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Fe,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,n=ed(e.start||this.start,t),o=n.indexOf(this.direction)+1;return o>=n.length&&(o=0),n[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(t){return new(t||i)(p(ia,8))}}static{this.\u0275dir=F({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",ge],disabled:[2,"matSortDisabled","disabled",ge]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Re,Ft]})}}return i})();function ed(i,r){let e=["asc","desc"];return i=="desc"&&e.reverse(),r||e.push(""),e}var Rt=Yo.ENTERING+" "+Qo.STANDARD_CURVE,Ei={indicator:Bt("indicator",[je("active-asc, asc",K({transform:"translateY(0px)"})),je("active-desc, desc",K({transform:"translateY(10px)"})),tt("active-asc <=> active-desc",ut(Rt))]),leftPointer:Bt("leftPointer",[je("active-asc, asc",K({transform:"rotate(-45deg)"})),je("active-desc, desc",K({transform:"rotate(45deg)"})),tt("active-asc <=> active-desc",ut(Rt))]),rightPointer:Bt("rightPointer",[je("active-asc, asc",K({transform:"rotate(45deg)"})),je("active-desc, desc",K({transform:"rotate(-45deg)"})),tt("active-asc <=> active-desc",ut(Rt))]),arrowOpacity:Bt("arrowOpacity",[je("desc-to-active, asc-to-active, active",K({opacity:1})),je("desc-to-hint, asc-to-hint, hint",K({opacity:.54})),je("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",K({opacity:0})),tt("* => asc, * => desc, * => active, * => hint, * => void",ut("0ms")),tt("* <=> *",ut(Rt))]),arrowPosition:Bt("arrowPosition",[tt("* => desc-to-hint, * => desc-to-active",ut(Rt,ki([K({transform:"translateY(-25%)"}),K({transform:"translateY(0)"})]))),tt("* => hint-to-desc, * => active-to-desc",ut(Rt,ki([K({transform:"translateY(0)"}),K({transform:"translateY(25%)"})]))),tt("* => asc-to-hint, * => asc-to-active",ut(Rt,ki([K({transform:"translateY(25%)"}),K({transform:"translateY(0)"})]))),tt("* => hint-to-asc, * => active-to-asc",ut(Rt,ki([K({transform:"translateY(0)"}),K({transform:"translateY(-25%)"})]))),je("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",K({transform:"translateY(0)"})),je("hint-to-desc, active-to-desc, desc",K({transform:"translateY(-25%)"})),je("hint-to-asc, active-to-asc, asc",K({transform:"translateY(25%)"}))]),allowChildren:Bt("allowChildren",[tt("* <=> *",[ts("@*",es(),{optional:!0})])])},$n=(()=>{class i{constructor(){this.changes=new re}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function td(i){return i||new $n}var id={provide:$n,deps:[[new Ji,new en,$n]],useFactory:td},qn=(()=>{class i{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}constructor(e,t,n,o,s,a,c,u){this._intl=e,this._changeDetectorRef=t,this._sort=n,this._columnDef=o,this._focusMonitor=s,this._elementRef=a,this._ariaDescriber=c,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",u?.arrowPosition&&(this.arrowPosition=u?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let t=!!e;t!==this._showIndicatorHint&&(this._setIndicatorHintVisible(t),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=Pt(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(t){return new(t||i)(p($n),p(Ye),p(yt,8),p("MAT_SORT_HEADER_COLUMN_DEF",8),p(Tt),p(Q),p(ln,8),p(ia,8))}}static{this.\u0275cmp=x({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,n){t&1&&M("click",function(){return n._handleClick()})("keydown",function(s){return n._handleKeydown(s)})("mouseenter",function(){return n._setIndicatorHintVisible(!0)})("mouseleave",function(){return n._setIndicatorHintVisible(!1)}),t&2&&(pe("aria-sort",n._getAriaSortAttribute()),me("mat-sort-header-disabled",n._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",ge],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",ge]},exportAs:["matSortHeader"],standalone:!0,features:[Re,T],attrs:Xc,ngContentSelectors:Zc,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,n){t&1&&(Et(),d(0,"div",0)(1,"div",1),Le(2),m(),v(3,Jc,6,6,"div",2),m()),t&2&&(me("mat-sort-header-sorted",n._isSorted())("mat-sort-header-position-before",n.arrowPosition==="before"),pe("tabindex",n._isDisabled()?null:0)("role",n._isDisabled()?null:"button"),l(3),Me(n._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Ei.indicator,Ei.leftPointer,Ei.rightPointer,Ei.arrowOpacity,Ei.arrowPosition,Ei.allowChildren]},changeDetection:0})}}return i})(),Qn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[id],imports:[we]})}}return i})();function nd(i,r){}var zt=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Fr=(()=>{class i extends ps{constructor(e,t,n,o,s,a,c,u){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=u,this._platform=se(xt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=se(Ye),this._injector=se(qe),this._isDestroyed=!1,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),g},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){this._isDestroyed||Xt(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=an(),o=this._elementRef.nativeElement;(!n||n===this._document.body||n===o||o.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=an();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=an()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||i)(p(Q),p(dn),p(We,8),p(zt),p(cn),p(Ne),p(gi),p(Tt))}}static{this.\u0275cmp=x({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&Be(Pi,7),t&2){let o;te(o=ie())&&(n._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&pe("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[Z,T],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&v(0,nd,0,0,"ng-template",0)},dependencies:[Pi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return i})(),Bi=class{constructor(r,e){this.overlayRef=r,this.config=e,this.closed=new re,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!ni(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(r),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}},rd=new oe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=se(ze);return()=>i.scrollStrategies.block()}}),od=new oe("DialogData"),sd=new oe("DefaultDialogConfig");var ad=0,Nr=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,n,o,s,a){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this._ariaHiddenElements=new Map,this.afterAllClosed=Ki(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zi(void 0))),this._scrollStrategy=a}open(e,t){let n=this._defaultOptions||new zt;t=ae(ae({},n),t),t.id=t.id||`cdk-dialog-${ad++}`,t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),s=this._overlay.create(o),a=new Bi(s,t),c=this._attachContainer(s,a,t);return a.containerInstance=c,this._attachDialogContent(e,a,c,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Pr(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Pr(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Pr(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new hs({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,n){let o=n.injector||n.viewContainerRef?.injector,s=[{provide:zt,useValue:n},{provide:Bi,useValue:t},{provide:gi,useValue:e}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,s.push(...n.container.providers(n))):a=Fr;let c=new Oi(a,n.viewContainerRef,qe.create({parent:o||this._injector,providers:s}),n.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,t,n,o){if(e instanceof Je){let s=this._createInjector(o,t,n,void 0),a={$implicit:o.data,dialogRef:t};o.templateContext&&(a=ae(ae({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),n.attachTemplatePortal(new us(e,null,a,s))}else{let s=this._createInjector(o,t,n,this._injector),a=n.attachComponentPortal(new Oi(e,o.viewContainerRef,s,o.componentFactoryResolver));t.componentRef=a,t.componentInstance=a.instance}}_createInjector(e,t,n,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:od,useValue:e.data},{provide:Bi,useValue:t}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(t,e,n)):a.push(...e.providers)),e.direction&&(!s||!s.get(Lt,null,{optional:!0}))&&a.push({provide:Lt,useValue:{value:e.direction,change:wt()}}),qe.create({parent:s||o,providers:a})}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let o=t[n];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||i)(q(ze),q(qe),q(sd,8),q(i,12),q(fn),q(rd))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Pr(i,r){let e=i.length;for(;e--;)r(i[e])}var ra=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[Nr],imports:[_i,Fi,mn,Fi]})}}return i})();function ld(i,r){}var ji=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Lr="mdc-dialog--open",oa="mdc-dialog--opening",sa="mdc-dialog--closing",cd=150,dd=75,md=(()=>{class i extends Fr{constructor(e,t,n,o,s,a,c,u,_){super(e,t,n,o,s,a,c,_),this._animationMode=u,this._animationStateChanged=new Fe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?la(this._config.enterAnimationDuration)??cd:0,this._exitAnimationDuration=this._animationsEnabled?la(this._config.exitAnimationDuration)??dd:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(aa,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oa,Lr)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Lr),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Lr),this._animationsEnabled?(this._hostElement.style.setProperty(aa,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(sa)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(oa,sa)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||i)(p(Q),p(dn),p(We,8),p(ji),p(cn),p(Ne),p(gi),p(at,8),p(Tt))}}static{this.\u0275cmp=x({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,n){t&2&&(fr("id",n._config.id),pe("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),me("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},standalone:!0,features:[Z,T],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),v(2,ld,0,0,"ng-template",2),m()())},dependencies:[Pi],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return i})(),aa="--mat-dialog-transition-duration";function la(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?ri(i.substring(0,i.length-2)):i.endsWith("s")?ri(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var Yn=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(Yn||{}),Di=class{constructor(r,e,t){this._ref=r,this._containerInstance=t,this._afterOpened=new re,this._beforeClosed=new re,this._state=Yn.OPEN,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(Mi(n=>n.state==="opened"),Wt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Mi(n=>n.state==="closed"),Wt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Pt(this.backdropClick(),this.keydownEvents().pipe(Mi(n=>n.keyCode===27&&!this.disableClose&&!ni(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),ud(this,n.type==="keydown"?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(Mi(e=>e.state==="closing"),Wt(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Yn.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=Yn.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function ud(i,r,e){return i._closeInteractionType=r,i.close(e)}var Br=new oe("MatMdcDialogData"),pd=new oe("mat-mdc-dialog-default-options"),hd=new oe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=se(ze);return()=>i.scrollStrategies.block()}});var fd=0,xi=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,n,o,s,a,c,u){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re,this._afterOpenedAtThisLevel=new re,this.dialogConfigClass=ji,this.afterAllClosed=Ki(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zi(void 0))),this._dialog=t.get(Nr),this._dialogRefConstructor=Di,this._dialogContainerType=md,this._dialogDataToken=Br}open(e,t){let n;t=ae(ae({},this._defaultOptions||new ji),t),t.id=t.id||`mat-mdc-dialog-${fd++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Qi(ae({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:zt,useValue:t}]},templateContext:()=>({dialogRef:n}),providers:(s,a,c)=>(n=new this._dialogRefConstructor(s,t,c),n.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=o.componentRef,n.componentInstance=o.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||i)(q(ze),q(qe),q(Ao,8),q(pd,8),q(hd),q(i,12),q(fn),q(at,8))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),gd=0;var ca=(()=>{class i{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n}ngOnInit(){this._dialogRef||(this._dialogRef=_d(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||i)(p(Di,8),p(Q),p(xi))}}static{this.\u0275dir=F({type:i,standalone:!0})}}return i})(),da=(()=>{class i extends ca{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${gd++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,n){t&2&&fr("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Z]})}}return i})(),ma=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=F({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[xo([ls])]})}}return i})(),ua=(()=>{class i extends ca{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=F({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,n){t&2&&me("mat-mdc-dialog-actions-align-start",n.align==="start")("mat-mdc-dialog-actions-align-center",n.align==="center")("mat-mdc-dialog-actions-align-end",n.align==="end")},inputs:{align:"align"},standalone:!0,features:[Z]})}}return i})();function _d(i,r){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(t=>t.id===e.id):null}var pa=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[xi],imports:[ra,_i,Fi,we,we]})}}return i})();var Wn=(()=>{class i{constructor(e,t){this.data=e,this.dialogRef=t}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(t){return new(t||i)(p(Br),p(Di))}}static{this.\u0275cmp=x({type:i,selectors:[["app-confirm-dialog"]],standalone:!0,features:[T],decls:10,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){t&1&&(d(0,"h2",0),h(1),m(),d(2,"mat-dialog-content")(3,"p"),h(4),m()(),d(5,"mat-dialog-actions",1)(6,"button",2),M("click",function(){return n.onCancel()}),h(7,"Cancelar"),m(),d(8,"button",3),M("click",function(){return n.onConfirm()}),h(9,"Eliminar"),m()()),t&2&&(l(),P(n.data.title),l(3),P(n.data.message))},dependencies:[G,pa,da,ua,ma,Ee,ct]})}}return i})();var vd=()=>["/admin/user-form"],bd=()=>[5,10,20];function Cd(i,r){i&1&&(d(0,"th",17),h(1,"Nombre"),m())}function wd(i,r){if(i&1&&(d(0,"td",18),h(1),m()),i&2){let e=r.$implicit;l(),Mo("",e.name," ",e.surname,"")}}function Sd(i,r){i&1&&(d(0,"th",17),h(1,"Email"),m())}function Ed(i,r){if(i&1&&(d(0,"td",18),h(1),m()),i&2){let e=r.$implicit;l(),P(e.email)}}function Dd(i,r){i&1&&(d(0,"th",17),h(1,"Rol"),m())}function xd(i,r){if(i&1&&(d(0,"td",18),h(1),m()),i&2){let e=r.$implicit;l(),P(e.role||"\u2014")}}function Td(i,r){i&1&&(d(0,"th",19),h(1,"Acciones"),m())}function Id(i,r){if(i&1){let e=U();d(0,"td",20)(1,"button",21),M("click",function(){let n=N(e).$implicit,o=y();return L(o.onEdit(n))}),d(2,"mat-icon"),h(3,"edit"),m()(),d(4,"button",22),M("click",function(){let n=N(e).$implicit,o=y();return L(o.onDelete(n))}),d(5,"mat-icon"),h(6,"delete"),m()()()}}function Rd(i,r){i&1&&R(0,"tr",23)}function Md(i,r){i&1&&R(0,"tr",24)}var ha=(()=>{class i{constructor(e,t,n,o){this.userService=e,this.snackBar=t,this.dialog=n,this.router=o,this.users=new Si,this.displayedColumns=["name","email","role","actions"]}ngOnInit(){this.loadUsers()}ngAfterViewInit(){this.users.paginator=this.paginator,this.users.sort=this.sort}loadUsers(){let e=this.paginator?.pageIndex??0,t=this.paginator?.pageSize??10,n=this.sort&&this.sort.active&&this.sort.direction?`${this.sort.active},${this.sort.direction}`:"id,asc",o=this.userService.getCurrentUser(),s=o?.role===W.COMPANY_ADMIN?o.company?.id:void 0;this.userService.getUsers(e,t,n,void 0,s).subscribe({next:a=>{let u=(a.content??[]).filter(_=>_.id!==o?.id);this.users.data=u,this.paginator&&(this.paginator.length=a.totalElements?a.totalElements-1:u.length)},error:a=>{console.error("\u274C Error al cargar usuarios",a)}})}onEdit(e){this.router.navigate(["/admin/user-form/",e.id])}onDelete(e){this.dialog.open(Wn,{width:"400px",data:{title:"Eliminar usuario",message:`\xBFEst\xE1s seguro de que quieres eliminar a ${e.name}?`}}).afterClosed().subscribe(n=>{n&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Usuario eliminado","Cerrar",{duration:3e3}),this.loadUsers()},error:o=>{console.error("Error al eliminar usuario",o),this.snackBar.open("\u274C Error al eliminar usuario","Cerrar",{duration:3e3})}})})}applyFilter(e){let t=e.target.value;this.users.filter=t.trim().toLowerCase()}static{this.\u0275fac=function(t){return new(t||i)(p(Oe),p(_n),p(xi),p(ye))}}static{this.\u0275cmp=x({type:i,selectors:[["app-admin-users"]],viewQuery:function(t,n){if(t&1&&(Be(_t,5),Be(yt,5)),t&2){let o;te(o=ie())&&(n.paginator=o.first),te(o=ie())&&(n.sort=o.first)}},standalone:!0,features:[T],decls:23,vars:8,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar usuario...",1,"border","rounded","px-3","py-2","w-64",3,"keyup"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"mr-1"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){t&1&&(d(0,"mat-card",0)(1,"div",1)(2,"input",2),M("keyup",function(s){return n.applyFilter(s)}),m(),d(3,"button",3)(4,"mat-icon",4),h(5,"add"),m(),h(6," Nuevo usuario "),m()(),d(7,"table",5),J(8,6),v(9,Cd,2,0,"th",7)(10,wd,2,2,"td",8),ee(),J(11,9),v(12,Sd,2,0,"th",7)(13,Ed,2,1,"td",8),ee(),J(14,10),v(15,Dd,2,0,"th",7)(16,xd,2,1,"td",8),ee(),J(17,11),v(18,Td,2,0,"th",12)(19,Id,7,0,"td",13),ee(),v(20,Rd,1,0,"tr",14)(21,Md,1,0,"tr",15),m(),R(22,"mat-paginator",16),m()),t&2&&(l(3),f("routerLink",ke(6,vd)),l(4),f("dataSource",n.users),l(13),f("matHeaderRowDef",n.displayedColumns),l(),f("matRowDefColumns",n.displayedColumns),l(),f("pageSize",5)("pageSizeOptions",ke(7,bd)))},dependencies:[G,ue,Ae,Xe,lt,Hn,An,Pn,Bn,Fn,On,jn,Nn,Ln,zn,Vn,Ee,ct,oi,dt,si,It,Gn,_t,Qn,yt,qn]})}}return i})();var Ad=()=>["/admin/company-form"],Od=()=>[5,10,20];function Pd(i,r){i&1&&(d(0,"th",16),h(1,"Nombre"),m())}function Fd(i,r){if(i&1&&(d(0,"td",17),h(1),m()),i&2){let e=r.$implicit;l(),P(e.name)}}function Nd(i,r){i&1&&(d(0,"th",16),h(1,"address"),m())}function Ld(i,r){if(i&1&&(d(0,"td",17),h(1),m()),i&2){let e=r.$implicit;l(),P(e.address||"\u2014")}}function Bd(i,r){i&1&&(d(0,"th",18),h(1,"Acciones"),m())}function jd(i,r){if(i&1){let e=U();d(0,"td",19)(1,"button",20),M("click",function(){let n=N(e).$implicit,o=y();return L(o.onEdit(n))}),d(2,"mat-icon"),h(3,"edit"),m()(),d(4,"button",21),M("click",function(){let n=N(e).$implicit,o=y();return L(o.onDelete(n))}),d(5,"mat-icon"),h(6,"delete"),m()()()}}function zd(i,r){i&1&&R(0,"tr",22)}function Vd(i,r){i&1&&R(0,"tr",23)}var fa=(()=>{class i{constructor(e,t,n,o,s){this.companyService=e,this.userService=t,this.snackBar=n,this.dialog=o,this.router=s,this.companies=new Si,this.displayedColumns=["name","address","actions"]}ngOnInit(){this.loadCompanies()}ngAfterViewInit(){this.companies.paginator=this.paginator,this.companies.sort=this.sort}loadCompanies(){let e=this.userService.getCurrentUser();this.companyService.getAllCompanies().subscribe({next:t=>{let n=t;e?.role===W.COMPANY_ADMIN&&e.company?.id&&(n=t.filter(o=>o.id===e.company?.id)),this.companies.data=n,this.paginator&&(this.paginator.length=n.length)},error:t=>{console.error("\u274C Error al cargar compa\xF1\xEDas",t)}})}onEdit(e){this.router.navigate(["/admin/company-form/",e.id])}onDelete(e){let t=e.id;if(!t){console.warn("\u26A0\uFE0F No se puede eliminar: id de compa\xF1\xEDa undefined"),this.snackBar.open("\u26A0\uFE0F No se puede eliminar esta compa\xF1\xEDa","Cerrar",{duration:3e3});return}this.dialog.open(Wn,{width:"400px",data:{title:"Eliminar compa\xF1\xEDa",message:`\xBFEst\xE1s seguro de que quieres eliminar ${e.name}?`}}).afterClosed().subscribe(o=>{o&&this.companyService.deleteCompany(t).subscribe({next:()=>{this.snackBar.open("\u2705 Compa\xF1\xEDa eliminada","Cerrar",{duration:3e3}),this.loadCompanies()},error:s=>{console.error("Error al eliminar compa\xF1\xEDa",s),this.snackBar.open("\u274C Error al eliminar compa\xF1\xEDa","Cerrar",{duration:3e3})}})})}applyFilter(e){let t=e.target.value;this.companies.filter=t.trim().toLowerCase()}static{this.\u0275fac=function(t){return new(t||i)(p(yn),p(Oe),p(_n),p(xi),p(ye))}}static{this.\u0275cmp=x({type:i,selectors:[["app-admin-companies"]],viewQuery:function(t,n){if(t&1&&(Be(_t,5),Be(yt,5)),t&2){let o;te(o=ie())&&(n.paginator=o.first),te(o=ie())&&(n.sort=o.first)}},standalone:!0,features:[T],decls:20,vars:8,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar compa\xF1\xEDa...",1,"border","rounded","px-3","py-2","w-64",3,"keyup"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"mr-1"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"space-x-2"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){t&1&&(d(0,"mat-card",0)(1,"div",1)(2,"input",2),M("keyup",function(s){return n.applyFilter(s)}),m(),d(3,"button",3)(4,"mat-icon",4),h(5,"add"),m(),h(6," Nueva compa\xF1\xEDa "),m()(),d(7,"table",5),J(8,6),v(9,Pd,2,0,"th",7)(10,Fd,2,1,"td",8),ee(),J(11,9),v(12,Nd,2,0,"th",7)(13,Ld,2,1,"td",8),ee(),J(14,10),v(15,Bd,2,0,"th",11)(16,jd,7,0,"td",12),ee(),v(17,zd,1,0,"tr",13)(18,Vd,1,0,"tr",14),m(),R(19,"mat-paginator",15),m()),t&2&&(l(3),f("routerLink",ke(6,Ad)),l(4),f("dataSource",n.companies),l(10),f("matHeaderRowDef",n.displayedColumns),l(),f("matRowDefColumns",n.displayedColumns),l(),f("pageSize",5)("pageSizeOptions",ke(7,Od)))},dependencies:[G,ue,Ae,Xe,lt,Hn,An,Pn,Bn,Fn,On,jn,Nn,Ln,zn,Vn,Ee,ct,oi,dt,si,It,Gn,_t,Qn,yt,qn]})}}return i})();function Hd(i,r){if(i&1){let e=U();d(0,"div",6)(1,"button",7),M("click",function(){N(e);let n=y();return L(n.goToEditForm())}),h(2," Editar "),m()()}}function Ud(i,r){if(i&1&&(d(0,"div",23)(1,"div",24)(2,"div",25),h(3),m(),d(4,"div",26)(5,"div",12),R(6,"canvas",27),m(),d(7,"div",12),R(8,"canvas",27),m(),d(9,"div",15)(10,"div",28),h(11),b(12,"number"),m(),d(13,"div",17),h(14,"Toneladas de CO\u2082"),m(),d(15,"div",18),h(16),m()()()()()),i&2){let e=r.$implicit,t=y(3);l(3),P(e.year),l(3),f("id",e.emitidoRef),l(2),f("id",e.compensadoRef),l(2),f("ngClass",t.getNetColorClass(e.totalEmissions,e.totalCompensations)),l(),E(" ",Nt(12,6,e.totalEmissions-e.totalCompensations,"1.0-0")," "),l(5),E(" Compensaste el ",t.getCompensatedPercentage(e.totalEmissions,e.totalCompensations),"% de tus emisiones ")}}function Gd(i,r){if(i&1&&(d(0,"div",20)(1,"h3",21),h(2,"A\xF1os anteriores"),m(),v(3,Ud,17,9,"div",22),m()),i&2){let e=y(2);l(3),f("ngForOf",e.co2Years.slice(1))}}function $d(i,r){if(i&1&&(d(0,"div",8)(1,"div",9)(2,"h3",10),h(3,"\xDAltimo a\xF1o registrado"),m(),d(4,"h4",10),h(5),m(),d(6,"div",11)(7,"div",12)(8,"div",13),h(9,"Emisiones"),m(),R(10,"canvas",14),m(),d(11,"div",12)(12,"div",13),h(13,"Compensaciones"),m(),R(14,"canvas",14),m(),d(15,"div",15)(16,"div",13),h(17,"Valor Neto"),m(),d(18,"div",16),h(19),b(20,"number"),m(),d(21,"div",17),h(22,"Toneladas de CO\u2082"),m(),d(23,"div",18),h(24),m()()()(),v(25,Gd,4,1,"div",19),m()),i&2){let e=y();l(5),P(e.co2Years[0].year),l(5),f("id",e.co2Years[0].emitidoRef),l(4),f("id",e.co2Years[0].compensadoRef),l(4),f("ngClass",e.getNetColorClass(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations)),l(),E(" ",Nt(20,7,e.co2Years[0].totalEmissions-e.co2Years[0].totalCompensations,"1.0-0")," "),l(5),E(" (Compensaste el ",e.getCompensatedPercentage(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations),"% de tus emisiones) "),l(),f("ngIf",e.co2Years.length>1)}}var ga=(()=>{class i{constructor(e,t,n,o){this.userService=e,this.companyService=t,this.router=n,this.cdr=o,this.co2Years=[],this.chartsMap={},Cr.register(gs,_s,vs,ys)}ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e,e?.company?.id&&this.companyService.getCompanyById(e.company.id).subscribe(t=>{this.company=t,this.prepareCO2Years()})})}ngAfterViewInit(){this.co2Years?.length&&setTimeout(()=>this.renderCO2Charts(),50)}prepareCO2Years(){if(!this.company?.co2?.length)return;let e=[...this.company.co2].filter(t=>t.year!==void 0).sort((t,n)=>n.year-t.year);this.co2Years=e.map(t=>Qi(ae({},t),{totalEmissions:t.totalEmissions||0,totalCompensations:t.totalCompensations||0,net:(t.totalEmissions||0)-(t.totalCompensations||0),emitidoRef:`emitido-${t.year}`,compensadoRef:`compensado-${t.year}`,netoRef:`neto-${t.year}`})),this.cdr.detectChanges(),setTimeout(()=>this.renderCO2Charts(),100)}goToEditForm(){this.user?.company?.id&&this.router.navigate(["/company/edit",this.user.company.id])}renderCO2Charts(){this.co2Years.forEach((e,t)=>{["emitidoRef","compensadoRef","netoRef"].forEach(n=>{let o=document.getElementById(e[n]);if(!o)return;let s=t===0?200:80;o.width=s,o.height=s;let a=n==="emitidoRef"?e.totalEmissions:n==="compensadoRef"?e.totalCompensations:e.net,c=n==="emitidoRef"?"#fc4d03ff":n==="compensadoRef"?"#89de8cff":"#2c80c5cf";this.createDonutChart(o,a,c,e.totalEmissions||1)})})}createDonutChart(e,t,n,o){let s=e.getContext("2d");if(!s)return;this.chartsMap[e.id]&&this.chartsMap[e.id].destroy();let a=t/(o>0?o:1)*100,c={datasets:[{data:[a,100-a],backgroundColor:[n,"#e0e0e0"],cutout:"75%",borderWidth:0}]},u={id:"centerText",beforeDraw:_=>{let{ctx:g,width:C,height:D}=_;g&&(g.save(),g.font=`${D/100*20}px sans-serif`,g.fillStyle="#333",g.textBaseline="middle",g.fillText(`${t}`,C/2-g.measureText(`${t}`).width/2,D/2-10),g.font=`${D/100*8}px sans-serif`,g.fillStyle="#666",g.fillText("Toneladas de CO\u2082",C/2-g.measureText("Toneladas de CO\u2082").width/2,D/2+15),g.restore())}};this.chartsMap[e.id]=new Cr(s,{type:"doughnut",data:c,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}},animation:{animateRotate:!0,animateScale:!0}},plugins:[u]})}getNetColorClass(e,t){let n=e-t,o=e>0?n/e:1;return o<.5?"net-yellow":o<=1?"net-red":"net-green"}getCompensatedPercentage(e,t){return e?(t/e*100).toFixed(0):"0"}static{this.\u0275fac=function(t){return new(t||i)(p(Oe),p(yn),p(ye),p(Ye))}}static{this.\u0275cmp=x({type:i,selectors:[["app-company"]],standalone:!0,features:[T],decls:8,vars:5,consts:[[1,"rounded-2xl","shadow-md","p-4","flex","flex-col","items-center","text-center"],["alt","Logo",1,"w-24","h-24","rounded-full","shadow-lg","mb-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-500"],["class","flex gap-2 mt-4",4,"ngIf"],["class","w-full mt-6",4,"ngIf"],[1,"flex","gap-2","mt-4"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","mt-6"],[1,"mb-8"],[1,"text-lg","font-semibold"],[1,"co2-container","flex","justify-center","gap-4","mt-4","items-center"],[1,"donut-wrapper"],[1,"donut-label"],[1,"donut-large",3,"id"],[1,"donut-wrapper","neto-wrapper"],[1,"donut-neto","text-4xl","font-bold",3,"ngClass"],[1,"donut-neto-unit"],[1,"donut-neto-info"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"text-left","font-semibold","mb-2"],["class","co2-year-row flex flex-col items-start gap-2 mb-4 w-full",4,"ngFor","ngForOf"],[1,"co2-year-row","flex","flex-col","items-start","gap-2","mb-4","w-full"],[1,"flex","items-center","gap-4","w-full"],[1,"w-16","font-bold"],[1,"co2-container","flex","gap-4","items-center"],[1,"donut-small",3,"id"],[1,"donut-neto",3,"ngClass"]],template:function(t,n){t&1&&(d(0,"mat-card",0),R(1,"img",1),d(2,"h2",2),h(3),m(),d(4,"p",3),h(5),m(),v(6,Hd,3,0,"div",4)(7,$d,26,10,"div",5),m()),t&2&&(l(),f("src",n.previewImage||n.user.company.picture||"assets/company_profile.png",tn),l(2),P(n.user.company.name),l(2),P(n.user.company.address),l(),f("ngIf",n.user.role==="COMPANY_ADMIN"),l(),f("ngIf",n.co2Years==null?null:n.co2Years.length))},dependencies:[G,on,ti,_e,Fo,Xe,lt,Ee,ct,ue],encapsulation:2})}}return i})();var _a=[{path:"login",component:As},{path:"register",component:ks},{path:"verify-email",component:Os},{path:"reset-password",component:Ps},{path:"",component:xs,canActivate:[Sn],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Ts},{path:"settings",component:Rs},{path:"profile",component:Is},{path:"profile/edit/:id",loadComponent:()=>import("./chunk-MZEROEWI.js").then(i=>i.UserFormComponent),canActivate:[Sn]},{path:"company",component:ga},{path:"company/edit/:id",loadComponent:()=>import("./chunk-ENJOO5YN.js").then(i=>i.CompanyFormComponent),canActivate:[Ci],data:{roles:[W.ADMIN,W.COMPANY_ADMIN]}},{path:"admin",component:js,canActivate:[Sn],children:[{path:"users",component:ha,canActivate:[Ci],data:{roles:[W.ADMIN,W.COMPANY_ADMIN]}},{path:"user-form/:id",loadComponent:()=>import("./chunk-MZEROEWI.js").then(i=>i.UserFormComponent),canActivate:[Ci],data:{roles:[W.ADMIN,W.COMPANY_ADMIN]}},{path:"companies",component:fa,canActivate:[Ci],data:{roles:[W.ADMIN]}},{path:"company-form/:id",loadComponent:()=>import("./chunk-ENJOO5YN.js").then(i=>i.CompanyFormComponent),canActivate:[Ci],data:{roles:[W.ADMIN,W.COMPANY_ADMIN]}}]}]},{path:"**",redirectTo:"login"}];function ya(i){return new V(3e3,!1)}function qd(){return new V(3100,!1)}function Qd(){return new V(3101,!1)}function Yd(i){return new V(3001,!1)}function Wd(i){return new V(3003,!1)}function Kd(i){return new V(3004,!1)}function Xd(i,r){return new V(3005,!1)}function Zd(){return new V(3006,!1)}function Jd(){return new V(3007,!1)}function em(i,r){return new V(3008,!1)}function tm(i){return new V(3002,!1)}function im(i,r,e,t,n){return new V(3010,!1)}function nm(){return new V(3011,!1)}function rm(){return new V(3012,!1)}function om(){return new V(3200,!1)}function sm(){return new V(3202,!1)}function am(){return new V(3013,!1)}function lm(i){return new V(3014,!1)}function cm(i){return new V(3015,!1)}function dm(i){return new V(3016,!1)}function mm(i,r){return new V(3404,!1)}function um(i){return new V(3502,!1)}function pm(i){return new V(3503,!1)}function hm(){return new V(3300,!1)}function fm(i){return new V(3504,!1)}function gm(i){return new V(3301,!1)}function _m(i,r){return new V(3302,!1)}function ym(i){return new V(3303,!1)}function vm(i,r){return new V(3400,!1)}function bm(i){return new V(3401,!1)}function Cm(i){return new V(3402,!1)}function wm(i,r){return new V(3505,!1)}function Mt(i){switch(i.length){case 0:return new fi;case 1:return i[0];default:return new br(i)}}function Aa(i,r,e=new Map,t=new Map){let n=[],o=[],s=-1,a=null;if(r.forEach(c=>{let u=c.get("offset"),_=u==s,g=_&&a||new Map;c.forEach((C,D)=>{let I=D,O=C;if(D!=="offset")switch(I=i.normalizePropertyName(I,n),O){case un:O=e.get(D);break;case mt:O=t.get(D);break;default:O=i.normalizeStyleValue(D,I,O,n);break}g.set(I,O)}),_||o.push(g),a=g,s=u}),n.length)throw um(n);return o}function lo(i,r,e,t){switch(r){case"start":i.onStart(()=>t(e&&zr(e,"start",i)));break;case"done":i.onDone(()=>t(e&&zr(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&zr(e,"destroy",i)));break}}function zr(i,r,e){let t=e.totalTime,n=!!e.disabled,o=co(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,t??i.totalTime,n),s=i._data;return s!=null&&(o._data=s),o}function co(i,r,e,t,n="",o=0,s){return{element:i,triggerName:r,fromState:e,toState:t,phaseName:n,totalTime:o,disabled:!!s}}function Ue(i,r,e){let t=i.get(r);return t||i.set(r,t=e),t}function va(i){let r=i.indexOf(":"),e=i.substring(1,r),t=i.slice(r+1);return[e,t]}var Sm=typeof document>"u"?null:document.documentElement;function mo(i){let r=i.parentNode||i.host||null;return r===Sm?null:r}function Em(i){return i.substring(1,6)=="ebkit"}var Vt=null,ba=!1;function Dm(i){Vt||(Vt=xm()||{},ba=Vt.style?"WebkitAppearance"in Vt.style:!1);let r=!0;return Vt.style&&!Em(i)&&(r=i in Vt.style,!r&&ba&&(r="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Vt.style)),r}function xm(){return typeof document<"u"?document.body:null}function Oa(i,r){for(;r;){if(r===i)return!0;r=mo(r)}return!1}function Pa(i,r,e){if(e)return Array.from(i.querySelectorAll(r));let t=i.querySelector(r);return t?[t]:[]}var uo=(()=>{class i{validateStyleProperty(e){return Dm(e)}containsElement(e,t){return Oa(e,t)}getParentElement(e){return mo(e)}query(e,t,n){return Pa(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,o,s,a=[],c){return new fi(n,o)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac})}}return i})(),Gt=class{static{this.NOOP=new uo}},$t=class{};var Tm=1e3,Fa="{{",Im="}}",Na="ng-enter",qr="ng-leave",Kn="ng-trigger",tr=".ng-trigger",Ca="ng-animating",Qr=".ng-animating";function vt(i){if(typeof i=="number")return i;let r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Yr(parseFloat(r[1]),r[2])}function Yr(i,r){switch(r){case"s":return i*Tm;default:return i}}function ir(i,r,e){return i.hasOwnProperty("duration")?i:Rm(i,r,e)}function Rm(i,r,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,s="";if(typeof i=="string"){let a=i.match(t);if(a===null)return r.push(ya(i)),{duration:0,delay:0,easing:""};n=Yr(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Yr(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else n=i;if(!e){let a=!1,c=r.length;n<0&&(r.push(qd()),a=!0),o<0&&(r.push(Qd()),a=!0),a&&r.splice(c,0,ya(i))}return{duration:n,delay:o,easing:s}}function Mm(i){return i.length?i[0]instanceof Map?i:i.map(r=>new Map(Object.entries(r))):[]}function pt(i,r,e){r.forEach((t,n)=>{let o=po(n);e&&!e.has(n)&&e.set(n,i.style[o]),i.style[o]=t})}function Ut(i,r){r.forEach((e,t)=>{let n=po(t);i.style[n]=""})}function zi(i){return Array.isArray(i)?i.length==1?i[0]:Jo(i):i}function km(i,r,e){let t=r.params||{},n=La(i);n.length&&n.forEach(o=>{t.hasOwnProperty(o)||e.push(Yd(o))})}var Wr=new RegExp(`${Fa}\\s*(.+?)\\s*${Im}`,"g");function La(i){let r=[];if(typeof i=="string"){let e;for(;e=Wr.exec(i);)r.push(e[1]);Wr.lastIndex=0}return r}function Hi(i,r,e){let t=`${i}`,n=t.replace(Wr,(o,s)=>{let a=r[s];return a==null&&(e.push(Wd(s)),a=""),a.toString()});return n==t?i:n}var Am=/-+([a-z0-9])/g;function po(i){return i.replace(Am,(...r)=>r[1].toUpperCase())}function Om(i,r){return i===0||r===0}function Pm(i,r,e){if(e.size&&r.length){let t=r[0],n=[];if(e.forEach((o,s)=>{t.has(s)||n.push(s),t.set(s,o)}),n.length)for(let o=1;o<r.length;o++){let s=r[o];n.forEach(a=>s.set(a,ho(i,a)))}}return r}function He(i,r,e){switch(r.type){case B.Trigger:return i.visitTrigger(r,e);case B.State:return i.visitState(r,e);case B.Transition:return i.visitTransition(r,e);case B.Sequence:return i.visitSequence(r,e);case B.Group:return i.visitGroup(r,e);case B.Animate:return i.visitAnimate(r,e);case B.Keyframes:return i.visitKeyframes(r,e);case B.Style:return i.visitStyle(r,e);case B.Reference:return i.visitReference(r,e);case B.AnimateChild:return i.visitAnimateChild(r,e);case B.AnimateRef:return i.visitAnimateRef(r,e);case B.Query:return i.visitQuery(r,e);case B.Stagger:return i.visitStagger(r,e);default:throw Kd(r.type)}}function ho(i,r){return window.getComputedStyle(i)[r]}var Fm=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),nr=class extends $t{normalizePropertyName(r,e){return po(r)}normalizeStyleValue(r,e,t,n){let o="",s=t.toString().trim();if(Fm.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(Xd(r,t))}return s+o}};var rr="*";function Nm(i,r){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(t=>Lm(t,e,r)):e.push(i),e}function Lm(i,r,e){if(i[0]==":"){let c=Bm(i,e);if(typeof c=="function"){r.push(c);return}i=c}let t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(cm(i)),r;let n=t[1],o=t[2],s=t[3];r.push(wa(n,s));let a=n==rr&&s==rr;o[0]=="<"&&!a&&r.push(wa(s,n))}function Bm(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return r.push(dm(i)),"* => *"}}var Xn=new Set(["true","1"]),Zn=new Set(["false","0"]);function wa(i,r){let e=Xn.has(i)||Zn.has(i),t=Xn.has(r)||Zn.has(r);return(n,o)=>{let s=i==rr||i==n,a=r==rr||r==o;return!s&&e&&typeof n=="boolean"&&(s=n?Xn.has(i):Zn.has(i)),!a&&t&&typeof o=="boolean"&&(a=o?Xn.has(r):Zn.has(r)),s&&a}}var Ba=":self",jm=new RegExp(`s*${Ba}s*,?`,"g");function ja(i,r,e,t){return new Kr(i).build(r,e,t)}var Sa="",Kr=class{constructor(r){this._driver=r}build(r,e,t){let n=new Xr(e);return this._resetContextStyleTimingState(n),He(this,zi(r),n)}_resetContextStyleTimingState(r){r.currentQuerySelector=Sa,r.collectedStyles=new Map,r.collectedStyles.set(Sa,new Map),r.currentTime=0}visitTrigger(r,e){let t=e.queryCount=0,n=e.depCount=0,o=[],s=[];return r.name.charAt(0)=="@"&&e.errors.push(Zd()),r.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==B.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(_=>{c.name=_,o.push(this.visitState(c,e))}),c.name=u}else if(a.type==B.Transition){let c=this.visitTransition(a,e);t+=c.queryCount,n+=c.depCount,s.push(c)}else e.errors.push(Jd())}),{type:B.Trigger,name:r.name,states:o,transitions:s,queryCount:t,depCount:n,options:null}}visitState(r,e){let t=this.visitStyle(r.styles,e),n=r.options&&r.options.params||null;if(t.containsDynamicStyles){let o=new Set,s=n||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{La(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(em(r.name,[...o.values()]))}return{type:B.State,name:r.name,style:t,options:n?{params:n}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;let t=He(this,zi(r.animation),e),n=Nm(r.expr,e.errors);return{type:B.Transition,matchers:n,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:Ht(r.options)}}visitSequence(r,e){return{type:B.Sequence,steps:r.steps.map(t=>He(this,t,e)),options:Ht(r.options)}}visitGroup(r,e){let t=e.currentTime,n=0,o=r.steps.map(s=>{e.currentTime=t;let a=He(this,s,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:B.Group,steps:o,options:Ht(r.options)}}visitAnimate(r,e){let t=Um(r.timings,e.errors);e.currentAnimateTimings=t;let n,o=r.styles?r.styles:K({});if(o.type==B.Keyframes)n=this.visitKeyframes(o,e);else{let s=r.styles,a=!1;if(!s){a=!0;let u={};t.easing&&(u.easing=t.easing),s=K(u)}e.currentTime+=t.duration+t.delay;let c=this.visitStyle(s,e);c.isEmptyStep=a,n=c}return e.currentAnimateTimings=null,{type:B.Animate,timings:t,style:n,options:null}}visitStyle(r,e){let t=this._makeStyleAst(r,e);return this._validateStyleAst(t,e),t}_makeStyleAst(r,e){let t=[],n=Array.isArray(r.styles)?r.styles:[r.styles];for(let a of n)typeof a=="string"?a===mt?t.push(a):e.errors.push(tm(a)):t.push(new Map(Object.entries(a)));let o=!1,s=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Fa)>=0){o=!0;break}}}),{type:B.Style,styles:t,easing:s,offset:r.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(r,e){let t=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),r.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=e.collectedStyles.get(e.currentQuerySelector),_=u.get(c),g=!0;_&&(o!=n&&o>=_.startTime&&n<=_.endTime&&(e.errors.push(im(c,_.startTime,_.endTime,o,n)),g=!1),o=_.startTime),g&&u.set(c,{startTime:o,endTime:n}),e.options&&km(a,e.options,e.errors)})})}visitKeyframes(r,e){let t={type:B.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(nm()),t;let n=1,o=0,s=[],a=!1,c=!1,u=0,_=r.steps.map(j=>{let ne=this._makeStyleAst(j,e),De=ne.offset!=null?ne.offset:Hm(ne.styles),ve=0;return De!=null&&(o++,ve=ne.offset=De),c=c||ve<0||ve>1,a=a||ve<u,u=ve,s.push(ve),ne});c&&e.errors.push(rm()),a&&e.errors.push(om());let g=r.steps.length,C=0;o>0&&o<g?e.errors.push(sm()):o==0&&(C=n/(g-1));let D=g-1,I=e.currentTime,O=e.currentAnimateTimings,H=O.duration;return _.forEach((j,ne)=>{let De=C>0?ne==D?1:C*ne:s[ne],ve=De*H;e.currentTime=I+O.delay+ve,O.duration=ve,this._validateStyleAst(j,e),j.offset=De,t.styles.push(j)}),t}visitReference(r,e){return{type:B.Reference,animation:He(this,zi(r.animation),e),options:Ht(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:B.AnimateChild,options:Ht(r.options)}}visitAnimateRef(r,e){return{type:B.AnimateRef,animation:this.visitReference(r.animation,e),options:Ht(r.options)}}visitQuery(r,e){let t=e.currentQuerySelector,n=r.options||{};e.queryCount++,e.currentQuery=r;let[o,s]=zm(r.selector);e.currentQuerySelector=t.length?t+" "+o:o,Ue(e.collectedStyles,e.currentQuerySelector,new Map);let a=He(this,zi(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:B.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:r.selector,options:Ht(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(am());let t=r.timings==="full"?{duration:0,delay:0,easing:"full"}:ir(r.timings,e.errors,!0);return{type:B.Stagger,animation:He(this,zi(r.animation),e),timings:t,options:null}}};function zm(i){let r=!!i.split(/\s*,\s*/).find(e=>e==Ba);return r&&(i=i.replace(jm,"")),i=i.replace(/@\*/g,tr).replace(/@\w+/g,e=>tr+"-"+e.slice(1)).replace(/:animating/g,Qr),[i,r]}function Vm(i){return i?ae({},i):null}var Xr=class{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Hm(i){if(typeof i=="string")return null;let r=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;r=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;r=parseFloat(e.get("offset")),e.delete("offset")}return r}function Um(i,r){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=ir(i,r).duration;return Vr(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Vr(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=ir(e,r);return Vr(n.duration,n.delay,n.easing)}function Ht(i){return i?(i=ae({},i),i.params&&(i.params=Vm(i.params))):i={},i}function Vr(i,r,e){return{duration:i,delay:r,easing:e}}function fo(i,r,e,t,n,o,s=null,a=!1){return{type:1,element:i,keyframes:r,preStyleProps:e,postStyleProps:t,duration:n,delay:o,totalTime:n+o,easing:s,subTimeline:a}}var Ui=class{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let t=this._map.get(r);t||this._map.set(r,t=[]),t.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}},Gm=1,$m=":enter",qm=new RegExp($m,"g"),Qm=":leave",Ym=new RegExp(Qm,"g");function za(i,r,e,t,n,o=new Map,s=new Map,a,c,u=[]){return new Zr().buildKeyframes(i,r,e,t,n,o,s,a,c,u)}var Zr=class{buildKeyframes(r,e,t,n,o,s,a,c,u,_=[]){u=u||new Ui;let g=new Jr(r,e,u,n,o,_,[]);g.options=c;let C=c.delay?vt(c.delay):0;g.currentTimeline.delayNextStep(C),g.currentTimeline.setStyles([s],null,g.errors,c),He(this,t,g);let D=g.timelines.filter(I=>I.containsAnimation());if(D.length&&a.size){let I;for(let O=D.length-1;O>=0;O--){let H=D[O];if(H.element===e){I=H;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,g.errors,c)}return D.length?D.map(I=>I.buildKeyframes()):[fo(e,[],[],[],0,C,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){let t=e.subInstructions.get(e.element);if(t){let n=e.createSubContext(r.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(t,n,n.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=r}visitAnimateRef(r,e){let t=e.createSubContext(r.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],e,t),this.visitReference(r.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=r}_applyAnimationRefDelays(r,e,t){for(let n of r){let o=n?.delay;if(o){let s=typeof o=="number"?o:vt(Hi(o,n?.params??{},e.errors));t.delayNextStep(s)}}}_visitSubInstructions(r,e,t){let o=e.currentTimeline.currentTime,s=t.duration!=null?vt(t.duration):null,a=t.delay!=null?vt(t.delay):null;return s!==0&&r.forEach(c=>{let u=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(r,e){e.updateOptions(r.options,!0),He(this,r.animation,e),e.previousNode=r}visitSequence(r,e){let t=e.subContextCount,n=e,o=r.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==B.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=or);let s=vt(o.delay);n.delayNextStep(s)}r.steps.length&&(r.steps.forEach(s=>He(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){let t=[],n=e.currentTimeline.currentTime,o=r.options&&r.options.delay?vt(r.options.delay):0;r.steps.forEach(s=>{let a=e.createSubContext(r.options);o&&a.delayNextStep(o),He(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(n),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){let t=r.strValue,n=e.params?Hi(t,e.params,e.errors):t;return ir(n,e.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){let t=e.currentAnimateTimings=this._visitTiming(r.timings,e),n=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),n.snapshotCurrentStyles());let o=r.style;o.type==B.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){let t=e.currentTimeline,n=e.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=n&&n.easing||r.easing;r.isEmptyStep?t.applyEmptyStep(o):t.setStyles(r.styles,o,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){let t=e.currentAnimateTimings,n=e.currentTimeline.duration,o=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,r.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+o),e.previousNode=r}visitQuery(r,e){let t=e.currentTimeline.currentTime,n=r.options||{},o=n.delay?vt(n.delay):0;o&&(e.previousNode.type===B.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=or);let s=t,a=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((u,_)=>{e.currentQueryIndex=_;let g=e.createSubContext(r.options,u);o&&g.delayNextStep(o),u===e.element&&(c=g.currentTimeline),He(this,r.animation,g),g.currentTimeline.applyStylesToKeyframe();let C=g.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){let t=e.parentContext,n=e.currentTimeline,o=r.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=t.currentStaggerTime;break}let _=e.currentTimeline;c&&_.delayNextStep(c);let g=_.currentTime;He(this,r.animation,e),e.previousNode=r,t.currentStaggerTime=n.currentTime-g+(n.startTime-t.currentTimeline.startTime)}},or={},Jr=class i{constructor(r,e,t,n,o,s,a,c){this._driver=r,this.element=e,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=or,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new sr(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;let t=r,n=this.options;t.duration!=null&&(n.duration=vt(t.duration)),t.delay!=null&&(n.delay=vt(t.delay));let o=t.params;if(o){let s=n.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Hi(o[a],s,this.errors))})}}_copyOptions(){let r={};if(this.options){let e=this.options.params;if(e){let t=r.params={};Object.keys(e).forEach(n=>{t[n]=e[n]})}}return r}createSubContext(r=null,e,t){let n=e||this.element,o=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(r),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(r){return this.previousNode=or,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,t){let n={duration:e??r.duration,delay:this.currentTimeline.currentTime+(t??0)+r.delay,easing:""},o=new eo(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,n,r.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,t,n,o,s){let a=[];if(n&&a.push(this.element),r.length>0){r=r.replace(qm,"."+this._enterClassName),r=r.replace(Ym,"."+this._leaveClassName);let c=t!=1,u=this._driver.query(this.element,r,c);t!==0&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),a.push(...u)}return!o&&a.length==0&&s.push(lm(e)),a}},sr=class i{constructor(r,e,t,n){this._driver=r,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new i(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Gm,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles.set(r,e),this._globalTimelineStyles.set(r,e),this._styleSummary.set(r,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||mt),this._currentKeyframe.set(e,mt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,t,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},s=Wm(r,this._globalTimelineStyles);for(let[a,c]of s){let u=Hi(c,o,t);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mt),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,e)=>{this._currentKeyframe.set(e,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,r)}))}snapshotCurrentStyles(){for(let[r,e]of this._localTimelineStyles)this._pendingStyles.set(r,e),this._updateStyle(r,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((e,t)=>{let n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((_,g)=>{_===un?r.add(g):_===mt&&e.add(g)}),t||u.set("offset",c/this.duration),n.push(u)});let o=[...r.values()],s=[...e.values()];if(t){let a=n[0],c=new Map(a);a.set("offset",0),c.set("offset",1),n=[a,c]}return fo(this.element,n,o,s,this.duration,this.startTime,this.easing,!1)}},eo=class extends sr{constructor(r,e,t,n,o,s,a=!1){super(r,e,s.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=t+e,a=e/s,c=new Map(r[0]);c.set("offset",0),o.push(c);let u=new Map(r[0]);u.set("offset",Ea(a)),o.push(u);let _=r.length-1;for(let g=1;g<=_;g++){let C=new Map(r[g]),D=C.get("offset"),I=e+D*t;C.set("offset",Ea(I/s)),o.push(C)}t=s,e=0,n="",r=o}return fo(this.element,r,this.preStyleProps,this.postStyleProps,t,e,n,!0)}};function Ea(i,r=3){let e=Math.pow(10,r-1);return Math.round(i*e)/e}function Wm(i,r){let e=new Map,t;return i.forEach(n=>{if(n==="*"){t??=r.keys();for(let o of t)e.set(o,mt)}else for(let[o,s]of n)e.set(o,s)}),e}function Da(i,r,e,t,n,o,s,a,c,u,_,g,C){return{type:0,element:i,triggerName:r,isRemovalTransition:n,fromState:e,fromStyles:o,toState:t,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:_,totalTime:g,errors:C}}var Hr={},ar=class{constructor(r,e,t){this._triggerName=r,this.ast=e,this._stateStyles=t}match(r,e,t,n){return Km(this.ast.matchers,r,e,t,n)}buildStyles(r,e,t){let n=this._stateStyles.get("*");return r!==void 0&&(n=this._stateStyles.get(r?.toString())||n),n?n.buildStyles(e,t):new Map}build(r,e,t,n,o,s,a,c,u,_){let g=[],C=this.ast.options&&this.ast.options.params||Hr,D=a&&a.params||Hr,I=this.buildStyles(t,D,g),O=c&&c.params||Hr,H=this.buildStyles(n,O,g),j=new Set,ne=new Map,De=new Map,ve=n==="void",qt={params:Va(O,C),delay:this.ast.options?.delay},rt=_?[]:za(r,e,this.ast.animation,o,s,I,H,qt,u,g),xe=0;return rt.forEach(Te=>{xe=Math.max(Te.duration+Te.delay,xe)}),g.length?Da(e,this._triggerName,t,n,ve,I,H,[],[],ne,De,xe,g):(rt.forEach(Te=>{let kt=Te.element,Qt=Ue(ne,kt,new Set);Te.preStyleProps.forEach(At=>Qt.add(At));let go=Ue(De,kt,new Set);Te.postStyleProps.forEach(At=>go.add(At)),kt!==e&&j.add(kt)}),Da(e,this._triggerName,t,n,ve,I,H,rt,[...j.values()],ne,De,xe))}};function Km(i,r,e,t,n){return i.some(o=>o(r,e,t,n))}function Va(i,r){let e=ae({},r);return Object.entries(i).forEach(([t,n])=>{n!=null&&(e[t]=n)}),e}var to=class{constructor(r,e,t){this.styles=r,this.defaultParams=e,this.normalizer=t}buildStyles(r,e){let t=new Map,n=Va(r,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Hi(s,n,e));let c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),t.set(a,s)})}),t}};function Xm(i,r,e){return new io(i,r,e)}var io=class{constructor(r,e,t){this.name=r,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new to(n.style,o,t))}),xa(this.states,"true","1"),xa(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new ar(r,n,this.states))}),this.fallbackTransition=Zm(r,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,t,n){return this.transitionFactories.find(s=>s.match(r,e,t,n))||null}matchStyles(r,e,t){return this.fallbackTransition.buildStyles(r,e,t)}};function Zm(i,r,e){let t=[(s,a)=>!0],n={type:B.Sequence,steps:[],options:null},o={type:B.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new ar(i,o,r)}function xa(i,r,e){i.has(r)?i.has(e)||i.set(e,i.get(r)):i.has(e)&&i.set(r,i.get(e))}var Jm=new Ui,no=class{constructor(r,e,t){this.bodyNode=r,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,e){let t=[],n=[],o=ja(this._driver,e,t,n);if(t.length)throw pm(t);n.length&&void 0,this._animations.set(r,o)}_buildPlayer(r,e,t){let n=r.element,o=Aa(this._normalizer,r.keyframes,e,t);return this._driver.animate(n,o,r.duration,r.delay,r.easing,[],!0)}create(r,e,t={}){let n=[],o=this._animations.get(r),s,a=new Map;if(o?(s=za(this._driver,e,o,Na,qr,new Map,new Map,t,Jm,n),s.forEach(_=>{let g=Ue(a,_.element,new Map);_.postStyleProps.forEach(C=>g.set(C,null))})):(n.push(hm()),s=[]),n.length)throw fm(n);a.forEach((_,g)=>{_.forEach((C,D)=>{_.set(D,this._driver.computeStyle(g,D,mt))})});let c=s.map(_=>{let g=a.get(_.element);return this._buildPlayer(_,new Map,g)}),u=Mt(c);return this._playersById.set(r,u),u.onDestroy(()=>this.destroy(r)),this.players.push(u),u}destroy(r){let e=this._getPlayer(r);e.destroy(),this._playersById.delete(r);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(r){let e=this._playersById.get(r);if(!e)throw gm(r);return e}listen(r,e,t,n){let o=co(e,"","","");return lo(this._getPlayer(r),t,o,n),()=>{}}command(r,e,t,n){if(t=="register"){this.register(r,n[0]);return}if(t=="create"){let s=n[0]||{};this.create(r,e,s);return}let o=this._getPlayer(r);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(r);break}}},Ta="ng-animate-queued",eu=".ng-animate-queued",Ur="ng-animate-disabled",tu=".ng-animate-disabled",iu="ng-star-inserted",nu=".ng-star-inserted",ru=[],Ha={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ou={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nt="__ng_removed",Gi=class{get params(){return this.options.params}constructor(r,e=""){this.namespaceId=e;let t=r&&r.hasOwnProperty("value"),n=t?r.value:r;if(this.value=au(n),t){let o=r,{value:s}=o,a=bo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let e=r.params;if(e){let t=this.options.params;Object.keys(e).forEach(n=>{t[n]==null&&(t[n]=e[n])})}}},Vi="void",Gr=new Gi(Vi),ro=class{constructor(r,e,t){this.id=r,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Ze(e,this._hostClassName)}listen(r,e,t,n){if(!this._triggers.has(e))throw _m(t,e);if(t==null||t.length==0)throw ym(e);if(!lu(t))throw vm(t,e);let o=Ue(this._elementListeners,r,[]),s={name:e,phase:t,callback:n};o.push(s);let a=Ue(this._engine.statesByElement,r,new Map);return a.has(e)||(Ze(r,Kn),Ze(r,Kn+"-"+e),a.set(e,Gr)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(r,e){return this._triggers.has(r)?!1:(this._triggers.set(r,e),!0)}_getTrigger(r){let e=this._triggers.get(r);if(!e)throw bm(r);return e}trigger(r,e,t,n=!0){let o=this._getTrigger(e),s=new $i(this.id,e,r),a=this._engine.statesByElement.get(r);a||(Ze(r,Kn),Ze(r,Kn+"-"+e),this._engine.statesByElement.set(r,a=new Map));let c=a.get(e),u=new Gi(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(e,u),c||(c=Gr),!(u.value===Vi)&&c.value===u.value){if(!mu(c.params,u.params)){let O=[],H=o.matchStyles(c.value,c.params,O),j=o.matchStyles(u.value,u.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Ut(r,H),pt(r,j)})}return}let C=Ue(this._engine.playersByElement,r,[]);C.forEach(O=>{O.namespaceId==this.id&&O.triggerName==e&&O.queued&&O.destroy()});let D=o.matchTransition(c.value,u.value,r,u.params),I=!1;if(!D){if(!n)return;D=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:D,fromState:c,toState:u,player:s,isFallbackTransition:I}),I||(Ze(r,Ta),s.onStart(()=>{Ti(r,Ta)})),s.onDone(()=>{let O=this.players.indexOf(s);O>=0&&this.players.splice(O,1);let H=this._engine.playersByElement.get(r);if(H){let j=H.indexOf(s);j>=0&&H.splice(j,1)}}),this.players.push(s),C.push(s),s}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(e=>e.delete(r)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(n=>n.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let e=this._engine.playersByElement.get(r);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){let t=this._engine.driver.query(r,tr,!0);t.forEach(n=>{if(n[nt])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(s=>s.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(r,e,t,n){let o=this._engine.statesByElement.get(r),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let _=this.trigger(r,u,Vi,n);_&&a.push(_)}}),a.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,s),t&&Mt(a).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let e=this._elementListeners.get(r),t=this._engine.statesByElement.get(r);if(e&&t){let n=new Set;e.forEach(o=>{let s=o.name;if(n.has(s))return;n.add(s);let c=this._triggers.get(s).fallbackTransition,u=t.get(s)||Gr,_=new Gi(Vi),g=new $i(this.id,s,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:s,transition:c,fromState:u,toState:_,player:g,isFallbackTransition:!0})})}}removeNode(r,e){let t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let n=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(r):[];if(o&&o.length)n=!0;else{let s=r;for(;s=s.parentNode;)if(t.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(r),n)t.markElementAsRemoved(this.id,r,!1,e);else{let o=r[nt];(!o||o===Ha)&&(t.afterFlush(()=>this.clearElementCache(r)),t.destroyInnerAnimations(r),t._onRemovalComplete(r,e))}}insertNode(r,e){Ze(r,this._hostClassName)}drainQueuedTransitions(r){let e=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let o=t.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==t.triggerName){let c=co(o,t.triggerName,t.fromState.value,t.toState.value);c._data=r,lo(t.player,a.phase,c,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(t)}),this._queue=[],e.sort((t,n)=>{let o=t.transition.ast.depCount,s=n.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},oo=class{_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}constructor(r,e,t){this.bodyNode=r,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,o)=>{}}get queuedPlayers(){let r=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&r.push(t)})}),r}createNamespace(r,e){let t=new ro(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[r]=t}_balanceNamespaceList(r,e){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let c=n.get(a);if(c){let u=t.indexOf(c);t.splice(u+1,0,r),s=!0;break}a=this.driver.getParentElement(a)}s||t.unshift(r)}else t.push(r);return n.set(e,r),r}register(r,e){let t=this._namespaceLookup[r];return t||(t=this.createNamespace(r,e)),t}registerTrigger(r,e,t){let n=this._namespaceLookup[r];n&&n.register(e,t)&&this.totalAnimations++}destroy(r,e){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(r);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(e),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let e=new Set,t=this.statesByElement.get(r);if(t){for(let n of t.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(r,e,t,n){if(Jn(e)){let o=this._fetchNamespace(r);if(o)return o.trigger(e,t,n),!0}return!1}insertNode(r,e,t,n){if(!Jn(e))return;let o=e[nt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(r){let s=this._fetchNamespace(r);s&&s.insertNode(e,t)}n&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Ze(r,Ur)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ti(r,Ur))}removeNode(r,e,t){if(Jn(e)){let n=r?this._fetchNamespace(r):null;n?n.removeNode(e,t):this.markElementAsRemoved(r,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==r&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(r,e,t,n,o){this.collectedLeaveElements.push(e),e[nt]={namespaceId:r,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(r,e,t,n,o){return Jn(e)?this._fetchNamespace(r).listen(e,t,n,o):()=>{}}_buildInstruction(r,e,t,n,o){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,t,n,r.fromState.options,r.toState.options,e,o)}destroyInnerAnimations(r){let e=this.driver.query(r,tr,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(r,Qr,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(r){let e=this.playersByElement.get(r);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(r){let e=this.playersByQueriedElement.get(r);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Mt(this.players).onDone(()=>r());r()})}processLeaveNode(r){let e=r[nt];if(e&&e.setForRemoval){if(r[nt]=Ha,e.namespaceId){this.destroyInnerAnimations(r);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}r.classList?.contains(Ur)&&this.markElementAsDisabled(r,!1),this.driver.query(r,tu,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];Ze(n,iu)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,r)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?Mt(e).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(r){throw Cm(r)}_flushAnimations(r,e){let t=new Ui,n=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,_=new Set;this.disabledNodes.forEach(S=>{_.add(S);let k=this.driver.query(S,eu,!0);for(let A=0;A<k.length;A++)_.add(k[A])});let g=this.bodyNode,C=Array.from(this.statesByElement.keys()),D=Ma(C,this.collectedEnterElements),I=new Map,O=0;D.forEach((S,k)=>{let A=Na+O++;I.set(k,A),S.forEach(z=>Ze(z,A))});let H=[],j=new Set,ne=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){let k=this.collectedLeaveElements[S],A=k[nt];A&&A.setForRemoval&&(H.push(k),j.add(k),A.hasAnimation?this.driver.query(k,nu,!0).forEach(z=>j.add(z)):ne.add(k))}let De=new Map,ve=Ma(C,Array.from(j));ve.forEach((S,k)=>{let A=qr+O++;De.set(k,A),S.forEach(z=>Ze(z,A))}),r.push(()=>{D.forEach((S,k)=>{let A=I.get(k);S.forEach(z=>Ti(z,A))}),ve.forEach((S,k)=>{let A=De.get(k);S.forEach(z=>Ti(z,A))}),H.forEach(S=>{this.processLeaveNode(S)})});let qt=[],rt=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach(A=>{let z=A.player,he=A.element;if(qt.push(z),this.collectedEnterElements.length){let Ce=he[nt];if(Ce&&Ce.setForMove){if(Ce.previousTriggersValues&&Ce.previousTriggersValues.has(A.triggerName)){let Ot=Ce.previousTriggersValues.get(A.triggerName),Ge=this.statesByElement.get(A.element);if(Ge&&Ge.has(A.triggerName)){let qi=Ge.get(A.triggerName);qi.value=Ot,Ge.set(A.triggerName,qi)}}z.destroy();return}}let ot=!g||!this.driver.containsElement(g,he),Pe=De.get(he),bt=I.get(he),X=this._buildInstruction(A,t,bt,Pe,ot);if(X.errors&&X.errors.length){rt.push(X);return}if(ot){z.onStart(()=>Ut(he,X.fromStyles)),z.onDestroy(()=>pt(he,X.toStyles)),n.push(z);return}if(A.isFallbackTransition){z.onStart(()=>Ut(he,X.fromStyles)),z.onDestroy(()=>pt(he,X.toStyles)),n.push(z);return}let vo=[];X.timelines.forEach(Ce=>{Ce.stretchStartingKeyframe=!0,this.disabledNodes.has(Ce.element)||vo.push(Ce)}),X.timelines=vo,t.append(he,X.timelines);let Wa={instruction:X,player:z,element:he};s.push(Wa),X.queriedElements.forEach(Ce=>Ue(a,Ce,[]).push(z)),X.preStyleProps.forEach((Ce,Ot)=>{if(Ce.size){let Ge=c.get(Ot);Ge||c.set(Ot,Ge=new Set),Ce.forEach((qi,pr)=>Ge.add(pr))}}),X.postStyleProps.forEach((Ce,Ot)=>{let Ge=u.get(Ot);Ge||u.set(Ot,Ge=new Set),Ce.forEach((qi,pr)=>Ge.add(pr))})});if(rt.length){let S=[];rt.forEach(k=>{S.push(wm(k.triggerName,k.errors))}),qt.forEach(k=>k.destroy()),this.reportError(S)}let xe=new Map,Te=new Map;s.forEach(S=>{let k=S.element;t.has(k)&&(Te.set(k,k),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,xe))}),n.forEach(S=>{let k=S.element;this._getPreviousPlayers(k,!1,S.namespaceId,S.triggerName,null).forEach(z=>{Ue(xe,k,[]).push(z),z.destroy()})});let kt=H.filter(S=>ka(S,c,u)),Qt=new Map;Ra(Qt,this.driver,ne,u,mt).forEach(S=>{ka(S,c,u)&&kt.push(S)});let At=new Map;D.forEach((S,k)=>{Ra(At,this.driver,new Set(S),c,un)}),kt.forEach(S=>{let k=Qt.get(S),A=At.get(S);Qt.set(S,new Map([...k?.entries()??[],...A?.entries()??[]]))});let ur=[],_o=[],yo={};s.forEach(S=>{let{element:k,player:A,instruction:z}=S;if(t.has(k)){if(_.has(k)){A.onDestroy(()=>pt(k,z.toStyles)),A.disabled=!0,A.overrideTotalTime(z.totalTime),n.push(A);return}let he=yo;if(Te.size>1){let Pe=k,bt=[];for(;Pe=Pe.parentNode;){let X=Te.get(Pe);if(X){he=X;break}bt.push(Pe)}bt.forEach(X=>Te.set(X,he))}let ot=this._buildAnimation(A.namespaceId,z,xe,o,At,Qt);if(A.setRealPlayer(ot),he===yo)ur.push(A);else{let Pe=this.playersByElement.get(he);Pe&&Pe.length&&(A.parentPlayer=Mt(Pe)),n.push(A)}}else Ut(k,z.fromStyles),A.onDestroy(()=>pt(k,z.toStyles)),_o.push(A),_.has(k)&&n.push(A)}),_o.forEach(S=>{let k=o.get(S.element);if(k&&k.length){let A=Mt(k);S.setRealPlayer(A)}}),n.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<H.length;S++){let k=H[S],A=k[nt];if(Ti(k,qr),A&&A.hasAnimation)continue;let z=[];if(a.size){let ot=a.get(k);ot&&ot.length&&z.push(...ot);let Pe=this.driver.query(k,Qr,!0);for(let bt=0;bt<Pe.length;bt++){let X=a.get(Pe[bt]);X&&X.length&&z.push(...X)}}let he=z.filter(ot=>!ot.destroyed);he.length?cu(this,k,he):this.processLeaveNode(k)}return H.length=0,ur.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();let k=this.players.indexOf(S);this.players.splice(k,1)}),S.play()}),ur}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,t,n,o){let s=[];if(e){let a=this.playersByQueriedElement.get(r);a&&(s=a)}else{let a=this.playersByElement.get(r);if(a){let c=!o||o==Vi;a.forEach(u=>{u.queued||!c&&u.triggerName!=n||s.push(u)})}}return(t||n)&&(s=s.filter(a=>!(t&&t!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(r,e,t){let n=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:r,a=e.isRemovalTransition?void 0:n;for(let c of e.timelines){let u=c.element,_=u!==o,g=Ue(t,u,[]);this._getPreviousPlayers(u,_,s,a,e.toState).forEach(D=>{let I=D.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),D.destroy(),g.push(D)})}Ut(o,e.fromStyles)}_buildAnimation(r,e,t,n,o,s){let a=e.triggerName,c=e.element,u=[],_=new Set,g=new Set,C=e.timelines.map(I=>{let O=I.element;_.add(O);let H=O[nt];if(H&&H.removedBeforeQueried)return new fi(I.duration,I.delay);let j=O!==c,ne=du((t.get(O)||ru).map(xe=>xe.getRealPlayer())).filter(xe=>{let Te=xe;return Te.element?Te.element===O:!1}),De=o.get(O),ve=s.get(O),qt=Aa(this._normalizer,I.keyframes,De,ve),rt=this._buildPlayer(I,qt,ne);if(I.subTimeline&&n&&g.add(O),j){let xe=new $i(r,a,O);xe.setRealPlayer(rt),u.push(xe)}return rt});u.forEach(I=>{Ue(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>su(this.playersByQueriedElement,I.element,I))}),_.forEach(I=>Ze(I,Ca));let D=Mt(C);return D.onDestroy(()=>{_.forEach(I=>Ti(I,Ca)),pt(c,e.toStyles)}),g.forEach(I=>{Ue(n,I,[]).push(D)}),D}_buildPlayer(r,e,t){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,t):new fi(r.duration,r.delay)}},$i=class{constructor(r,e,t){this.namespaceId=r,this.triggerName=e,this.element=t,this._player=new fi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((e,t)=>{e.forEach(n=>lo(r,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){Ue(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let e=this._player;e.triggerCallback&&e.triggerCallback(r)}};function su(i,r,e){let t=i.get(r);if(t){if(t.length){let n=t.indexOf(e);t.splice(n,1)}t.length==0&&i.delete(r)}return t}function au(i){return i??null}function Jn(i){return i&&i.nodeType===1}function lu(i){return i=="start"||i=="done"}function Ia(i,r){let e=i.style.display;return i.style.display=r??"none",e}function Ra(i,r,e,t,n){let o=[];e.forEach(c=>o.push(Ia(c)));let s=[];t.forEach((c,u)=>{let _=new Map;c.forEach(g=>{let C=r.computeStyle(u,g,n);_.set(g,C),(!C||C.length==0)&&(u[nt]=ou,s.push(u))}),i.set(u,_)});let a=0;return e.forEach(c=>Ia(c,o[a++])),s}function Ma(i,r){let e=new Map;if(i.forEach(a=>e.set(a,[])),r.length==0)return e;let t=1,n=new Set(r),o=new Map;function s(a){if(!a)return t;let c=o.get(a);if(c)return c;let u=a.parentNode;return e.has(u)?c=u:n.has(u)?c=t:c=s(u),o.set(a,c),c}return r.forEach(a=>{let c=s(a);c!==t&&e.get(c).push(a)}),e}function Ze(i,r){i.classList?.add(r)}function Ti(i,r){i.classList?.remove(r)}function cu(i,r,e){Mt(e).onDone(()=>i.processLeaveNode(r))}function du(i){let r=[];return Ua(i,r),r}function Ua(i,r){for(let e=0;e<i.length;e++){let t=i[e];t instanceof br?Ua(t.players,r):r.push(t)}}function mu(i,r){let e=Object.keys(i),t=Object.keys(r);if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!r.hasOwnProperty(o)||i[o]!==r[o])return!1}return!0}function ka(i,r,e){let t=e.get(i);if(!t)return!1;let n=r.get(i);return n?t.forEach(o=>n.add(o)):r.set(i,t),e.delete(i),!0}var Ii=class{constructor(r,e,t){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(n,o)=>{},this._transitionEngine=new oo(r.body,e,t),this._timelineEngine=new no(r.body,e,t),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(r,e,t,n,o){let s=r+"-"+n,a=this._triggerCache[s];if(!a){let c=[],u=[],_=ja(this._driver,o,c,u);if(c.length)throw mm(n,c);u.length&&void 0,a=Xm(n,_,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,n,a)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,t,n){this._transitionEngine.insertNode(r,e,t,n)}onRemove(r,e,t){this._transitionEngine.removeNode(r,e,t)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,t,n){if(t.charAt(0)=="@"){let[o,s]=va(t),a=n;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(r,e,t,n)}listen(r,e,t,n,o){if(t.charAt(0)=="@"){let[s,a]=va(t);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(r,e,t,n,o)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function uu(i,r){let e=null,t=null;return Array.isArray(r)&&r.length?(e=$r(r[0]),r.length>1&&(t=$r(r[r.length-1]))):r instanceof Map&&(e=$r(r)),e||t?new so(i,e,t):null}var so=class i{static{this.initialStylesByElement=new WeakMap}constructor(r,e,t){this._element=r,this._startStyles=e,this._endStyles=t,this._state=0;let n=i.initialStylesByElement.get(r);n||i.initialStylesByElement.set(r,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pt(this._element,this._initialStyles),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ut(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ut(this._element,this._endStyles),this._endStyles=null),pt(this._element,this._initialStyles),this._state=3)}};function $r(i){let r=null;return i.forEach((e,t)=>{pu(t)&&(r=r||new Map,r.set(t,e))}),r}function pu(i){return i==="display"||i==="position"}var lr=class{constructor(r,e,t,n){this.element=r,this.keyframes=e,this.options=t,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let e=[];return r.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(r,e,t){return r.animate(this._convertKeyframesToObject(e),t)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&r.set(n,this._finished?t:ho(this.element,n))}),this.currentSnapshot=r}triggerCallback(r){let e=r==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},cr=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,e){return Oa(r,e)}getParentElement(r){return mo(r)}query(r,e,t){return Pa(r,e,t)}computeStyle(r,e,t){return ho(r,e)}animate(r,e,t,n,o,s=[]){let a=n==0?"both":"forwards",c={duration:t,delay:n,fill:a};o&&(c.easing=o);let u=new Map,_=s.filter(D=>D instanceof lr);Om(t,n)&&_.forEach(D=>{D.currentSnapshot.forEach((I,O)=>u.set(O,I))});let g=Mm(e).map(D=>new Map(D));g=Pm(r,g,u);let C=uu(r,g);return new lr(r,g,c,C)}};var er="@",Ga="@.disabled",dr=class{constructor(r,e,t,n){this.namespaceId=r,this.delegate=e,this.engine=t,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,t,n=!0){this.delegate.insertBefore(r,e,t),this.engine.onInsert(this.namespaceId,e,r,n)}removeChild(r,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,t,n){this.delegate.setAttribute(r,e,t,n)}removeAttribute(r,e,t){this.delegate.removeAttribute(r,e,t)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,t,n){this.delegate.setStyle(r,e,t,n)}removeStyle(r,e,t){this.delegate.removeStyle(r,e,t)}setProperty(r,e,t){e.charAt(0)==er&&e==Ga?this.disableAnimations(r,!!t):this.delegate.setProperty(r,e,t)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,t){return this.delegate.listen(r,e,t)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}},ao=class extends dr{constructor(r,e,t,n,o){super(e,t,n,o),this.factory=r,this.namespaceId=e}setProperty(r,e,t){e.charAt(0)==er?e.charAt(1)=="."&&e==Ga?(t=t===void 0?!0:!!t,this.disableAnimations(r,t)):this.engine.process(this.namespaceId,r,e.slice(1),t):this.delegate.setProperty(r,e,t)}listen(r,e,t){if(e.charAt(0)==er){let n=hu(r),o=e.slice(1),s="";return o.charAt(0)!=er&&([o,s]=fu(o)),this.engine.listen(this.namespaceId,n,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,t,a)})}return this.delegate.listen(r,e,t)}};function hu(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function fu(i){let r=i.indexOf("."),e=i.substring(0,r),t=i.slice(r+1);return[e,t]}var mr=class{constructor(r,e,t){this.delegate=r,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,o)=>{o?.removeChild(null,n)}}createRenderer(r,e){let t="",n=this.delegate.createRenderer(r,e);if(!r||!e?.data?.animation){let u=this._rendererCache,_=u.get(n);if(!_){let g=()=>u.delete(n);_=new dr(t,n,this.engine,g),u.set(n,_)}return _}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,r);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,r,u.name,u)};return e.data.animation.forEach(a),new ao(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,e,t){if(r>=0&&r<this._microtaskId){this._zone.run(()=>e(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var _u=(()=>{class i extends Ii{constructor(e,t,n){super(e,t,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||i)(q(We),q(Gt),q($t))}}static{this.\u0275prov=le({token:i,factory:i.\u0275fac})}}return i})();function yu(){return new nr}function vu(i,r,e){return new mr(i,r,e)}var qa=[{provide:$t,useFactory:yu},{provide:Ii,useClass:_u},{provide:Do,useFactory:vu,deps:[jo,Ii,Ne]}],$a=[{provide:Gt,useFactory:()=>new cr},{provide:at,useValue:"BrowserAnimations"},...qa],bu=[{provide:Gt,useClass:uo},{provide:at,useValue:"NoopAnimations"},...qa],Qa=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?bu:$a}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:$a,imports:[Vo]})}}return i})();var Ya=(i,r)=>{let e=se(vn);return e.show(),r(i).pipe(Xi(()=>e.hide()))};function Cu(i){return new bn(i,"/assets/i18n/",".json")}var wu=(i,r)=>{let e=se(Se);console.log("[AuthInterceptor] interceptando request:",i.url);let t=localStorage.getItem("forestPlus_token"),n=t?i.clone({setHeaders:{Authorization:`Bearer ${t}`}}):i;return r(n).pipe(hr(o=>o.status===401||o.status===403?localStorage.getItem("forestPlus_refresh_token")?e.refreshToken().pipe(wo(a=>{if(a.token&&a.refreshToken)localStorage.setItem("forestPlus_token",a.token),localStorage.setItem("forestPlus_refresh_token",a.refreshToken);else return e.logout(),Ri(()=>new Error("Refresh token inv\xE1lido"));let c=i.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return r(c)}),hr(a=>(e.logout(),Ri(()=>a)))):(e.logout(),Ri(()=>o)):Ri(()=>o)))};zo(Ss,{providers:[Zo(Xo.apiBaseUrl),Uo(_a),So(Qa,Y.forRoot({loader:{provide:Go,useFactory:Cu,deps:[No]}})),Lo(Bo([Ya,wu]))]}).catch(i=>console.error(i));export{Cu as HttpLoaderFactory,wu as authInterceptor};
