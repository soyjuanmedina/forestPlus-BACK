import{a as h}from"./chunk-L5QNOXUY.js";import{a as l}from"./chunk-I6AMTEEF.js";import{Gb as p,H as a,K as u,Tc as d,n as o}from"./chunk-CQCTACGQ.js";var s=function(e){return e.ADMIN="ADMIN",e.USER="USER",e.COMPANY_ADMIN="COMPANY_ADMIN",e.COMPANY_USER="COMPANY_USER",e}(s||{}),c=[{value:s.ADMIN,label:"Administrador"},{value:s.USER,label:"Usuario"},{value:s.COMPANY_ADMIN,label:"Administrador de Compa\xF1\xEDa"},{value:s.COMPANY_USER,label:"Usuario de Compa\xF1\xEDa"}];var g=(()=>{class e{constructor(r,t,i){this.userController=r,this.http=t,this.authService=i,this.user$=this.authService.user$}getUser(){return this.authService.user$}updateCurrentUser(r){this.authService.updateCurrentUser(r)}getCurrentUser(){return this.authService.getUser()}getCurrentUser$(){return this.authService.user$}getUsers(r=0,t=10,i="id,asc",n,U){return this.userController.getUsers(n,U,r,t,i)}getUserById(r){return this.userController.getUserById(r)}updateUser(r,t){return this.userController.updateUser(r,t).pipe(o(i=>(this.getCurrentUser()?.id===i.id&&this.authService.updateCurrentUser(i),i)))}updateUserByAdmin(r,t){return this.userController.updateUserByAdmin(r,t)}registerUserByAdmin(r){return this.userController.registerUserByAdmin(r)}deleteUser(r){return this.userController.deleteUser(r)}isAdminOrCompanyAdmin(){let r=this.getCurrentUser();return!!r&&(r.role===s.ADMIN||r.role===s.COMPANY_ADMIN)}updateUserPicture(r,t){let i=new FormData;return i.append("file",t),this.http.put(`${l.apiBaseUrl}/api/users/${r}/picture`,i).pipe(o(n=>(this.getCurrentUser()?.id===n.id&&this.authService.updateCurrentUser(n),n)))}static{this.\u0275fac=function(t){return new(t||e)(u(d),u(p),u(h))}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{s as a,c as b,g as c};
