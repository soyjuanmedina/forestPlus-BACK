import{a as Or,b as it,c as Ce,d as K}from"./chunk-WGHYFE3A.js";import{a as jr,b as Vr,c as $r,d as Kr,e as hn,f as Wr,g as Qr,h as Hr}from"./chunk-P6GH42AD.js";import{a as j,b as Nr,c as oe,d as ee,e as Oi}from"./chunk-IZJ4W4TV.js";import{a as Ri}from"./chunk-5BUBBXBX.js";import{a as st}from"./chunk-LF5WZ7KE.js";import{a as ge,b as se}from"./chunk-P4UYLIGP.js";import{$ as y,$a as wr,$b as ot,A as Ne,Aa as kt,B as Fe,Ba as m,Bb as Jt,C as q,Ca as P,D as Me,Da as C,E as A,Ea as Qe,F as Le,Fa as vr,G as ft,Ga as Ie,Ha as Ae,Hb as Fr,I as mr,Ia as De,Ib as ze,J as N,Ja as D,Jb as ae,K as F,Ka as et,Kb as Lr,L as Zt,La as b,Lb as Rt,M as gi,Ma as S,Mb as te,N as sn,Na as gt,Nb as xe,O as Xe,Oa as Pt,Ob as ne,P as ht,Pa as Si,Pb as we,Q as Mt,Qa as Ei,Qb as Nt,R as Ke,Ra as tt,Rb as rt,S as Ze,Sa as br,Sb as Ft,T as Je,Ta as Sr,U as d,Ua as Ee,Ub as Lt,V as h,Va as Q,Vb as Bt,W as pr,Wa as Er,X as ur,Xa as Ci,Y as It,Ya as Cr,Z as fr,Za as B,_ as hr,_a as xr,_b as jt,a as de,aa as gr,ab as Tr,ac as Vt,b as pi,ba as Be,bb as Mr,bc as L,c as or,ca as f,cb as Ir,cc as Ge,d as $e,da as _i,db as Ar,e as ar,ea as je,eb as Ve,fa as yi,fb as Ot,fc as Br,g as sr,gb as H,gc as pn,h as Yt,ha as l,hb as Ue,ia as c,ib as Dr,j as lr,ja as O,jb as kr,jc as Ut,ka as fe,kb as Pr,kc as un,l as ui,la as he,lb as Y,lc as Di,ma as vi,mb as xi,mc as Ur,n as cr,na as z,nb as wi,o as Xt,oa as ln,ob as Ti,oc as fn,p as an,pb as dn,pc as zr,qa as x,qc as Gr,r as Tt,rc as ei,s as fi,sa as _,sc as ti,ta as _r,tb as Mi,tc as qr,u as hi,ua as cn,ub as Ii,uc as ki,v as dr,va as We,vc as zt,wa as yr,wb as Ai,wc as at,xa as bi,xb as Rr,xc as Pi,y as U,ya as At,yb as mn,z as ue,za as Dt,zb as nt}from"./chunk-N25POV3O.js";var aa=["determinateSpinner"];function sa(n,i){if(n&1&&(Zt(),l(0,"svg",11),O(1,"circle",12),c()),n&2){let e=_();Be("viewBox",e._viewBox()),d(),_i("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Be("r",e._circleRadius())}}var la=new Fe("mat-progress-spinner-default-options",{providedIn:"root",factory:ca});function ca(){return{diameter:Yr}}var Yr=100,da=10,Xr=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,t,r){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=Yr,this._noopAnimations=t==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-da)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(t){return new(t||n)(h(Ke),h(Ze,8),h(la))}}static{this.\u0275cmp=A({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,r){if(t&1&&bi(aa,5),t&2){let o;At(o=Dt())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,r){t&2&&(Be("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),yi("mat-"+r.color),_i("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),je("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Ei],diameter:[2,"diameter","diameter",Ei],strokeWidth:[2,"strokeWidth","strokeWidth",Ei]},exportAs:["matProgressSpinner"],standalone:!0,features:[hr,D],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,r){if(t&1&&(y(0,sa,2,8,"ng-template",null,0,Pt),l(2,"div",2,1),Zt(),l(4,"svg",3),O(5,"circle",4),c()(),gi(),l(6,"div",5)(7,"div",6)(8,"div",7),vi(9,8),c(),l(10,"div",9),vi(11,8),c(),l(12,"div",10),vi(13,8),c()()()),t&2){let o=kt(1);d(4),Be("viewBox",r._viewBox()),d(),_i("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Be("r",r._circleRadius()),d(4),f("ngTemplateOutlet",o),d(2),f("ngTemplateOutlet",o),d(2),f("ngTemplateOutlet",o)}},dependencies:[Er],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return n})();var Ni=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Le({type:n})}static{this.\u0275inj=Ne({imports:[B,nt]})}}return n})();var Fi=(()=>{class n{constructor(){this.loadingSubject=new ar(!1),this.loading$=this.loadingSubject.asObservable(),this.requests=0}show(){this.requests++,this.loadingSubject.next(!0)}hide(){this.requests--,this.requests<=0&&(this.requests=0,this.loadingSubject.next(!1))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ua(n,i){n&1&&(l(0,"div",1),O(1,"mat-spinner",2),c())}var Zr=(()=>{class n{constructor(e){this.loadingService=e,this.loading$=this.loadingService.loading$}static{this.\u0275fac=function(t){return new(t||n)(h(Fi))}}static{this.\u0275cmp=A({type:n,selectors:[["app-loading-spinner"]],standalone:!0,features:[D],decls:2,vars:3,consts:[["class","fixed inset-0 bg-gray-200 bg-opacity-50 flex flex-col items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-200","bg-opacity-50","flex","flex-col","items-center","justify-center","z-50"],["diameter","50"]],template:function(t,r){t&1&&(y(0,ua,2,0,"div",0),b(1,"async")),t&2&&f("ngIf",S(1,1,r.loading$))},dependencies:[B,Q,Ci,Ni,Xr,K]})}}return n})();var Jr=(()=>{class n{constructor(e){this.translate=e,e.addLangs(["en","es"]),e.setDefaultLang("es");let t=e.getBrowserLang();e.use(t?.match(/en|es/)?t:"es")}static{this.\u0275fac=function(t){return new(t||n)(h(it))}}static{this.\u0275cmp=A({type:n,selectors:[["app-root"]],standalone:!0,features:[D],decls:2,vars:0,template:function(t,r){t&1&&O(0,"app-loading-spinner")(1,"router-outlet")},dependencies:[Ot,K,Zr]})}}return n})();var Li=class{constructor(i,e="assets/i18n/",t=".json"){this.http=i,this.prefix=e,this.suffix=t}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}};function fa(n,i){if(n&1&&(fe(0),l(1,"a",11),m(2),b(3,"translate"),c(),he()),n&2){let e=_().$implicit;d(),f("routerLink",e.route),d(),C(" ",S(3,2,e.label)," ")}}function ha(n,i){if(n&1&&(fe(0),y(1,fa,4,4,"ng-container",10),he()),n&2){let e=i.$implicit,t=_(2);d(),f("ngIf",!e.children&&t.canShow(e))}}function ga(n,i){if(n&1&&(l(0,"a",15),m(1),b(2,"translate"),c()),n&2){let e=_().$implicit;f("routerLink",e.route),d(),C(" ",S(2,2,e.label)," ")}}function _a(n,i){if(n&1&&(fe(0),y(1,ga,3,4,"a",14),he()),n&2){let e=i.$implicit,t=_(4);d(),f("ngIf",t.canShow(e))}}function ya(n,i){if(n&1&&(fe(0),l(1,"div",12),m(2),b(3,"translate"),c(),l(4,"div",13),y(5,_a,2,1,"ng-container",6),c(),he()),n&2){let e=_().$implicit;d(2),C(" ",S(3,2,e.label)," "),d(3),f("ngForOf",e.children)}}function va(n,i){if(n&1&&(fe(0),y(1,ya,6,4,"ng-container",10),he()),n&2){let e=i.$implicit,t=_(2);d(),f("ngIf",e.children&&t.canShow(e))}}function ba(n,i){if(n&1){let e=z();l(0,"button",16),x("click",function(){N(e);let r=_(2);return F(r.closeSidebar())}),c()}}function Sa(n,i){if(n&1){let e=z();fe(0),l(1,"a",19),x("click",function(){N(e);let r=_(4);return F(r.closeSidebar())}),m(2),b(3,"translate"),c(),he()}if(n&2){let e=_().$implicit;d(),f("routerLink",e.route),d(),C(" ",S(3,2,e.label)," ")}}function Ea(n,i){if(n&1&&(fe(0),y(1,Sa,4,4,"ng-container",10),he()),n&2){let e=i.$implicit,t=_(3);d(),f("ngIf",!e.children&&t.canShow(e))}}function Ca(n,i){if(n&1){let e=z();l(0,"a",21),x("click",function(){N(e);let r=_(6);return F(r.closeSidebar())}),m(1),b(2,"translate"),c()}if(n&2){let e=_().$implicit;f("routerLink",e.route),d(),C(" ",S(2,2,e.label)," ")}}function xa(n,i){if(n&1&&(fe(0),y(1,Ca,3,4,"a",20),he()),n&2){let e=i.$implicit,t=_(5);d(),f("ngIf",t.canShow(e))}}function wa(n,i){if(n&1&&(fe(0),l(1,"div",12),m(2),b(3,"translate"),c(),l(4,"div",13),y(5,xa,2,1,"ng-container",6),c(),he()),n&2){let e=_().$implicit;d(2),C(" ",S(3,2,e.label)," "),d(3),f("ngForOf",e.children)}}function Ta(n,i){if(n&1&&(fe(0),y(1,wa,6,4,"ng-container",10),he()),n&2){let e=i.$implicit,t=_(3);d(),f("ngIf",e.children&&t.canShow(e))}}function Ma(n,i){if(n&1&&(l(0,"aside",17)(1,"div",3),m(2),b(3,"translate"),c(),l(4,"div",18)(5,"nav",5),y(6,Ea,2,1,"ng-container",6),c()(),l(7,"nav",7),y(8,Ta,2,1,"ng-container",6),c()()),n&2){let e=_(2);d(2),C(" ",S(3,3,"MENU.MENU")," "),d(4),f("ngForOf",e.menuLinks),d(2),f("ngForOf",e.menuLinks)}}function Ia(n,i){if(n&1&&(fe(0),l(1,"aside",2)(2,"div",3),m(3),b(4,"translate"),c(),l(5,"div",4)(6,"nav",5),y(7,ha,2,1,"ng-container",6),c()(),l(8,"nav",7),y(9,va,2,1,"ng-container",6),c()(),y(10,ba,1,0,"button",8)(11,Ma,9,5,"aside",9),he()),n&2){let e=_();d(3),C(" ",S(4,5,"MENU.MENU")," "),d(4),f("ngForOf",e.menuLinks),d(2),f("ngForOf",e.menuLinks),d(),f("ngIf",e.sidebarOpen),d(),f("ngIf",e.sidebarOpen)}}function Aa(n,i){if(n&1){let e=z();l(0,"button",16),x("click",function(){N(e);let r=_(2);return F(r.closeSidebar())}),c()}}function Da(n,i){if(n&1){let e=z();l(0,"aside",17)(1,"div",3),m(2),b(3,"translate"),c(),l(4,"nav",5)(5,"a",24),x("click",function(){N(e);let r=_(2);return F(r.closeSidebar())}),m(6),b(7,"translate"),c(),l(8,"a",25),x("click",function(){N(e);let r=_(2);return F(r.closeSidebar())}),m(9),b(10,"translate"),c()()()}n&2&&(d(2),C(" ",S(3,3,"MENU.MENU")," "),d(4),C(" ",S(7,5,"MENU.LOGIN")," "),d(3),C(" ",S(10,7,"MENU.REGISTER")," "))}function ka(n,i){if(n&1&&(l(0,"aside",2)(1,"div",3),m(2),b(3,"translate"),c(),l(4,"nav",5)(5,"a",22),m(6),b(7,"translate"),c(),l(8,"a",23),m(9),b(10,"translate"),c()()(),y(11,Aa,1,0,"button",8)(12,Da,11,9,"aside",9)),n&2){let e=_();d(2),C(" ",S(3,5,"MENU.MENU")," "),d(4),C(" ",S(7,7,"MENU.LOGIN")," "),d(3),C(" ",S(10,9,"MENU.REGISTER")," "),d(2),f("ngIf",e.sidebarOpen),d(),f("ngIf",e.sidebarOpen)}}var eo=(()=>{class n{constructor(e){this.userService=e,this.sidebarOpen=!1,this.sidebarOpenChange=new ht,this.menuLinks=[{label:"MENU.HOME",route:"home"},{label:"MENU.PROFILE",route:"profile"},{label:"MENU.MY_COMPANY",route:"company",roles:[j.COMPANY_ADMIN,j.COMPANY_USER]},{label:"MENU.ADMIN.ADMIN",roles:[j.ADMIN,j.COMPANY_ADMIN],children:[{label:"MENU.ADMIN.USERS",route:"admin/users",roles:[j.ADMIN,j.COMPANY_ADMIN]},{label:"MENU.ADMIN.COMPANIES",route:"admin/companies",roles:[j.ADMIN]},{label:"MENU.ADMIN.TREE_TYPES",route:"admin/tree-types",roles:[j.ADMIN]}]}]}closeSidebar(){this.sidebarOpen=!1,this.sidebarOpenChange.emit(this.sidebarOpen)}canShow(e){if(!e.roles)return!0;let t=this.userService.getCurrentUser();return!!t&&e.roles.includes(t.role)}get userLinks(){return this.menuLinks.filter(e=>!e.children)}get adminLinks(){return this.menuLinks.filter(e=>e.children&&this.canShow(e))}static{this.\u0275fac=function(t){return new(t||n)(h(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["app-sidebar"]],inputs:{sidebarOpen:"sidebarOpen"},outputs:{sidebarOpenChange:"sidebarOpenChange"},standalone:!0,features:[D],decls:3,vars:2,consts:[["loggedOutLinks",""],[4,"ngIf","ngIfElse"],[1,"w-64","bg-white","shadow-md","hidden","md:flex","flex-col","h-screen"],[1,"p-4","text-xl","font-bold","border-b"],[1,"flex-1"],[1,"p-4","space-y-2"],[4,"ngFor","ngForOf"],[1,"p-4","space-y-2","border-t"],["class","fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden","aria-label","Cerrar men\xFA",3,"click",4,"ngIf"],["class","fixed inset-y-0 left-0 w-64 bg-white shadow-md z-50 md:hidden flex flex-col h-full",4,"ngIf"],[4,"ngIf"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"routerLink"],[1,"px-3","py-2","font-semibold","text-gray-700"],[1,"ml-4","space-y-1"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"routerLink"],["aria-label","Cerrar men\xFA",1,"fixed","inset-0","bg-black","bg-opacity-50","z-40","md:hidden",3,"click"],[1,"fixed","inset-y-0","left-0","w-64","bg-white","shadow-md","z-50","md:hidden","flex","flex-col","h-full"],[1,"flex-1","overflow-auto"],[1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click","routerLink"],["class","block px-3 py-1 rounded hover:bg-gray-100",3,"routerLink","click",4,"ngIf"],[1,"block","px-3","py-1","rounded","hover:bg-gray-100",3,"click","routerLink"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200"],["routerLink","login","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"],["routerLink","register","routerLinkActive","font-bold",1,"block","px-3","py-2","rounded","hover:bg-gray-200",3,"click"]],template:function(t,r){if(t&1&&y(0,Ia,12,7,"ng-container",1)(1,ka,13,11,"ng-template",null,0,Pt),t&2){let o=kt(2);f("ngIf",r.userService.getCurrentUser())("ngIfElse",o)}},dependencies:[K,Ce,B,Ee,Q,Y,Ue,Dr],styles:['@charset "UTF-8";aside[_ngcontent-%COMP%]{background-color:#fff}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:background-color .2s;display:block;border-radius:.375rem;padding:.5rem .75rem}aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}']})}}return n})();function Pa(n,i){if(n&1&&(fe(0),l(1,"div",4),O(2,"img",13),l(3,"span",14),m(4),c()(),he()),n&2){let e=i.ngIf;d(2),f("src",e.picture||"assets/default-avatar.png",Je),d(2),Qe("",e.name,"\xA0",e.surname,"")}}var to=(()=>{class n{constructor(e,t,r){this.translate=e,this.authService=t,this.router=r,this.selectedLang="es",this.selectedLangChange=new ht,this.toggleSidebar=new ht,this.currentUser$=this.authService.user$}switchLanguage(e){this.selectedLang=e,this.selectedLangChange.emit(e),this.translate.use(e)}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(t){return new(t||n)(h(it),h(oe),h(H))}}static{this.\u0275cmp=A({type:n,selectors:[["app-header"]],inputs:{selectedLang:"selectedLang"},outputs:{selectedLangChange:"selectedLangChange",toggleSidebar:"toggleSidebar"},standalone:!0,features:[D],decls:22,vars:13,consts:[[1,"flex","items-center","justify-between","bg-gradient-to-r","from-teal-500","to-green-500","text-white","p-4","shadow-md"],[1,"md:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","gap-2"],["src","assets/logo-white.png","alt","Forest+ Logo",1,"logo"],[1,"font-bold"],[1,"flex","items-center","space-x-4"],[4,"ngIf"],[1,"flex","items-center","justify-center","gap-1","bg-red-600","text-white","py-1","px-3","rounded","hover:bg-red-700","disabled:opacity-50","transition","font-semibold","text-sm",3,"click"],[1,"text-base"],[1,"language-switcher"],[3,"click"],["alt","Usuario",1,"h-8","w-8","rounded-full","border","border-white",3,"src"],[1,"font-medium"]],template:function(t,r){t&1&&(l(0,"header",0)(1,"button",1),x("click",function(){return r.onToggleSidebar()}),Zt(),l(2,"svg",2),O(3,"path",3),c()(),gi(),l(4,"div",4),O(5,"img",5),l(6,"span",6),m(7),b(8,"translate"),c()(),l(9,"div",7),y(10,Pa,5,3,"ng-container",8),b(11,"async"),l(12,"button",9),x("click",function(){return r.logout()}),m(13),b(14,"translate"),l(15,"mat-icon",10),m(16,"logout"),c()(),l(17,"div",11)(18,"button",12),x("click",function(){return r.switchLanguage("es")}),m(19,"ES"),c(),l(20,"button",12),x("click",function(){return r.switchLanguage("en")}),m(21,"EN"),c()()()()),t&2&&(d(7),P(S(8,7,"DASHBOARD.DASHBOARD")),d(3),f("ngIf",S(11,9,r.currentUser$)),d(3),C(" ",S(14,11,"DASHBOARD.LOGOUT")," "),d(5),je("active",r.selectedLang==="es"),d(2),je("active",r.selectedLang==="en"))},dependencies:[K,Ce,ae,ze,B,Q,Ci],styles:[".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;font-weight:700}.logo[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}"]})}}return n})();var io=(()=>{class n{constructor(){this.sidebarOpen=!1,this.selectedLang="es"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=A({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[D],decls:6,vars:2,consts:[[1,"flex","min-h-screen","bg-gray-100"],[3,"sidebarOpenChange","sidebarOpen"],[1,"flex-1","flex","flex-col"],[3,"selectedLangChange","toggleSidebar","selectedLang"],[1,"p-6","flex-1","overflow-auto"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"app-sidebar",1),De("sidebarOpenChange",function(a){return Ae(r.sidebarOpen,a)||(r.sidebarOpen=a),a}),c(),l(2,"div",2)(3,"app-header",3),De("selectedLangChange",function(a){return Ae(r.selectedLang,a)||(r.selectedLang=a),a}),x("toggleSidebar",function(){return r.sidebarOpen=!r.sidebarOpen}),c(),l(4,"main",4),O(5,"router-outlet"),c()()()),t&2&&(d(),Ie("sidebarOpen",r.sidebarOpen),d(2),Ie("selectedLang",r.selectedLang))},dependencies:[B,Y,Ot,K,eo,to],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:220px}.content[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.dashboard-card[_ngcontent-%COMP%]{text-align:center}.language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:.2rem .5rem;border-radius:3px;font-size:.75rem;font-weight:500;transition:all .2s}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;font-weight:700}"]})}}return n})();function Oa(n,i){if(n&1&&(l(0,"span"),m(1),c()),n&2){let e=_();d(),C(", ",e.userName,"")}}function Ra(n,i){if(n&1&&(l(0,"p",4),m(1),c()),n&2){let e=i.$implicit;d(),C(" ",e," ")}}var no=(()=>{class n{constructor(e){this.userService=e,this.userName=""}ngOnInit(){this.userService.user$.subscribe(e=>{e&&(this.userName=e.name)})}static{this.\u0275fac=function(t){return new(t||n)(h(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["app-home"]],standalone:!0,features:[D],decls:7,vars:7,consts:[[1,"home-presentation","p-8","max-w-5xl","mx-auto","text-center","space-y-6"],[1,"text-4xl","font-extrabold","text-green-800"],[4,"ngIf"],["class","text-lg text-gray-700 leading-relaxed",4,"ngFor","ngForOf"],[1,"text-lg","text-gray-700","leading-relaxed"]],template:function(t,r){t&1&&(l(0,"section",0)(1,"h1",1),m(2),b(3,"translate"),y(4,Oa,2,1,"span",2),c(),y(5,Ra,2,1,"p",3),b(6,"translate"),c()),t&2&&(d(2),P(S(3,3,"HOME.TITLE")),d(2),f("ngIf",r.userName),d(),f("ngForOf",S(6,5,"HOME.LINES")))},dependencies:[B,Ee,Q,K,Ce]})}}return n})();function Na(n,i){if(n&1&&(l(0,"p",10),m(1),c()),n&2){let e=_(2);d(),C(" Empresa: ",e.user.company==null?null:e.user.company.name," ")}}function Fa(n,i){if(n&1){let e=z();l(0,"div",1)(1,"mat-card",2)(2,"div",3),O(3,"img",4),l(4,"h2",5),m(5),c(),l(6,"p",6),m(7),c(),y(8,Na,2,1,"p",7),l(9,"div",8)(10,"button",9),x("click",function(){N(e);let r=_();return F(r.goToEdit())}),m(11," Editar "),c()()()()()}if(n&2){let e=_();d(3),f("src",e.user.picture||"assets/logo-white.png",Je),d(2),vr(" ",e.user.name," ",e.user.surname," ",e.user.secondSurname," "),d(2),P(e.user.email),d(),f("ngIf",e.user.role==="COMPANY_ADMIN"||e.user.role==="COMPANY_USER")}}var gn=(()=>{class n{constructor(e,t,r,o){this.authService=e,this.userService=t,this.router=r,this.route=o}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.userService.getUserById(+e).subscribe({next:t=>this.user=t,error:t=>{console.error("Error al cargar usuario por id",t)}}):this.authService.user$.subscribe(t=>{this.user=t??void 0})}goToEdit(){this.user?.id&&this.router.navigate([`profile/edit/${this.user.id}`])}static{this.\u0275fac=function(t){return new(t||n)(h(oe),h(ee),h(H),h(Ve))}}static{this.\u0275cmp=A({type:n,selectors:[["app-profile"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","w-full max-w-full mx-auto",4,"ngIf"],[1,"w-full","max-w-full","mx-auto"],[1,"rounded-2xl","shadow-md","p-6","md:p-8"],[1,"flex","flex-col","items-center","text-center"],["alt","Avatar",1,"w-24","h-24","rounded-full","shadow-lg","mb-4","object-cover",3,"src"],[1,"text-xl","md:text-2xl","font-semibold"],[1,"text-gray-500"],["class","text-gray-500 font-medium mt-1",4,"ngIf"],[1,"flex","gap-4","mt-4","w-full","justify-center","md:justify-start"],[1,"flex-1","md:flex-auto","bg-green-600","text-white","py-3","px-6","rounded-xl","hover:bg-green-700","transition",3,"click"],[1,"text-gray-500","font-medium","mt-1"]],template:function(t,r){t&1&&y(0,Fa,12,6,"div",0),t&2&&f("ngIf",r.user)},dependencies:[B,Q,K,se,ge,te,ae]})}}return n})();var ro=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=A({type:n,selectors:[["app-settings"]],standalone:!0,features:[D],decls:2,vars:0,template:function(t,r){t&1&&(l(0,"p"),m(1,"settings works!"),c())}})}}return n})();var La=()=>["../login"],Ba=()=>({length:6});function ja(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(S(2,1,"REGISTER.NAME_REQUIRED")))}function Va(n,i){if(n&1&&(l(0,"div",23),y(1,ja,3,3,"div",24),c()),n&2){let e,t=_(2);d(),f("ngIf",(e=t.registerForm.get("name"))==null?null:e.hasError("required"))}}function Ua(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(S(2,1,"REGISTER.SURNAME_REQUIRED")))}function za(n,i){if(n&1&&(l(0,"div",23),y(1,Ua,3,3,"div",24),c()),n&2){let e,t=_(2);d(),f("ngIf",(e=t.registerForm.get("surname"))==null?null:e.hasError("required"))}}function Ga(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(S(2,1,"REGISTER.EMAIL_REQUIRED")))}function qa(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(S(2,1,"REGISTER.EMAIL_INVALID")))}function $a(n,i){if(n&1&&(l(0,"div",23),y(1,Ga,3,3,"div",24)(2,qa,3,3,"div",24),c()),n&2){let e,t,r=_(2);d(),f("ngIf",(e=r.registerForm.get("email"))==null?null:e.hasError("required")),d(),f("ngIf",(t=r.registerForm.get("email"))==null?null:t.hasError("email"))}}function Ka(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(S(2,1,"REGISTER.PASSWORD_REQUIRED")))}function Wa(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),P(gt(2,1,"REGISTER.PASSWORD_MINLENGTH",et(4,Ba))))}function Qa(n,i){if(n&1&&(l(0,"div",23),y(1,Ka,3,3,"div",24)(2,Wa,3,5,"div",24),c()),n&2){let e,t,r=_(2);d(),f("ngIf",(e=r.registerForm.get("password"))==null?null:e.hasError("required")),d(),f("ngIf",(t=r.registerForm.get("password"))==null?null:t.hasError("minlength"))}}function Ha(n,i){if(n&1){let e=z();l(0,"form",10),x("ngSubmit",function(){N(e);let r=_();return F(r.onSubmit())}),l(1,"div",11)(2,"label",12),m(3),b(4,"translate"),c(),O(5,"input",13),b(6,"translate"),y(7,Va,2,1,"div",14),c(),l(8,"div")(9,"label",12),m(10),b(11,"translate"),c(),O(12,"input",15),b(13,"translate"),y(14,za,2,1,"div",14),c(),l(15,"div")(16,"label",12),m(17),b(18,"translate"),c(),O(19,"input",16),b(20,"translate"),c(),l(21,"div",11)(22,"label",12),m(23),b(24,"translate"),c(),O(25,"input",17),b(26,"translate"),y(27,$a,3,2,"div",14),c(),l(28,"div",18)(29,"label",12),m(30),b(31,"translate"),c(),O(32,"input",19),b(33,"translate"),l(34,"button",20),x("click",function(){N(e);let r=_();return F(r.hidePassword=!r.hidePassword)}),m(35),c(),y(36,Qa,3,2,"div",14),c(),l(37,"div",21)(38,"button",22),m(39),b(40,"translate"),c()()()}if(n&2){let e,t,r,o,a=_();f("formGroup",a.registerForm),d(3),P(S(4,19,"REGISTER.NAME")),d(2),We("placeholder",S(6,21,"REGISTER.NAME_PLACEHOLDER")),d(2),f("ngIf",((e=a.registerForm.get("name"))==null?null:e.invalid)&&((e=a.registerForm.get("name"))==null?null:e.touched)),d(3),P(S(11,23,"REGISTER.SURNAME")),d(2),We("placeholder",S(13,25,"REGISTER.SURNAME_PLACEHOLDER")),d(2),f("ngIf",((t=a.registerForm.get("surname"))==null?null:t.invalid)&&((t=a.registerForm.get("surname"))==null?null:t.touched)),d(3),P(S(18,27,"REGISTER.SECOND_SURNAME")),d(2),We("placeholder",S(20,29,"REGISTER.SECOND_SURNAME_PLACEHOLDER")),d(4),P(S(24,31,"REGISTER.EMAIL")),d(2),We("placeholder",S(26,33,"REGISTER.EMAIL_PLACEHOLDER")),d(2),f("ngIf",((r=a.registerForm.get("email"))==null?null:r.invalid)&&((r=a.registerForm.get("email"))==null?null:r.touched)),d(3),P(S(31,35,"REGISTER.PASSWORD")),d(2),We("placeholder",S(33,37,"REGISTER.PASSWORD_PLACEHOLDER")),f("type",a.hidePassword?"password":"text"),d(3),C(" ",a.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),d(),f("ngIf",((o=a.registerForm.get("password"))==null?null:o.invalid)&&((o=a.registerForm.get("password"))==null?null:o.touched)),d(2),f("disabled",a.registerForm.invalid),d(),C(" ",S(40,39,"REGISTER.BUTTON")," ")}}function Ya(n,i){n&1&&(l(0,"div",25),m(1),b(2,"translate"),c()),n&2&&(d(),C(" ",S(2,1,"REGISTER.SUCCESS")," "))}function Xa(n,i){if(n&1&&(l(0,"div",26),m(1),c()),n&2){let e=_();d(),C(" ",e.registerError," ")}}var oo=(()=>{class n{constructor(e,t){this.fb=e,this.authService=t,this.hidePassword=!0,this.registerError="",this.registerSuccess=!1,this.roles=Nr,this.registerForm=this.fb.group({name:["",ne.required],surname:[""],secondSurname:[""],email:["",[ne.required,ne.email]],password:["",[ne.required,ne.minLength(6)]],role:[j.USER]})}onSubmit(){this.registerForm.invalid||(this.registerError="",this.registerSuccess=!1,this.authService.register(this.registerForm.value).subscribe({next:()=>{this.registerSuccess=!0,this.registerForm.reset()},error:e=>this.registerError=e.error?.message||"Error al registrarse"}))}static{this.\u0275fac=function(t){return new(t||n)(h(jt),h(oe))}}static{this.\u0275cmp=A({type:n,selectors:[["app-register"]],standalone:!0,features:[D],decls:16,vars:14,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-gray-700","mb-1"],["type","text","formControlName","name",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text","formControlName","surname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","text","formControlName","secondSurname",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],[1,"md:col-span-2","relative"],["formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"md:col-span-2","mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"text-center","text-red-500","mt-4"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),O(2,"img",2),c(),l(3,"div",3)(4,"h1",4),m(5),b(6,"translate"),c(),y(7,Ha,41,41,"form",5)(8,Ya,3,3,"div",6)(9,Xa,2,1,"div",7),l(10,"p",8),m(11),b(12,"translate"),l(13,"a",9),m(14),b(15,"translate"),c()()()()),t&2&&(d(5),C(" ",S(6,7,"REGISTER.TITLE")," "),d(2),f("ngIf",!r.registerSuccess),d(),f("ngIf",r.registerSuccess),d(),f("ngIf",r.registerError),d(2),C(" ",S(12,9,"REGISTER.ALREADY_ACCOUNT")," "),d(2),f("routerLink",et(13,La)),d(),C(" ",S(15,11,"REGISTER.LOGIN")," "))},dependencies:[B,Q,K,Ce,Y,Ue,Vt,Ft,xe,we,Nt,Lt,Bt,se,jr,Vr,te,ae,$r]})}}return n})();var Za=()=>["../register"],Ja=()=>({length:6});function es(n,i){n&1&&(l(0,"p",9),m(1,"Clave incorrecta"),c())}function ts(n,i){if(n&1){let e=z();l(0,"div",2)(1,"div",3)(2,"h1",4),m(3,"\u{1F510} Acceso restringido"),c(),l(4,"p",5),m(5,"Introduce la clave de desarrollador para continuar:"),c(),l(6,"input",6),De("ngModelChange",function(r){N(e);let o=_();return Ae(o.accessKey,r)||(o.accessKey=r),F(r)}),c(),l(7,"button",7),x("click",function(){N(e);let r=_();return F(r.checkAccessKey())}),m(8," Entrar "),c(),y(9,es,2,0,"p",8),c()()}if(n&2){let e=_();d(6),Ie("ngModel",e.accessKey),d(3),f("ngIf",e.error)}}function is(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),C(" ",S(2,1,"LOGIN.EMAIL_REQUIRED")," "))}function ns(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),C(" ",S(2,1,"LOGIN.EMAIL_INVALID")," "))}function rs(n,i){if(n&1&&(l(0,"div",28),y(1,is,3,3,"div",29)(2,ns,3,3,"div",29),c()),n&2){let e,t,r=_(3);d(),f("ngIf",(e=(r.forgotMode?r.forgotForm:r.loginForm).get("email"))==null?null:e.hasError("required")),d(),f("ngIf",(t=(r.forgotMode?r.forgotForm:r.loginForm).get("email"))==null?null:t.hasError("email"))}}function os(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),C(" ",S(2,1,"LOGIN.PASSWORD_REQUIRED")," "))}function as(n,i){n&1&&(l(0,"div"),m(1),b(2,"translate"),c()),n&2&&(d(),C(" ",gt(2,1,"LOGIN.PASSWORD_MINLENGTH",et(4,Ja))," "))}function ss(n,i){if(n&1&&(l(0,"div",28),y(1,os,3,3,"div",29)(2,as,3,5,"div",29),c()),n&2){let e,t,r=_(4);d(),f("ngIf",(e=r.loginForm.get("password"))==null?null:e.hasError("required")),d(),f("ngIf",(t=r.loginForm.get("password"))==null?null:t.hasError("minlength"))}}function ls(n,i){if(n&1){let e=z();l(0,"div",30)(1,"label",31),m(2),b(3,"translate"),c(),O(4,"input",32),b(5,"translate"),l(6,"button",33),x("click",function(){N(e);let r=_(3);return F(r.hidePassword=!r.hidePassword)}),m(7),c(),y(8,ss,3,2,"div",25),c()}if(n&2){let e,t=_(3);d(2),P(S(3,5,"LOGIN.PASSWORD")),d(2),We("placeholder",S(5,7,"LOGIN.PASSWORD_PLACEHOLDER")),f("type",t.hidePassword?"password":"text"),d(3),C(" ",t.hidePassword?"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":"\u{1F441}\uFE0F"," "),d(),f("ngIf",((e=t.loginForm.get("password"))==null?null:e.invalid)&&((e=t.loginForm.get("password"))==null?null:e.touched))}}function cs(n,i){if(n&1){let e=z();l(0,"form",21),x("ngSubmit",function(){N(e);let r=_(2);return F(r.forgotMode?r.onForgotSubmit():r.onSubmit())}),l(1,"div",22)(2,"label",23),m(3),b(4,"translate"),c(),O(5,"input",24),b(6,"translate"),y(7,rs,3,2,"div",25),c(),y(8,ls,9,9,"div",26),l(9,"button",27),m(10),b(11,"translate"),b(12,"translate"),c()()}if(n&2){let e,t=_(2);f("formGroup",t.forgotMode?t.forgotForm:t.loginForm),d(3),P(S(4,7,"LOGIN.EMAIL")),d(2),We("placeholder",S(6,9,"LOGIN.EMAIL_PLACEHOLDER")),d(2),f("ngIf",((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.invalid)&&((e=(t.forgotMode?t.forgotForm:t.loginForm).get("email"))==null?null:e.touched)),d(),f("ngIf",!t.forgotMode),d(),f("disabled",(t.forgotMode?t.forgotForm:t.loginForm).invalid),d(),C(" ",t.forgotMode?S(11,11,"LOGIN.SEND_NEW_PASSWORD"):S(12,13,"LOGIN.BUTTON")," ")}}function ds(n,i){if(n&1){let e=z();l(0,"div",34),m(1),b(2,"translate"),l(3,"div",35)(4,"button",36),x("click",function(){N(e);let r=_(2);return F(r.toggleForgotMode())}),m(5),b(6,"translate"),c()()()}n&2&&(d(),C(" ",S(2,2,"LOGIN.FORGOT_PASSWORD_SUCCESS")," "),d(4),C(" ",S(6,4,"LOGIN.GO_TO_LOGIN")," "))}function ms(n,i){if(n&1){let e=z();l(0,"button",39),x("click",function(){N(e);let r=_(3);return F(r.resendVerificationEmail())}),m(1),b(2,"translate"),c()}n&2&&(d(),C(" ",S(2,1,"LOGIN.RESEND_EMAIL")," "))}function ps(n,i){if(n&1&&(l(0,"div",37),m(1),y(2,ms,3,3,"button",38),c()),n&2){let e=_(2);d(),C(" ",e.loginError," "),d(),f("ngIf",e.showResendButton)}}function us(n,i){if(n&1){let e=z();l(0,"div",40)(1,"button",41),x("click",function(){N(e);let r=_(2);return F(r.toggleForgotMode())}),m(2),b(3,"translate"),c()()}n&2&&(d(2),C(" ",S(3,1,"LOGIN.FORGOT_PASSWORD")," "))}function fs(n,i){if(n&1&&(l(0,"div",10)(1,"div",11),O(2,"img",12),c(),l(3,"div",13)(4,"h1",14),m(5),b(6,"translate"),b(7,"translate"),c(),y(8,cs,13,15,"form",15)(9,ds,7,6,"div",16)(10,ps,3,2,"div",17)(11,us,4,3,"div",18),l(12,"p",19),m(13),b(14,"translate"),l(15,"a",20),m(16),b(17,"translate"),c()()()()),n&2){let e=_();d(5),C(" ",e.forgotMode?S(6,8,"LOGIN.FORGOT_PASSWORD_TITLE"):S(7,10,"LOGIN.TITLE")," "),d(3),f("ngIf",!e.success),d(),f("ngIf",e.success),d(),f("ngIf",!e.forgotMode&&e.loginError),d(),f("ngIf",!e.forgotMode&&!e.success),d(2),C(" ",S(14,12,"LOGIN.NO_ACCOUNT")," "),d(2),f("routerLink",et(16,Za)),d(),C(" ",S(17,14,"LOGIN.REGISTER")," ")}}var ao=(()=>{class n{constructor(e,t,r,o){if(this.fb=e,this.router=t,this.translate=r,this.authService=o,this.hidePassword=!0,this.loginError=null,this.showResendButton=!1,this.unverifiedEmail=null,this.success=!1,this.forgotMode=!1,this.accessGranted=!1,this.accessKey="",this.error=!1,this.loginForm=this.fb.group({email:["",[ne.required,ne.email]],password:["",[ne.required,ne.minLength(6)]]}),this.forgotForm=this.fb.group({email:["",[ne.required,ne.email]]}),this.loginForm.valueChanges.subscribe(()=>this.loginError=null),!Jt.production){this.accessGranted=!0,this.error=!1;return}}checkAccessKey(){this.accessKey===Jt.devAccessKey?(this.accessGranted=!0,this.error=!1):(this.accessGranted=!1,this.error=!0)}toggleForgotMode(){this.forgotMode=!this.forgotMode,this.success=!1,this.loginError=null}onSubmit(){if(this.forgotMode){this.onForgotSubmit();return}if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.authService.login({email:e,password:t}).subscribe({next:r=>{r&&(r.forcePasswordChange?this.router.navigate(["/reset-password"],{queryParams:{email:r.email}}):this.router.navigateByUrl("/"))},error:r=>this.handleLoginError(r)})}}handleLoginError(e){console.error(e);let t=e.error?.message||"LOGIN.GENERIC_ERROR";t==="EMAIL_NOT_VERIFIED"?(this.loginError=this.translate.instant("LOGIN.EMAIL_NOT_VERIFIED"),this.showResendButton=!0,this.unverifiedEmail=this.loginForm.value.email):this.translate.get(t).subscribe(r=>{this.loginError=r,this.showResendButton=!1})}resendVerificationEmail(){this.unverifiedEmail&&this.authService.resendVerification(this.unverifiedEmail).subscribe({next:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_SENT"),this.showResendButton=!1},error:()=>{this.loginError=this.translate.instant("LOGIN.VERIFICATION_EMAIL_FAILED")}})}onForgotSubmit(){if(this.forgotForm.invalid)return;let e=this.forgotForm.value.email;this.authService.forgotPassword(e).pipe(fi(()=>{})).subscribe({next:()=>{this.success=!0},error:t=>{alert(t?.error?.message||"Error enviando correo de restablecimiento")}})}static{this.\u0275fac=function(t){return new(t||n)(h(jt),h(H),h(it),h(oe))}}static{this.\u0275cmp=A({type:n,selectors:[["app-login"]],standalone:!0,features:[D],decls:3,vars:2,consts:[["loginScreen",""],["class","flex flex-col items-center justify-center min-h-screen bg-gray-100",4,"ngIf","ngIfElse"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"bg-white","shadow-lg","rounded-2xl","p-6","w-full","max-w-md","text-center"],[1,"text-2xl","font-bold","text-green-700","mb-4"],[1,"text-gray-600","mb-4"],["type","password","placeholder","Clave de acceso",1,"border","px-3","py-2","rounded","w-64","mb-4","text-center","outline-none","focus:ring-2","focus:ring-green-500",3,"ngModelChange","ngModel"],[1,"bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition",3,"click"],["class","text-red-500 mt-2",4,"ngIf"],[1,"text-red-500","mt-2"],[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-green-500","font-semibold","hover:underline",3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mb-6 relative",4,"ngIf"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"mb-6","relative"],["for","password",1,"block","text-gray-700","mb-1"],["id","password","formControlName","password",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent",3,"type","placeholder"],["type","button",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2","px-2","text-gray-500",3,"click"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],[1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],[1,"text-center","text-red-500","mt-4"],["class","ml-2 bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",3,"click",4,"ngIf"],[1,"ml-2","bg-blue-600","text-white","px-2","py-1","rounded","hover:bg-blue-700",3,"click"],[1,"text-center","mt-4"],["type","button",1,"text-green-500","font-semibold","hover:underline",3,"click"]],template:function(t,r){if(t&1&&y(0,ts,10,2,"div",1)(1,fs,18,17,"ng-template",null,0,Pt),t&2){let o=kt(2);f("ngIf",!r.accessGranted)("ngIfElse",o)}},dependencies:[B,Q,Vt,Ft,xe,we,Nt,Lt,Bt,ot,rt,K,Ce,Y,Ue],styles:[".minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{background-color:transparent!important;padding-top:.5rem!important;padding-bottom:.5rem!important}.minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-start[_ngcontent-%COMP%], .minimal-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-outline-end[_ngcontent-%COMP%]{border-color:#cbd5e1!important;border-width:1px!important}"]})}}return n})();var _t=(()=>{class n{constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.user$.pipe(Tt(1),lr(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(t){return new(t||n)(q(oe),q(H))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hs(n,i){n&1&&(l(0,"div",7),m(1),b(2,"translate"),l(3,"div",8)(4,"a",9),m(5),b(6,"translate"),c()()()),n&2&&(d(),C(" ",S(2,2,"VERIFY_EMAIL.SUCCESS")," "),d(4),C(" ",S(6,4,"VERIFY_EMAIL.GO_TO_LOGIN")," "))}function gs(n,i){if(n&1&&(l(0,"div",10),m(1),b(2,"translate"),c()),n&2){let e=_();d(),C(" ",e.errorMessage||S(2,1,"VERIFY_EMAIL.ERROR")," ")}}var so=(()=>{class n{constructor(e,t,r){this.route=e,this.authService=t,this.translate=r,this.loading=!0,this.success=!1,this.errorMessage=null}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.uuid;console.log("uuid:",t),t?this.authService.verifyEmail(t).subscribe({next:()=>{this.success=!0,this.loading=!1},error:r=>{console.error(r),this.success=!1,this.loading=!1;let o=r?.error?.message||"VERIFY_EMAIL.ERROR";this.translate.get(o).subscribe(a=>this.errorMessage=a)}}):(this.loading=!1,this.success=!1,this.translate.get("VERIFY_EMAIL.INVALID_LINK").subscribe(r=>{this.errorMessage=r}))})}static{this.\u0275fac=function(t){return new(t||n)(h(Ve),h(oe),h(it))}}static{this.\u0275cmp=A({type:n,selectors:[["app-email-verify"]],standalone:!0,features:[D],decls:9,vars:5,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24","mb-4"],[1,"w-full","max-w-3xl","p-6","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],["class","text-center text-green-600 font-semibold text-lg mt-4",4,"ngIf"],["class","text-center text-red-600 font-semibold mt-4",4,"ngIf"],[1,"text-center","text-green-600","font-semibold","text-lg","mt-4"],[1,"mt-6"],["routerLink","/login",1,"bg-green-700","hover:bg-green-800","text-white","font-bold","py-2","px-4","rounded-lg"],[1,"text-center","text-red-600","font-semibold","mt-4"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),O(2,"img",2),c(),l(3,"mat-card",3)(4,"h1",4),m(5),b(6,"translate"),c(),y(7,hs,7,6,"div",5)(8,gs,3,3,"div",6),c()()),t&2&&(d(5),C(" ",S(6,3,"VERIFY_EMAIL.TITLE")," "),d(2),f("ngIf",!r.loading&&r.success),d(),f("ngIf",!r.loading&&!r.success))},dependencies:[B,Q,K,Ce,se,ge,Y,Ue,Ni]})}}return n})();var _s=()=>["../login"];function ys(n,i){n&1&&(l(0,"div"),m(1,"La nueva contrase\xF1a es requerida"),c())}function vs(n,i){n&1&&(l(0,"div"),m(1,"La contrase\xF1a debe tener al menos 6 caracteres"),c())}function bs(n,i){if(n&1&&(l(0,"div",18),y(1,ys,2,0,"div",19)(2,vs,2,0,"div",19),c()),n&2){let e,t,r=_();d(),f("ngIf",(e=r.resetForm.get("newPassword"))==null?null:e.hasError("required")),d(),f("ngIf",(t=r.resetForm.get("newPassword"))==null?null:t.hasError("minlength"))}}function Ss(n,i){n&1&&(l(0,"div"),m(1,"Confirma la nueva contrase\xF1a"),c())}function Es(n,i){if(n&1&&(l(0,"div",18),y(1,Ss,2,0,"div",19),c()),n&2){let e,t=_();d(),f("ngIf",(e=t.resetForm.get("confirmPassword"))==null?null:e.hasError("required"))}}function Cs(n,i){if(n&1&&(l(0,"div",20),m(1),c()),n&2){let e=_();d(),P(e.errorMessage)}}function xs(n,i){if(n&1&&(l(0,"div",21),m(1),c()),n&2){let e=_();d(),P(e.successMessage)}}var lo=(()=>{class n{constructor(e,t,r,o){this.fb=e,this.authService=t,this.router=r,this.route=o,this.errorMessage="",this.successMessage="",this.token=null,this.resetForm=this.fb.group({newPassword:["",[ne.required,ne.minLength(6)]],confirmPassword:["",ne.required]}),this.token=this.route.snapshot.queryParamMap.get("token")||localStorage.getItem("forestPlus_token")}onSubmit(){if(this.resetForm.invalid)return;let{newPassword:e,confirmPassword:t}=this.resetForm.value;if(e!==t){this.errorMessage="Las contrase\xF1as no coinciden";return}if(!this.token){this.errorMessage="Token inv\xE1lido o expirado";return}let r={newPassword:e};this.authService.resetPassword(r,this.isUUID(this.token)?this.token:void 0).subscribe({next:()=>{this.successMessage="Contrase\xF1a cambiada correctamente",setTimeout(()=>this.router.navigate(["/"]),2e3)},error:a=>{this.errorMessage=a.error?.message||"Error al cambiar la contrase\xF1a"}})}isUUID(e){return e.length===36&&e.includes("-")}static{this.\u0275fac=function(t){return new(t||n)(h(jt),h(oe),h(H),h(Ve))}}static{this.\u0275cmp=A({type:n,selectors:[["app-reset-password"]],standalone:!0,features:[D],decls:25,vars:8,consts:[[1,"flex","flex-col","items-center","justify-start","min-h-screen","bg-gray-100","pt-16"],[1,"flex","flex-col","items-center","mb-4"],["src","assets/logo.png","alt","Forest+ Logo",1,"h-24","w-24"],[1,"w-full","max-w-md","p-6","bg-white","shadow-lg","rounded-2xl"],[1,"text-2xl","font-bold","text-green-700","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","newPassword",1,"block","text-gray-700","mb-1"],["id","newPassword","type","password","formControlName","newPassword","placeholder","Ingresa tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-6"],["for","confirmPassword",1,"block","text-gray-700","mb-1"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirma tu nueva contrase\xF1a",1,"w-full","px-4","py-2","border-b","border-gray-300","focus:border-green-500","focus:outline-none","bg-transparent"],["type","submit",1,"w-full","bg-green-600","text-white","py-3","rounded-lg","hover:bg-green-700","disabled:opacity-50",3,"disabled"],["class","text-center text-red-500 mt-4",4,"ngIf"],["class","text-center text-green-600 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"],[1,"text-blue-500","font-semibold","hover:underline",3,"routerLink"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"text-center","text-red-500","mt-4"],[1,"text-center","text-green-600","mt-4"]],template:function(t,r){if(t&1&&(l(0,"div",0)(1,"div",1),O(2,"img",2),c(),l(3,"div",3)(4,"h1",4),m(5," Cambiar contrase\xF1a "),c(),l(6,"form",5),x("ngSubmit",function(){return r.onSubmit()}),l(7,"div",6)(8,"label",7),m(9,"Nueva contrase\xF1a"),c(),O(10,"input",8),y(11,bs,3,2,"div",9),c(),l(12,"div",10)(13,"label",11),m(14,"Confirmar nueva contrase\xF1a"),c(),O(15,"input",12),y(16,Es,2,1,"div",9),c(),l(17,"button",13),m(18," Cambiar contrase\xF1a "),c()(),y(19,Cs,2,1,"div",14)(20,xs,2,1,"div",15),l(21,"p",16),m(22," \xBFRecordaste tu contrase\xF1a? "),l(23,"a",17),m(24," Inicia sesi\xF3n "),c()()()()),t&2){let o,a;d(6),f("formGroup",r.resetForm),d(5),f("ngIf",((o=r.resetForm.get("newPassword"))==null?null:o.invalid)&&((o=r.resetForm.get("newPassword"))==null?null:o.touched)),d(5),f("ngIf",((a=r.resetForm.get("confirmPassword"))==null?null:a.invalid)&&((a=r.resetForm.get("confirmPassword"))==null?null:a.touched)),d(),f("disabled",r.resetForm.invalid),d(2),f("ngIf",r.errorMessage),d(),f("ngIf",r.successMessage),d(3),f("routerLink",et(7,_s))}},dependencies:[B,Q,Vt,Ft,xe,we,Nt,Lt,Bt,K,Y,Ue]})}}return n})();var ke=(()=>{class n{constructor(e,t){this.userService=e,this.router=t}canActivate(e){let t=e.data.roles,r=this.userService.getCurrentUser();return r?r.role&&t.includes(r.role)?!0:(this.router.navigate(["/dashboard"]),!1):(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(t){return new(t||n)(q(ee),q(H))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ws=["*",[["mat-toolbar-row"]]],Ts=["*","mat-toolbar-row"],Ms=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=ft({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),co=(()=>{class n{constructor(e,t,r){this._elementRef=e,this._platform=t,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||n)(h(Ke),h(xi),h(tt))}}static{this.\u0275cmp=A({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,o){if(t&1&&yr(o,Ms,5),t&2){let a;At(a=Dt())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,r){t&2&&(yi(r.color?"mat-"+r.color:""),je("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[D],ngContentSelectors:Ts,decls:2,vars:0,template:function(t,r){t&1&&(_r(ws),cn(0),cn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var mo=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Le({type:n})}static{this.\u0275inj=Ne({imports:[nt,nt]})}}return n})();var po=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=A({type:n,selectors:[["app-admin-page"]],standalone:!0,features:[D],decls:7,vars:0,consts:[["color","primary",1,"flex","items-center","justify-between","px-6","py-4","bg-white","shadow-md"],[1,"flex","items-center","space-x-3"],[1,"text-gray-800"],[1,"text-2xl","font-bold","text-gray-800"]],template:function(t,r){t&1&&(l(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),m(3,"admin_panel_settings"),c(),l(4,"h1",3),m(5,"Administraci\xF3n"),c()()(),O(6,"router-outlet"))},dependencies:[Y,Ot,mo,co,ae,ze,te]})}}return n})();function ks(n,i){}var yt=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var vn=(()=>{class n extends Gr{constructor(e,t,r,o,a,s,p,u){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=p,this._focusMonitor=u,this._platform=Me(xi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Me(Si),this._injector=Me(Xe),this._isDestroyed=!1,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),g},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(t)}_focusByCssSelector(e,t){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,t)}_trapFocus(){this._isDestroyed||gr(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let r=wi(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=wi();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wi()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||n)(h(Ke),h(Ii),h(tt,8),h(yt),h(Mi),h(Mt),h(zt),h(Ai))}}static{this.\u0275cmp=A({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(t&1&&bi(ei,7),t&2){let o;At(o=Dt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){t&2&&Be("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[It,D],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){t&1&&y(0,ks,0,0,"ng-template",0)},dependencies:[ei],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),ni=class{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new $e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Ti(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(i),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Ps=new Fe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=Me(at);return()=>n.scrollStrategies.block()}}),Os=new Fe("DialogData"),Rs=new Fe("DefaultDialogConfig");var Ns=0,bn=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,r,o,a,s){this._overlay=e,this._injector=t,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $e,this._afterOpenedAtThisLevel=new $e,this._ariaHiddenElements=new Map,this.afterAllClosed=ui(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=s}open(e,t){let r=this._defaultOptions||new yt;t=de(de({},r),t),t.id=t.id||`cdk-dialog-${Ns++}`,t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),a=this._overlay.create(o),s=new ni(a,t),p=this._attachContainer(a,s,t);return s.containerInstance=p,this._attachDialogContent(e,s,p,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){_n(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){_n(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),_n(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new qr({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:yt,useValue:r},{provide:ni,useValue:t},{provide:zt,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=vn;let p=new fn(s,r.viewContainerRef,Xe.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,t,r,o){if(e instanceof pr){let a=this._createInjector(o,t,r,void 0),s={$implicit:o.data,dialogRef:t};o.templateContext&&(s=de(de({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new zr(e,null,s,a))}else{let a=this._createInjector(o,t,r,this._injector),s=r.attachComponentPortal(new fn(e,o.viewContainerRef,a,o.componentFactoryResolver));t.componentRef=s,t.componentInstance=s.instance}}_createInjector(e,t,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:Os,useValue:e.data},{provide:ni,useValue:t}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(t,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(mn,null,{optional:!0}))&&s.push({provide:mn,useValue:{value:e.direction,change:sr()}}),Xe.create({parent:a||o,providers:s})}_removeOpenDialog(e,t){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let r=t.length-1;r>-1;r--){let o=t[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||n)(q(at),q(Xe),q(Rs,8),q(n,12),q(ki),q(Ps))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _n(n,i){let e=n.length;for(;e--;)i(n[e])}var uo=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Le({type:n})}static{this.\u0275inj=Ne({providers:[bn],imports:[Pi,ti,Rr,ti]})}}return n})();function Fs(n,i){}var ri=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Sn="mdc-dialog--open",fo="mdc-dialog--opening",ho="mdc-dialog--closing",Ls=150,Bs=75,js=(()=>{class n extends vn{constructor(e,t,r,o,a,s,p,u,v){super(e,t,r,o,a,s,p,v),this._animationMode=u,this._animationStateChanged=new ht,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?_o(this._config.enterAnimationDuration)??Ls:0,this._exitAnimationDuration=this._animationsEnabled?_o(this._config.exitAnimationDuration)??Bs:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(go,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fo,Sn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Sn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Sn),this._animationsEnabled?(this._hostElement.style.setProperty(go,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ho)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(fo,ho)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||n)(h(Ke),h(Ii),h(tt,8),h(ri),h(Mi),h(Mt),h(zt),h(Ze,8),h(Ai))}}static{this.\u0275cmp=A({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,r){t&2&&(ln("id",r._config.id),Be("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),je("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[It,D],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),y(2,Fs,0,0,"ng-template",2),c()())},dependencies:[ei],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),go="--mat-dialog-transition-duration";function _o(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?dn(n.substring(0,n.length-2)):n.endsWith("s")?dn(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var ji=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(ji||{}),Kt=class{constructor(i,e,t){this._ref=i,this._containerInstance=t,this._afterOpened=new $e,this._beforeClosed=new $e,this._state=ji.OPEN,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(Xt(r=>r.state==="opened"),Tt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Xt(r=>r.state==="closed"),Tt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),cr(this.backdropClick(),this.keydownEvents().pipe(Xt(r=>r.keyCode===27&&!this.disableClose&&!Ti(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Vs(this,r.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Xt(e=>e.state==="closing"),Tt(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=ji.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=ji.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Vs(n,i,e){return n._closeInteractionType=i,n.close(e)}var En=new Fe("MatMdcDialogData"),Us=new Fe("mat-mdc-dialog-default-options"),zs=new Fe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=Me(at);return()=>n.scrollStrategies.block()}});var Gs=0,ct=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,r,o,a,s,p,u){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $e,this._afterOpenedAtThisLevel=new $e,this.dialogConfigClass=ri,this.afterAllClosed=ui(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._dialog=t.get(bn),this._dialogRefConstructor=Kt,this._dialogContainerType=js,this._dialogDataToken=En}open(e,t){let r;t=de(de({},this._defaultOptions||new ri),t),t.id=t.id||`mat-mdc-dialog-${Gs++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,pi(de({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:yt,useValue:t}]},templateContext:()=>({dialogRef:r}),providers:(a,s,p)=>(r=new this._dialogRefConstructor(a,t,p),r.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||n)(q(at),q(Xe),q(br,8),q(Us,8),q(zs),q(n,12),q(ki),q(Ze,8))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qs=0;var yo=(()=>{class n{constructor(e,t,r){this._dialogRef=e,this._elementRef=t,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=$s(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||n)(h(Kt,8),h(Ke),h(ct))}}static{this.\u0275dir=ft({type:n,standalone:!0})}}return n})(),vo=(()=>{class n extends yo{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${qs++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,r){t&2&&ln("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[It]})}}return n})(),bo=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=ft({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[fr([Ur])]})}}return n})(),So=(()=>{class n extends yo{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,r){t&2&&je("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},standalone:!0,features:[It]})}}return n})();function $s(n,i){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(t=>t.id===e.id):null}var Eo=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Le({type:n})}static{this.\u0275inj=Ne({providers:[ct],imports:[uo,Pi,ti,nt,nt]})}}return n})();var Wt=(()=>{class n{constructor(e,t){this.data=e,this.dialogRef=t}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(t){return new(t||n)(h(En),h(Kt))}}static{this.\u0275cmp=A({type:n,selectors:[["app-confirm-dialog"]],standalone:!0,features:[D],decls:10,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){t&1&&(l(0,"h2",0),m(1),c(),l(2,"mat-dialog-content")(3,"p"),m(4),c()(),l(5,"mat-dialog-actions",1)(6,"button",2),x("click",function(){return r.onCancel()}),m(7,"Cancelar"),c(),l(8,"button",3),x("click",function(){return r.onConfirm()}),m(9,"Eliminar"),c()()),t&2&&(d(),P(r.data.title),d(3),P(r.data.message))},dependencies:[B,Eo,vo,So,bo,te,Lr]})}}return n})();function Ks(n,i){if(n&1){let e=z();l(0,"div",9)(1,"div",10)(2,"div",11),m(3),c(),l(4,"div",12),m(5),c(),l(6,"div",13),m(7),c()(),l(8,"div",14)(9,"button",15),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onView(r))}),l(10,"mat-icon"),m(11,"visibility"),c()(),l(12,"button",15),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onEdit(r))}),l(13,"mat-icon"),m(14,"edit"),c()(),l(15,"button",16),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onDelete(r))}),l(16,"mat-icon"),m(17,"delete"),c()()()()}if(n&2){let e=i.$implicit;d(3),Qe("",e.name," ",e.surname,""),d(2),P(e.email),d(2),P(e.role||"\u2014")}}var Co=(()=>{class n{constructor(e,t,r,o){this.userService=e,this.snackBar=t,this.dialog=r,this.router=o,this.users=[],this.filteredUsers=[],this.currentPage=0,this.pageSize=10,this.totalPages=1,this.filterText=""}ngOnInit(){this.loadUsers()}loadUsers(){let e=this.userService.getCurrentUser(),t=e?.role===j.COMPANY_ADMIN?e.company?.id:void 0;this.userService.getUsers(0,1e3,"id,asc",void 0,t).subscribe({next:r=>{let o=(r.content??[]).filter(a=>a.id!==e?.id);this.users=o,this.applyFilter()},error:r=>console.error("\u274C Error al cargar usuarios",r)})}applyFilter(){let e=this.filterText.trim().toLowerCase();this.filteredUsers=this.users.filter(t=>(t.name||"").toLowerCase().includes(e)||(t.surname||"").toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e)),this.currentPage=0,this.totalPages=Math.ceil(this.filteredUsers.length/this.pageSize)}getPagedUsers(){let e=this.currentPage*this.pageSize;return this.filteredUsers.slice(e,e+this.pageSize)}previousPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage+1<this.totalPages&&this.currentPage++}addUser(){this.router.navigate(["/admin/user-form"])}onEdit(e){this.router.navigate(["/admin/user-form",e.id])}onView(e){this.router.navigate(["/profile",e.id])}onDelete(e){this.dialog.open(Wt,{width:"400px",data:{title:"Eliminar usuario",message:`\xBFEst\xE1s seguro de que quieres eliminar a ${e.name}?`}}).afterClosed().subscribe(r=>{r&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Usuario eliminado","Cerrar",{duration:3e3}),this.loadUsers()},error:o=>{console.error("\u274C Error al eliminar usuario",o),this.snackBar.open("\u274C Error al eliminar usuario","Cerrar",{duration:3e3})}})})}static{this.\u0275fac=function(t){return new(t||n)(h(ee),h(st),h(ct),h(H))}}static{this.\u0275cmp=A({type:n,selectors:[["app-admin-users"]],standalone:!0,features:[D],decls:20,vars:6,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar usuario...",1,"w-64","rounded-xl","border","border-gray-300","px-4","py-2","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition",3,"ngModelChange","keyup","ngModel"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-3","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center","items-center","gap-4"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-2","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click","disabled"],[1,"text-gray-700","font-medium"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"text-gray-500"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","",1,"bg-red-400","hover:bg-red-500","text-white",3,"click"]],template:function(t,r){t&1&&(l(0,"mat-card",0)(1,"div",1)(2,"input",2),De("ngModelChange",function(a){return Ae(r.filterText,a)||(r.filterText=a),a}),x("keyup",function(){return r.applyFilter()}),c(),l(3,"button",3),x("click",function(){return r.addUser()}),l(4,"mat-icon"),m(5,"add"),c(),m(6," Nuevo usuario "),c()(),l(7,"div",4),y(8,Ks,18,4,"div",5),c(),l(9,"div",6)(10,"button",7),x("click",function(){return r.previousPage()}),l(11,"mat-icon"),m(12,"chevron_left"),c(),m(13," Anterior "),c(),l(14,"span",8),m(15),c(),l(16,"button",7),x("click",function(){return r.nextPage()}),m(17," Siguiente "),l(18,"mat-icon"),m(19,"chevron_right"),c()()()()),t&2&&(d(2),Ie("ngModel",r.filterText),d(6),f("ngForOf",r.getPagedUsers()),d(2),f("disabled",r.currentPage===0),d(5),Qe("",r.currentPage+1," / ",r.totalPages,""),d(),f("disabled",r.currentPage+1>=r.totalPages))},dependencies:[B,Ee,Y,ot,xe,we,rt,se,ge,te,Rt,ae,ze]})}}return n})();function Qs(n,i){if(n&1){let e=z();l(0,"div",9)(1,"div",10)(2,"div",11),m(3),c(),l(4,"div",12),m(5),c()(),l(6,"div",13)(7,"button",14),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onView(r))}),l(8,"mat-icon"),m(9,"visibility"),c()(),l(10,"button",15),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onEdit(r))}),l(11,"mat-icon"),m(12,"edit"),c()(),l(13,"button",16),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onDelete(r))}),l(14,"mat-icon"),m(15,"delete"),c()()()()}if(n&2){let e=i.$implicit;d(3),P(e.name),d(2),P(e.address||"\u2014")}}var xo=(()=>{class n{constructor(e,t,r,o,a){this.companyService=e,this.userService=t,this.snackBar=r,this.dialog=o,this.router=a,this.companies=[],this.filteredCompanies=[],this.currentPage=0,this.pageSize=5,this.totalPages=1,this.filterText=""}ngOnInit(){this.loadCompanies()}loadCompanies(){let e=this.userService.getCurrentUser();this.companyService.getAllCompanies().subscribe({next:t=>{if(e?.role===j.COMPANY_ADMIN&&e.company?.id!=null){let r=e.company.id;this.companies=t.filter(o=>o.id===r)}else this.companies=t;this.applyFilter()},error:t=>console.error("\u274C Error al cargar compa\xF1\xEDas",t)})}applyFilter(){let e=this.filterText.trim().toLowerCase();this.filteredCompanies=this.companies.filter(t=>(t.name||"").toLowerCase().includes(e)||(t.address||"").toLowerCase().includes(e)),this.currentPage=0,this.totalPages=Math.ceil(this.filteredCompanies.length/this.pageSize)}getPagedCompanies(){let e=this.currentPage*this.pageSize;return this.filteredCompanies.slice(e,e+this.pageSize)}previousPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage+1<this.totalPages&&this.currentPage++}addCompany(){this.router.navigate(["/admin/company-form"])}onEdit(e){this.router.navigate(["/admin/company-form",e.id])}onView(e){this.router.navigate(["/company",e.id])}onDelete(e){if(!e.id)return;this.dialog.open(Wt,{width:"400px",data:{title:"Eliminar compa\xF1\xEDa",message:`\xBFEst\xE1s seguro de que quieres eliminar ${e.name}?`}}).afterClosed().subscribe(r=>{r&&e.id!==void 0&&this.companyService.deleteCompany(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Compa\xF1\xEDa eliminada","Cerrar",{duration:3e3}),this.loadCompanies()},error:o=>{console.error("Error al eliminar compa\xF1\xEDa",o),this.snackBar.open("\u274C Error al eliminar compa\xF1\xEDa","Cerrar",{duration:3e3})}})})}static{this.\u0275fac=function(t){return new(t||n)(h(Oi),h(ee),h(st),h(ct),h(H))}}static{this.\u0275cmp=A({type:n,selectors:[["app-admin-companies"]],standalone:!0,features:[D],decls:20,vars:6,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar compa\xF1\xEDa...",1,"w-64","rounded-xl","border","border-gray-300","px-4","py-2","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition",3,"ngModelChange","keyup","ngModel"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-3","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center","items-center","gap-4"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-2","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click","disabled"],[1,"text-gray-700","font-medium"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","","color","primary",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","","color","warn",1,"bg-red-400","hover:bg-red-500","text-white",3,"click"]],template:function(t,r){t&1&&(l(0,"mat-card",0)(1,"div",1)(2,"input",2),De("ngModelChange",function(a){return Ae(r.filterText,a)||(r.filterText=a),a}),x("keyup",function(){return r.applyFilter()}),c(),l(3,"button",3),x("click",function(){return r.addCompany()}),l(4,"mat-icon"),m(5,"add"),c(),m(6," Nuevo usuario "),c()(),l(7,"div",4),y(8,Qs,16,2,"div",5),c(),l(9,"div",6)(10,"button",7),x("click",function(){return r.previousPage()}),l(11,"mat-icon"),m(12,"chevron_left"),c(),m(13," Anterior "),c(),l(14,"span",8),m(15),c(),l(16,"button",7),x("click",function(){return r.nextPage()}),m(17," Siguiente "),l(18,"mat-icon"),m(19,"chevron_right"),c()()()()),t&2&&(d(2),Ie("ngModel",r.filterText),d(6),f("ngForOf",r.getPagedCompanies()),d(2),f("disabled",r.currentPage===0),d(5),Qe("",r.currentPage+1," / ",r.totalPages,""),d(),f("disabled",r.currentPage+1>=r.totalPages))},dependencies:[B,Ee,Y,se,ge,te,Rt,ae,ze,ot,xe,we,rt]})}}return n})();function Hs(n,i){if(n&1){let e=z();l(0,"div",7)(1,"button",8),x("click",function(){N(e);let r=_(2);return F(r.goToEditForm())}),m(2," Editar "),c()()}}function Ys(n,i){if(n&1&&(l(0,"div",25)(1,"div",26)(2,"div",27),m(3),c(),l(4,"div",28)(5,"div",14),O(6,"canvas",29),c(),l(7,"div",14),O(8,"canvas",29),c(),l(9,"div",17)(10,"div",30),m(11),b(12,"number"),c(),l(13,"div",19),m(14,"Toneladas de CO\u2082"),c(),l(15,"div",20),m(16),c()()()()()),n&2){let e=i.$implicit,t=_(4);d(3),P(e.year),d(3),f("id",e.emitidoRef),d(2),f("id",e.compensadoRef),d(2),f("ngClass",t.getNetColorClass(e.totalEmissions,e.totalCompensations)),d(),C(" ",gt(12,6,e.totalEmissions-e.totalCompensations,"1.0-0")," "),d(5),C(" Compensaste el ",t.getCompensatedPercentage(e.totalEmissions,e.totalCompensations),"% de tus emisiones ")}}function Xs(n,i){if(n&1&&(l(0,"div",22)(1,"h3",23),m(2,"A\xF1os anteriores"),c(),y(3,Ys,17,9,"div",24),c()),n&2){let e=_(3);d(3),f("ngForOf",e.co2Years.slice(1))}}function Zs(n,i){if(n&1&&(l(0,"div",9)(1,"h2",10),m(2,"Emisiones de CO\u2082 por a\xF1o"),c(),l(3,"div",11)(4,"h3",12),m(5,"\xDAltimo a\xF1o registrado"),c(),l(6,"h4",12),m(7),c(),l(8,"div",13)(9,"div",14)(10,"div",15),m(11,"Emisiones"),c(),O(12,"canvas",16),c(),l(13,"div",14)(14,"div",15),m(15,"Compensaciones"),c(),O(16,"canvas",16),c(),l(17,"div",17)(18,"div",15),m(19,"Valor Neto"),c(),l(20,"div",18),m(21),b(22,"number"),c(),l(23,"div",19),m(24,"Toneladas de CO\u2082"),c(),l(25,"div",20),m(26),c()()()(),y(27,Xs,4,1,"div",21),c()),n&2){let e=_(2);d(7),P(e.co2Years[0].year),d(5),f("id",e.co2Years[0].emitidoRef),d(4),f("id",e.co2Years[0].compensadoRef),d(4),f("ngClass",e.getNetColorClass(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations)),d(),C(" ",gt(22,7,e.co2Years[0].totalEmissions-e.co2Years[0].totalCompensations,"1.0-0")," "),d(5),C(" (Compensaste el ",e.getCompensatedPercentage(e.co2Years[0].totalEmissions,e.co2Years[0].totalCompensations),"% de tus emisiones) "),d(),f("ngIf",e.co2Years.length>1)}}function Js(n,i){if(n&1&&(l(0,"mat-card",1),O(1,"img",2),l(2,"h2",3),m(3),c(),l(4,"p",4),m(5),c(),y(6,Hs,3,0,"div",5)(7,Zs,28,10,"div",6),c()),n&2){let e=_();d(),f("src",e.previewImage||e.company.picture||"assets/company_profile.png",Je),d(2),P(e.company.name),d(2),P(e.company.address),d(),f("ngIf",(e.user==null?null:e.user.role)==="COMPANY_ADMIN"||e.isEditable),d(),f("ngIf",e.co2Years==null?null:e.co2Years.length)}}var wn=(()=>{class n{constructor(e,t,r,o,a){this.userService=e,this.companyService=t,this.router=r,this.route=o,this.cdr=a,this.co2Years=[],this.chartsMap={},this.isEditable=!1,hn.register(Kr,Wr,Hr,Qr)}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.isEditable=!0,this.companyService.getCompanyById(+e).subscribe({next:t=>{this.company=t,this.company&&this.prepareCO2Years()},error:t=>{console.error("Error cargando la compa\xF1\xEDa por ID:",t)}})):this.userService.getUser().subscribe({next:t=>{this.user=t,t?.company?.id?this.companyService.getCompanyById(t.company.id).subscribe({next:r=>{this.company=r,this.company&&this.prepareCO2Years()},error:r=>{console.error("Error cargando la compa\xF1\xEDa del usuario:",r)}}):console.warn("El usuario no tiene compa\xF1\xEDa asignada")},error:t=>{console.error("Error cargando el usuario:",t)}})}ngAfterViewInit(){this.co2Years?.length&&setTimeout(()=>this.renderCO2Charts(),50)}prepareCO2Years(){if(!this.company?.co2?.length)return;let e=[...this.company.co2].filter(t=>t.year!==void 0).sort((t,r)=>r.year-t.year);this.co2Years=e.map(t=>pi(de({},t),{totalEmissions:t.totalEmissions||0,totalCompensations:t.totalCompensations||0,net:(t.totalEmissions||0)-(t.totalCompensations||0),emitidoRef:`emitido-${t.year}`,compensadoRef:`compensado-${t.year}`,netoRef:`neto-${t.year}`})),this.cdr.detectChanges(),setTimeout(()=>this.renderCO2Charts(),100)}goToEditForm(){let e=this.company?.id||this.user?.company?.id;e&&this.router.navigate(["/company/form",e])}renderCO2Charts(){this.co2Years.forEach((e,t)=>{["emitidoRef","compensadoRef","netoRef"].forEach(r=>{let o=document.getElementById(e[r]);if(!o)return;let a=t===0?200:80;o.width=a,o.height=a;let s=r==="emitidoRef"?e.totalEmissions:r==="compensadoRef"?e.totalCompensations:e.net,p=r==="emitidoRef"?"#fc4d03ff":r==="compensadoRef"?"#89de8cff":"#2c80c5cf";this.createDonutChart(o,s,p,e.totalEmissions||1)})})}createDonutChart(e,t,r,o){let a=e.getContext("2d");if(!a)return;this.chartsMap[e.id]&&this.chartsMap[e.id].destroy();let s=t/(o>0?o:1)*100,p={datasets:[{data:[s,100-s],backgroundColor:[r,"#e0e0e0"],cutout:"75%",borderWidth:0}]},u={id:"centerText",beforeDraw:v=>{let{ctx:g,width:R,height:I}=v;g&&(g.save(),g.font=`${I/100*20}px sans-serif`,g.fillStyle="#333",g.textBaseline="middle",g.fillText(`${t}`,R/2-g.measureText(`${t}`).width/2,I/2-10),g.font=`${I/100*8}px sans-serif`,g.fillStyle="#666",g.fillText("Toneladas de CO\u2082",R/2-g.measureText("Toneladas de CO\u2082").width/2,I/2+15),g.restore())}};this.chartsMap[e.id]=new hn(a,{type:"doughnut",data:p,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}},animation:{animateRotate:!0,animateScale:!0}},plugins:[u]})}getNetColorClass(e,t){let r=e-t,o=e>0?r/e:1;return o<.5?"net-yellow":o<=1?"net-red":"net-green"}getCompensatedPercentage(e,t){return e?(t/e*100).toFixed(0):"0"}static{this.\u0275fac=function(t){return new(t||n)(h(ee),h(Oi),h(H),h(Ve),h(Si))}}static{this.\u0275cmp=A({type:n,selectors:[["app-company"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","rounded-2xl shadow-md p-4 md:p-6 flex flex-col items-center text-center w-full max-w-full",4,"ngIf"],[1,"rounded-2xl","shadow-md","p-4","md:p-6","flex","flex-col","items-center","text-center","w-full","max-w-full"],["alt","Logo",1,"w-24","h-24","rounded-full","shadow-lg","mb-4","object-cover",3,"src"],[1,"text-xl","md:text-2xl","font-semibold"],[1,"text-gray-500"],["class","flex gap-4 mt-4 w-full justify-center md:justify-start",4,"ngIf"],["class","w-full mt-6",4,"ngIf"],[1,"flex","gap-4","mt-4","w-full","justify-center","md:justify-start"],[1,"flex-1","md:flex-auto","bg-green-600","text-white","py-3","px-6","rounded-xl","hover:bg-green-700","transition",3,"click"],[1,"w-full","mt-6"],[1,"text-xl","font-bold","mb-4","text-center"],[1,"mb-8"],[1,"text-lg","font-semibold"],[1,"co2-container","flex","justify-center","gap-4","mt-4","items-center"],[1,"donut-wrapper"],[1,"donut-label"],[1,"donut-large",3,"id"],[1,"donut-wrapper","neto-wrapper"],[1,"donut-neto","text-4xl","font-bold",3,"ngClass"],[1,"donut-neto-unit"],[1,"donut-neto-info"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"text-left","font-semibold","mb-2"],["class","co2-year-row flex flex-col items-start gap-2 mb-4 w-full",4,"ngFor","ngForOf"],[1,"co2-year-row","flex","flex-col","items-start","gap-2","mb-4","w-full"],[1,"flex","items-center","gap-4","w-full"],[1,"w-16","font-bold"],[1,"co2-container","flex","gap-4","items-center"],[1,"donut-small",3,"id"],[1,"donut-neto",3,"ngClass"]],template:function(t,r){t&1&&y(0,Js,8,5,"mat-card",0),t&2&&f("ngIf",r.company)},dependencies:[B,Sr,Ee,Q,Cr,se,ge,te,Y],encapsulation:2})}}return n})();function tl(n,i){if(n&1){let e=z();l(0,"div",9)(1,"div",10)(2,"div",11),m(3),c(),l(4,"div",12),m(5),c(),l(6,"div",12),m(7),c()(),l(8,"div",13)(9,"button",14),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onView(r))}),l(10,"mat-icon"),m(11,"visibility"),c()(),l(12,"button",15),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onEdit(r))}),l(13,"mat-icon"),m(14,"edit"),c()(),l(15,"button",16),x("click",function(){let r=N(e).$implicit,o=_();return F(o.onDelete(r))}),l(16,"mat-icon"),m(17,"delete"),c()()()()}if(n&2){let e=i.$implicit;d(3),P(e.name),d(2),P(e.description||"\u2014"),d(2),C("CO\u2082 absorci\xF3n: ",e.co2Absorption," kg/a\xF1o")}}var wo=(()=>{class n{constructor(e,t,r,o,a){this.treeTypeService=e,this.userService=t,this.snackBar=r,this.dialog=o,this.router=a,this.treeTypes=[],this.filteredTreeTypes=[],this.currentPage=0,this.pageSize=5,this.totalPages=1,this.filterText=""}ngOnInit(){this.loadTreeTypes()}loadTreeTypes(){this.treeTypeService.getAllTreeTypes().subscribe({next:e=>{this.treeTypes=e,this.applyFilter()},error:e=>console.error("\u274C Error al cargar tipos de \xE1rboles",e)})}applyFilter(){let e=this.filterText.trim().toLowerCase();this.filteredTreeTypes=this.treeTypes.filter(t=>(t.name||"").toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)),this.currentPage=0,this.totalPages=Math.ceil(this.filteredTreeTypes.length/this.pageSize)}getPagedTreeTypes(){let e=this.currentPage*this.pageSize;return this.filteredTreeTypes.slice(e,e+this.pageSize)}previousPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage+1<this.totalPages&&this.currentPage++}addTreeType(){this.router.navigate(["/admin/tree-type-form"])}onEdit(e){this.router.navigate(["/admin/tree-type-form",e.id])}onView(e){this.router.navigate(["/tree-type",e.id])}onDelete(e){if(!e.id)return;this.dialog.open(Wt,{width:"400px",data:{title:"Eliminar tipo de \xE1rbol",message:`\xBFEst\xE1s seguro de que quieres eliminar ${e.name}?`}}).afterClosed().subscribe(r=>{r&&e.id!==void 0&&this.treeTypeService.deleteTreeType(e.id).subscribe({next:()=>{this.snackBar.open("\u2705 Tipo de \xE1rbol eliminado","Cerrar",{duration:3e3}),this.loadTreeTypes()},error:o=>{console.error("Error al eliminar tipo de \xE1rbol",o),this.snackBar.open("\u274C Error al eliminar tipo de \xE1rbol","Cerrar",{duration:3e3})}})})}static{this.\u0275fac=function(t){return new(t||n)(h(Ri),h(ee),h(st),h(ct),h(H))}}static{this.\u0275cmp=A({type:n,selectors:[["app-admin-tree-types"]],standalone:!0,features:[D],decls:20,vars:6,consts:[[1,"p-4"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar tipo de \xE1rbol...",1,"w-64","rounded-xl","border","border-gray-300","px-4","py-2","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition",3,"ngModelChange","keyup","ngModel"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-3","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click"],[1,"flex","flex-col","gap-4"],["class","border rounded p-4 shadow-sm flex justify-between items-center w-full",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center","items-center","gap-4"],[1,"flex","items-center","justify-center","gap-2","bg-green-600","text-white","py-2","px-4","rounded-xl","hover:bg-green-700","disabled:opacity-50","transition",3,"click","disabled"],[1,"text-gray-700","font-medium"],[1,"border","rounded","p-4","shadow-sm","flex","justify-between","items-center","w-full"],[1,"flex","flex-col","text-left"],[1,"font-semibold","text-lg"],[1,"text-gray-600"],[1,"flex","gap-2"],["mat-mini-fab","",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","","color","primary",1,"bg-green-500","hover:bg-green-600","text-white",3,"click"],["mat-mini-fab","","color","warn",1,"bg-red-400","hover:bg-red-500","text-white",3,"click"]],template:function(t,r){t&1&&(l(0,"mat-card",0)(1,"div",1)(2,"input",2),De("ngModelChange",function(a){return Ae(r.filterText,a)||(r.filterText=a),a}),x("keyup",function(){return r.applyFilter()}),c(),l(3,"button",3),x("click",function(){return r.addTreeType()}),l(4,"mat-icon"),m(5,"add"),c(),m(6," Nuevo tipo "),c()(),l(7,"div",4),y(8,tl,18,3,"div",5),c(),l(9,"div",6)(10,"button",7),x("click",function(){return r.previousPage()}),l(11,"mat-icon"),m(12,"chevron_left"),c(),m(13," Anterior "),c(),l(14,"span",8),m(15),c(),l(16,"button",7),x("click",function(){return r.nextPage()}),m(17," Siguiente "),l(18,"mat-icon"),m(19,"chevron_right"),c()()()()),t&2&&(d(2),Ie("ngModel",r.filterText),d(6),f("ngForOf",r.getPagedTreeTypes()),d(2),f("disabled",r.currentPage===0),d(5),Qe("",r.currentPage+1," / ",r.totalPages,""),d(),f("disabled",r.currentPage+1>=r.totalPages))},dependencies:[B,Ee,Y,se,ge,te,Rt,ae,ze,ot,xe,we,rt]})}}return n})();function il(n,i){if(n&1){let e=z();l(0,"div",8)(1,"button",9),x("click",function(){N(e);let r=_(2);return F(r.goToEditForm())}),m(2," Editar "),c()()}}function nl(n,i){if(n&1&&(l(0,"mat-card",1),O(1,"img",2),l(2,"h2",3),m(3),c(),l(4,"p",4),m(5),c(),l(6,"div",5)(7,"div")(8,"p",6),m(9,"Absorci\xF3n CO\u2082"),c(),l(10,"p"),m(11),c()(),l(12,"div")(13,"p",6),m(14,"Altura t\xEDpica"),c(),l(15,"p"),m(16),c()(),l(17,"div")(18,"p",6),m(19,"Esperanza de vida"),c(),l(20,"p"),m(21),c()()(),y(22,il,3,0,"div",7),c()),n&2){let e=_();d(),f("src",e.previewImage||"assets/tree_placeholder.png",Je),d(2),P(e.treeType.name),d(2),P(e.treeType.description||"Sin descripci\xF3n"),d(6),C("",e.treeType.co2Absorption," toneladas / a\xF1o"),d(5),C("",e.treeType.typicalHeight," metros"),d(5),C("",e.treeType.lifespanYears," a\xF1os"),d(),f("ngIf",e.isEditable)}}var To=(()=>{class n{constructor(e,t,r,o,a){this.route=e,this.router=t,this.treeTypeService=r,this.snackBar=o,this.userService=a,this.previewImage=null,this.user=null,this.isEditable=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");this.user=this.userService.getCurrentUser(),e&&this.treeTypeService.getTreeTypeById(+e).subscribe({next:t=>{this.treeType=t,this.previewImage=t.picture||null,this.isEditable=this.user?.role===j.ADMIN},error:t=>{console.error("\u274C Error al cargar tipo de \xE1rbol",t),this.snackBar.open("Error al cargar el tipo de \xE1rbol","Cerrar",{duration:3e3})}})}goToEditForm(){console.log("this.treeType?.id",this.treeType?.id),this.treeType?.id&&this.router.navigate(["/admin/tree-type-form",this.treeType.id])}static{this.\u0275fac=function(t){return new(t||n)(h(Ve),h(H),h(Ri),h(st),h(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["app-tree-types-view"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","rounded-2xl shadow-md p-4 md:p-6 flex flex-col items-center text-center w-full max-w-full",4,"ngIf"],[1,"rounded-2xl","shadow-md","p-4","md:p-6","flex","flex-col","items-center","text-center","w-full","max-w-full"],["alt","\xC1rbol",1,"w-24","h-24","rounded-full","shadow-lg","mb-4","object-cover",3,"src"],[1,"text-xl","md:text-2xl","font-semibold"],[1,"text-gray-500","italic"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mt-6","text-left","w-full","max-w-md"],[1,"font-semibold","text-gray-700"],["class","flex gap-4 mt-6 justify-center",4,"ngIf"],[1,"flex","gap-4","mt-6","justify-center"],[1,"bg-green-600","text-white","py-3","px-6","rounded-xl","hover:bg-green-700","transition",3,"click"]],template:function(t,r){t&1&&y(0,nl,23,7,"mat-card",0),t&2&&f("ngIf",r.treeType)},dependencies:[B,Q,se,ge,te,ae]})}}return n})();var Mo=[{path:"login",component:ao},{path:"register",component:oo},{path:"verify-email",component:so},{path:"reset-password",component:lo},{path:"",component:io,canActivate:[_t],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:no},{path:"profile",component:gn},{path:"profile/:id",component:gn,canActivate:[_t]},{path:"profile/edit/:id",loadComponent:()=>import("./chunk-YDM6JEEC.js").then(n=>n.UserFormComponent),canActivate:[_t]},{path:"company",component:wn},{path:"company/:id",component:wn,canActivate:[_t]},{path:"tree-type/:id",component:To,canActivate:[_t]},{path:"company/form/:id",loadComponent:()=>import("./chunk-K4MXWHPY.js").then(n=>n.CompanyFormComponent),canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"settings",component:ro},{path:"admin",component:po,canActivate:[_t],children:[{path:"users",component:Co,canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"user-form",loadComponent:()=>import("./chunk-YDM6JEEC.js").then(n=>n.UserFormComponent),canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"user-form/:id",loadComponent:()=>import("./chunk-YDM6JEEC.js").then(n=>n.UserFormComponent),canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"companies",component:xo,canActivate:[ke],data:{roles:[j.ADMIN]}},{path:"company-form",loadComponent:()=>import("./chunk-K4MXWHPY.js").then(n=>n.CompanyFormComponent),canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"company-form/:id",loadComponent:()=>import("./chunk-K4MXWHPY.js").then(n=>n.CompanyFormComponent),canActivate:[ke],data:{roles:[j.ADMIN,j.COMPANY_ADMIN]}},{path:"tree-types",component:wo,canActivate:[ke],data:{roles:[j.ADMIN]}},{path:"tree-type-form",loadComponent:()=>import("./chunk-A3U3U5JT.js").then(n=>n.TreeTypesFormComponent),canActivate:[ke],data:{roles:[j.ADMIN]}},{path:"tree-type-form/:id",loadComponent:()=>import("./chunk-A3U3U5JT.js").then(n=>n.TreeTypesFormComponent),canActivate:[ke],data:{roles:[j.ADMIN]}}]}]},{path:"**",redirectTo:"login"}];function Io(n){return new U(3e3,!1)}function rl(){return new U(3100,!1)}function ol(){return new U(3101,!1)}function al(n){return new U(3001,!1)}function sl(n){return new U(3003,!1)}function ll(n){return new U(3004,!1)}function cl(n,i){return new U(3005,!1)}function dl(){return new U(3006,!1)}function ml(){return new U(3007,!1)}function pl(n,i){return new U(3008,!1)}function ul(n){return new U(3002,!1)}function fl(n,i,e,t,r){return new U(3010,!1)}function hl(){return new U(3011,!1)}function gl(){return new U(3012,!1)}function _l(){return new U(3200,!1)}function yl(){return new U(3202,!1)}function vl(){return new U(3013,!1)}function bl(n){return new U(3014,!1)}function Sl(n){return new U(3015,!1)}function El(n){return new U(3016,!1)}function Cl(n,i){return new U(3404,!1)}function xl(n){return new U(3502,!1)}function wl(n){return new U(3503,!1)}function Tl(){return new U(3300,!1)}function Ml(n){return new U(3504,!1)}function Il(n){return new U(3301,!1)}function Al(n,i){return new U(3302,!1)}function Dl(n){return new U(3303,!1)}function kl(n,i){return new U(3400,!1)}function Pl(n){return new U(3401,!1)}function Ol(n){return new U(3402,!1)}function Rl(n,i){return new U(3505,!1)}function dt(n){switch(n.length){case 0:return new Ut;case 1:return n[0];default:return new un(n)}}function zo(n,i,e=new Map,t=new Map){let r=[],o=[],a=-1,s=null;if(i.forEach(p=>{let u=p.get("offset"),v=u==a,g=v&&s||new Map;p.forEach((R,I)=>{let w=I,k=R;if(I!=="offset")switch(w=n.normalizePropertyName(w,r),k){case Di:k=e.get(I);break;case Ge:k=t.get(I);break;default:k=n.normalizeStyleValue(I,w,k,r);break}g.set(w,k)}),v||o.push(g),s=g,a=u}),r.length)throw xl(r);return o}function Qn(n,i,e,t){switch(i){case"start":n.onStart(()=>t(e&&Tn(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Tn(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Tn(e,"destroy",n)));break}}function Tn(n,i,e){let t=e.totalTime,r=!!e.disabled,o=Hn(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function Hn(n,i,e,t,r="",o=0,a){return{element:n,triggerName:i,fromState:e,toState:t,phaseName:r,totalTime:o,disabled:!!a}}function be(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Ao(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return[e,t]}var Nl=typeof document>"u"?null:document.documentElement;function Yn(n){let i=n.parentNode||n.host||null;return i===Nl?null:i}function Fl(n){return n.substring(1,6)=="ebkit"}var vt=null,Do=!1;function Ll(n){vt||(vt=Bl()||{},Do=vt.style?"WebkitAppearance"in vt.style:!1);let i=!0;return vt.style&&!Fl(n)&&(i=n in vt.style,!i&&Do&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vt.style)),i}function Bl(){return typeof document<"u"?document.body:null}function Go(n,i){for(;i;){if(i===n)return!0;i=Yn(i)}return!1}function qo(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var Xn=(()=>{class n{validateStyleProperty(e){return Ll(e)}containsElement(e,t){return Go(e,t)}getParentElement(e){return Yn(e)}query(e,t,r){return qo(e,t,r)}computeStyle(e,t,r){return r||""}animate(e,t,r,o,a,s=[],p){return new Ut(r,o)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})(),Et=class{static{this.NOOP=new Xn}},Ct=class{};var jl=1e3,$o="{{",Vl="}}",Ko="ng-enter",Pn="ng-leave",Ui="ng-trigger",Ki=".ng-trigger",ko="ng-animating",On=".ng-animating";function He(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Rn(parseFloat(i[1]),i[2])}function Rn(n,i){switch(i){case"s":return n*jl;default:return n}}function Wi(n,i,e){return n.hasOwnProperty("duration")?n:Ul(n,i,e)}function Ul(n,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof n=="string"){let s=n.match(t);if(s===null)return i.push(Io(n)),{duration:0,delay:0,easing:""};r=Rn(parseFloat(s[1]),s[2]);let p=s[3];p!=null&&(o=Rn(parseFloat(p),s[4]));let u=s[5];u&&(a=u)}else r=n;if(!e){let s=!1,p=i.length;r<0&&(i.push(rl()),s=!0),o<0&&(i.push(ol()),s=!0),s&&i.splice(p,0,Io(n))}return{duration:r,delay:o,easing:a}}function zl(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function qe(n,i,e){i.forEach((t,r)=>{let o=Zn(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=t})}function St(n,i){i.forEach((e,t)=>{let r=Zn(t);n.style[r]=""})}function oi(n){return Array.isArray(n)?n.length==1?n[0]:Br(n):n}function Gl(n,i,e){let t=i.params||{},r=Wo(n);r.length&&r.forEach(o=>{t.hasOwnProperty(o)||e.push(al(o))})}var Nn=new RegExp(`${$o}\\s*(.+?)\\s*${Vl}`,"g");function Wo(n){let i=[];if(typeof n=="string"){let e;for(;e=Nn.exec(n);)i.push(e[1]);Nn.lastIndex=0}return i}function si(n,i,e){let t=`${n}`,r=t.replace(Nn,(o,a)=>{let s=i[a];return s==null&&(e.push(sl(a)),s=""),s.toString()});return r==t?n:r}var ql=/-+([a-z0-9])/g;function Zn(n){return n.replace(ql,(...i)=>i[1].toUpperCase())}function $l(n,i){return n===0||i===0}function Kl(n,i,e){if(e.size&&i.length){let t=i[0],r=[];if(e.forEach((o,a)=>{t.has(a)||r.push(a),t.set(a,o)}),r.length)for(let o=1;o<i.length;o++){let a=i[o];r.forEach(s=>a.set(s,Jn(n,s)))}}return i}function ve(n,i,e){switch(i.type){case L.Trigger:return n.visitTrigger(i,e);case L.State:return n.visitState(i,e);case L.Transition:return n.visitTransition(i,e);case L.Sequence:return n.visitSequence(i,e);case L.Group:return n.visitGroup(i,e);case L.Animate:return n.visitAnimate(i,e);case L.Keyframes:return n.visitKeyframes(i,e);case L.Style:return n.visitStyle(i,e);case L.Reference:return n.visitReference(i,e);case L.AnimateChild:return n.visitAnimateChild(i,e);case L.AnimateRef:return n.visitAnimateRef(i,e);case L.Query:return n.visitQuery(i,e);case L.Stagger:return n.visitStagger(i,e);default:throw ll(i.type)}}function Jn(n,i){return window.getComputedStyle(n)[i]}var Wl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Qi=class extends Ct{normalizePropertyName(i,e){return Zn(i)}normalizeStyleValue(i,e,t,r){let o="",a=t.toString().trim();if(Wl.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(cl(i,t))}return a+o}};var Hi="*";function Ql(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>Hl(t,e,i)):e.push(n),e}function Hl(n,i,e){if(n[0]==":"){let p=Yl(n,e);if(typeof p=="function"){i.push(p);return}n=p}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(Sl(n)),i;let r=t[1],o=t[2],a=t[3];i.push(Po(r,a));let s=r==Hi&&a==Hi;o[0]=="<"&&!s&&i.push(Po(a,r))}function Yl(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(El(n)),"* => *"}}var zi=new Set(["true","1"]),Gi=new Set(["false","0"]);function Po(n,i){let e=zi.has(n)||Gi.has(n),t=zi.has(i)||Gi.has(i);return(r,o)=>{let a=n==Hi||n==r,s=i==Hi||i==o;return!a&&e&&typeof r=="boolean"&&(a=r?zi.has(n):Gi.has(n)),!s&&t&&typeof o=="boolean"&&(s=o?zi.has(i):Gi.has(i)),a&&s}}var Qo=":self",Xl=new RegExp(`s*${Qo}s*,?`,"g");function Ho(n,i,e,t){return new Fn(n).build(i,e,t)}var Oo="",Fn=class{constructor(i){this._driver=i}build(i,e,t){let r=new Ln(e);return this._resetContextStyleTimingState(r),ve(this,oi(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=Oo,i.collectedStyles=new Map,i.collectedStyles.set(Oo,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,r=e.depCount=0,o=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(dl()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==L.State){let p=s,u=p.name;u.toString().split(/\s*,\s*/).forEach(v=>{p.name=v,o.push(this.visitState(p,e))}),p.name=u}else if(s.type==L.Transition){let p=this.visitTransition(s,e);t+=p.queryCount,r+=p.depCount,a.push(p)}else e.errors.push(ml())}),{type:L.Trigger,name:i.name,states:o,transitions:a,queryCount:t,depCount:r,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(t.containsDynamicStyles){let o=new Set,a=r||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(p=>{Wo(p).forEach(u=>{a.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(pl(i.name,[...o.values()]))}return{type:L.State,name:i.name,style:t,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=ve(this,oi(i.animation),e),r=Ql(i.expr,e.errors);return{type:L.Transition,matchers:r,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:bt(i.options)}}visitSequence(i,e){return{type:L.Sequence,steps:i.steps.map(t=>ve(this,t,e)),options:bt(i.options)}}visitGroup(i,e){let t=e.currentTime,r=0,o=i.steps.map(a=>{e.currentTime=t;let s=ve(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:L.Group,steps:o,options:bt(i.options)}}visitAnimate(i,e){let t=tc(i.timings,e.errors);e.currentAnimateTimings=t;let r,o=i.styles?i.styles:pn({});if(o.type==L.Keyframes)r=this.visitKeyframes(o,e);else{let a=i.styles,s=!1;if(!a){s=!0;let u={};t.easing&&(u.easing=t.easing),a=pn(u)}e.currentTime+=t.duration+t.delay;let p=this.visitStyle(a,e);p.isEmptyStep=s,r=p}return e.currentAnimateTimings=null,{type:L.Animate,timings:t,style:r,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of r)typeof s=="string"?s===Ge?t.push(s):e.errors.push(ul(s)):t.push(new Map(Object.entries(s)));let o=!1,a=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let p of s.values())if(p.toString().indexOf($o)>=0){o=!0;break}}}),{type:L.Style,styles:t,easing:a,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,p)=>{let u=e.collectedStyles.get(e.currentQuerySelector),v=u.get(p),g=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(fl(p,v.startTime,v.endTime,o,r)),g=!1),o=v.startTime),g&&u.set(p,{startTime:o,endTime:r}),e.options&&Gl(s,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:L.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(hl()),t;let r=1,o=0,a=[],s=!1,p=!1,u=0,v=i.steps.map(X=>{let Z=this._makeStyleAst(X,e),le=Z.offset!=null?Z.offset:ec(Z.styles),ie=0;return le!=null&&(o++,ie=Z.offset=le),p=p||ie<0||ie>1,s=s||ie<u,u=ie,a.push(ie),Z});p&&e.errors.push(gl()),s&&e.errors.push(_l());let g=i.steps.length,R=0;o>0&&o<g?e.errors.push(yl()):o==0&&(R=r/(g-1));let I=g-1,w=e.currentTime,k=e.currentAnimateTimings,$=k.duration;return v.forEach((X,Z)=>{let le=R>0?Z==I?1:R*Z:a[Z],ie=le*$;e.currentTime=w+k.delay+ie,k.duration=ie,this._validateStyleAst(X,e),X.offset=le,t.styles.push(X)}),t}visitReference(i,e){return{type:L.Reference,animation:ve(this,oi(i.animation),e),options:bt(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:L.AnimateChild,options:bt(i.options)}}visitAnimateRef(i,e){return{type:L.AnimateRef,animation:this.visitReference(i.animation,e),options:bt(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,a]=Zl(i.selector);e.currentQuerySelector=t.length?t+" "+o:o,be(e.collectedStyles,e.currentQuerySelector,new Map);let s=ve(this,oi(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:L.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:bt(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(vl());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:Wi(i.timings,e.errors,!0);return{type:L.Stagger,animation:ve(this,oi(i.animation),e),timings:t,options:null}}};function Zl(n){let i=!!n.split(/\s*,\s*/).find(e=>e==Qo);return i&&(n=n.replace(Xl,"")),n=n.replace(/@\*/g,Ki).replace(/@\w+/g,e=>Ki+"-"+e.slice(1)).replace(/:animating/g,On),[n,i]}function Jl(n){return n?de({},n):null}var Ln=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function ec(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function tc(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Wi(n,i).duration;return Mn(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Mn(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Wi(e,i);return Mn(r.duration,r.delay,r.easing)}function bt(n){return n?(n=de({},n),n.params&&(n.params=Jl(n.params))):n={},n}function Mn(n,i,e){return{duration:n,delay:i,easing:e}}function er(n,i,e,t,r,o,a=null,s=!1){return{type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var li=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},ic=1,nc=":enter",rc=new RegExp(nc,"g"),oc=":leave",ac=new RegExp(oc,"g");function Yo(n,i,e,t,r,o=new Map,a=new Map,s,p,u=[]){return new Bn().buildKeyframes(n,i,e,t,r,o,a,s,p,u)}var Bn=class{buildKeyframes(i,e,t,r,o,a,s,p,u,v=[]){u=u||new li;let g=new jn(i,e,u,r,o,v,[]);g.options=p;let R=p.delay?He(p.delay):0;g.currentTimeline.delayNextStep(R),g.currentTimeline.setStyles([a],null,g.errors,p),ve(this,t,g);let I=g.timelines.filter(w=>w.containsAnimation());if(I.length&&s.size){let w;for(let k=I.length-1;k>=0;k--){let $=I[k];if($.element===e){w=$;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([s],null,g.errors,p)}return I.length?I.map(w=>w.buildKeyframes()):[er(e,[],[],[],0,R,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(t,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let r of i){let o=r?.delay;if(o){let a=typeof o=="number"?o:He(si(o,r?.params??{},e.errors));t.delayNextStep(a)}}}_visitSubInstructions(i,e,t){let o=e.currentTimeline.currentTime,a=t.duration!=null?He(t.duration):null,s=t.delay!=null?He(t.delay):null;return a!==0&&i.forEach(p=>{let u=e.appendInstructionToTimeline(p,a,s);o=Math.max(o,u.duration+u.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),ve(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==L.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Yi);let a=He(o.delay);r.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>ve(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>t&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?He(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);o&&s.delayNextStep(o),ve(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),t.push(s.currentTimeline)}),t.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,r=e.params?si(t,e.params,e.errors):t;return Wi(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),r.snapshotCurrentStyles());let o=i.style;o.type==L.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,r=e.currentAnimateTimings;!r&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(o):t.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,r=e.currentTimeline.duration,o=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(p=>{let u=p.offset||0;s.forwardTime(u*o),s.setStyles(p.styles,p.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?He(r.delay):0;o&&(e.previousNode.type===L.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Yi);let a=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let p=null;s.forEach((u,v)=>{e.currentQueryIndex=v;let g=e.createSubContext(i.options,u);o&&g.delayNextStep(o),u===e.element&&(p=g.currentTimeline),ve(this,i.animation,g),g.currentTimeline.applyStylesToKeyframe();let R=g.currentTimeline.currentTime;a=Math.max(a,R)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,r=e.currentTimeline,o=i.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),p=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=s-p;break;case"full":p=t.currentStaggerTime;break}let v=e.currentTimeline;p&&v.delayNextStep(p);let g=v.currentTime;ve(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=r.currentTime-g+(r.startTime-t.currentTimeline.startTime)}},Yi={},jn=class n{constructor(i,e,t,r,o,a,s,p){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Xi(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,r=this.options;t.duration!=null&&(r.duration=He(t.duration)),t.delay!=null&&(r.delay=He(t.delay));let o=t.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=si(o[s],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(r=>{t[r]=e[r]})}}return i}createSubContext(i=null,e,t){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=Yi,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},o=new Vn(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,r,o,a){let s=[];if(r&&s.push(this.element),i.length>0){i=i.replace(rc,"."+this._enterClassName),i=i.replace(ac,"."+this._leaveClassName);let p=t!=1,u=this._driver.query(this.element,i,p);t!==0&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),s.push(...u)}return!o&&s.length==0&&a.push(bl(e)),s}},Xi=class n{constructor(i,e,t,r){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ic,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Ge),this._currentKeyframe.set(e,Ge);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=sc(i,this._globalTimelineStyles);for(let[s,p]of a){let u=si(p,o,t);this._pendingStyles.set(s,u),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Ge),this._updateStyle(s,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let r=this._styleSummary.get(t);(!r||e.time>r.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,p)=>{let u=new Map([...this._backFill,...s]);u.forEach((v,g)=>{v===Di?i.add(g):v===Ge&&e.add(g)}),t||u.set("offset",p/this.duration),r.push(u)});let o=[...i.values()],a=[...e.values()];if(t){let s=r[0],p=new Map(s);s.set("offset",0),p.set("offset",1),r=[s,p]}return er(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},Vn=class extends Xi{constructor(i,e,t,r,o,a,s=!1){super(i,e,a.delay),this.keyframes=t,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=t+e,s=e/a,p=new Map(i[0]);p.set("offset",0),o.push(p);let u=new Map(i[0]);u.set("offset",Ro(s)),o.push(u);let v=i.length-1;for(let g=1;g<=v;g++){let R=new Map(i[g]),I=R.get("offset"),w=e+I*t;R.set("offset",Ro(w/a)),o.push(R)}t=a,e=0,r="",i=o}return er(this.element,i,this.preStyleProps,this.postStyleProps,t,e,r,!0)}};function Ro(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function sc(n,i){let e=new Map,t;return n.forEach(r=>{if(r==="*"){t??=i.keys();for(let o of t)e.set(o,Ge)}else for(let[o,a]of r)e.set(o,a)}),e}function No(n,i,e,t,r,o,a,s,p,u,v,g,R){return{type:0,element:n,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:t,toStyles:a,timelines:s,queriedElements:p,preStyleProps:u,postStyleProps:v,totalTime:g,errors:R}}var In={},Zi=class{constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,r){return lc(this.ast.matchers,i,e,t,r)}buildStyles(i,e,t){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,t):new Map}build(i,e,t,r,o,a,s,p,u,v){let g=[],R=this.ast.options&&this.ast.options.params||In,I=s&&s.params||In,w=this.buildStyles(t,I,g),k=p&&p.params||In,$=this.buildStyles(r,k,g),X=new Set,Z=new Map,le=new Map,ie=r==="void",xt={params:Xo(k,R),delay:this.ast.options?.delay},Oe=v?[]:Yo(i,e,this.ast.animation,o,a,w,$,xt,u,g),ce=0;return Oe.forEach(pe=>{ce=Math.max(pe.duration+pe.delay,ce)}),g.length?No(e,this._triggerName,t,r,ie,w,$,[],[],Z,le,ce,g):(Oe.forEach(pe=>{let mt=pe.element,wt=be(Z,mt,new Set);pe.preStyleProps.forEach(pt=>wt.add(pt));let tr=be(le,mt,new Set);pe.postStyleProps.forEach(pt=>tr.add(pt)),mt!==e&&X.add(mt)}),No(e,this._triggerName,t,r,ie,w,$,Oe,[...X.values()],Z,le,ce))}};function lc(n,i,e,t,r){return n.some(o=>o(i,e,t,r))}function Xo(n,i){let e=de({},i);return Object.entries(n).forEach(([t,r])=>{r!=null&&(e[t]=r)}),e}var Un=class{constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,r=Xo(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=si(a,r,e));let p=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,p,a,e),t.set(s,a)})}),t}};function cc(n,i,e){return new zn(n,i,e)}var zn=class{constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Un(r.style,o,t))}),Fo(this.states,"true","1"),Fo(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Zi(i,r,this.states))}),this.fallbackTransition=dc(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,r){return this.transitionFactories.find(a=>a.match(i,e,t,r))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function dc(n,i,e){let t=[(a,s)=>!0],r={type:L.Sequence,steps:[],options:null},o={type:L.Transition,animation:r,matchers:t,options:null,queryCount:0,depCount:0};return new Zi(n,o,i)}function Fo(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e))}var mc=new li,Gn=class{constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){let t=[],r=[],o=Ho(this._driver,e,t,r);if(t.length)throw wl(t);r.length&&void 0,this._animations.set(i,o)}_buildPlayer(i,e,t){let r=i.element,o=zo(this._normalizer,i.keyframes,e,t);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let r=[],o=this._animations.get(i),a,s=new Map;if(o?(a=Yo(this._driver,e,o,Ko,Pn,new Map,new Map,t,mc,r),a.forEach(v=>{let g=be(s,v.element,new Map);v.postStyleProps.forEach(R=>g.set(R,null))})):(r.push(Tl()),a=[]),r.length)throw Ml(r);s.forEach((v,g)=>{v.forEach((R,I)=>{v.set(I,this._driver.computeStyle(g,I,Ge))})});let p=a.map(v=>{let g=s.get(v.element);return this._buildPlayer(v,new Map,g)}),u=dt(p);return this._playersById.set(i,u),u.onDestroy(()=>this.destroy(i)),this.players.push(u),u}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw Il(i);return e}listen(i,e,t,r){let o=Hn(e,"","","");return Qn(this._getPlayer(i),t,o,r),()=>{}}command(i,e,t,r){if(t=="register"){this.register(i,r[0]);return}if(t=="create"){let a=r[0]||{};this.create(i,e,a);return}let o=this._getPlayer(i);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},Lo="ng-animate-queued",pc=".ng-animate-queued",An="ng-animate-disabled",uc=".ng-animate-disabled",fc="ng-star-inserted",hc=".ng-star-inserted",gc=[],Zo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_c={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pe="__ng_removed",ci=class{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),r=t?i.value:i;if(this.value=vc(r),t){let o=i,{value:a}=o,s=or(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(r=>{t[r]==null&&(t[r]=e[r])})}}},ai="void",Dn=new ci(ai),qn=class{constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Te(e,this._hostClassName)}listen(i,e,t,r){if(!this._triggers.has(e))throw Al(t,e);if(t==null||t.length==0)throw Dl(e);if(!bc(t))throw kl(t,e);let o=be(this._elementListeners,i,[]),a={name:e,phase:t,callback:r};o.push(a);let s=be(this._engine.statesByElement,i,new Map);return s.has(e)||(Te(i,Ui),Te(i,Ui+"-"+e),s.set(e,Dn)),()=>{this._engine.afterFlush(()=>{let p=o.indexOf(a);p>=0&&o.splice(p,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw Pl(i);return e}trigger(i,e,t,r=!0){let o=this._getTrigger(e),a=new di(this.id,e,i),s=this._engine.statesByElement.get(i);s||(Te(i,Ui),Te(i,Ui+"-"+e),this._engine.statesByElement.set(i,s=new Map));let p=s.get(e),u=new ci(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&p&&u.absorbOptions(p.options),s.set(e,u),p||(p=Dn),!(u.value===ai)&&p.value===u.value){if(!Cc(p.params,u.params)){let k=[],$=o.matchStyles(p.value,p.params,k),X=o.matchStyles(u.value,u.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{St(i,$),qe(i,X)})}return}let R=be(this._engine.playersByElement,i,[]);R.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let I=o.matchTransition(p.value,u.value,i,u.params),w=!1;if(!I){if(!r)return;I=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:I,fromState:p,toState:u,player:a,isFallbackTransition:w}),w||(Te(i,Lo),a.onStart(()=>{Qt(i,Lo)})),a.onDone(()=>{let k=this.players.indexOf(a);k>=0&&this.players.splice(k,1);let $=this._engine.playersByElement.get(i);if($){let X=$.indexOf(a);X>=0&&$.splice(X,1)}}),this.players.push(a),R.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,Ki,!0);t.forEach(r=>{if(r[Pe])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,t,r){let o=this._engine.statesByElement.get(i),a=new Map;if(o){let s=[];if(o.forEach((p,u)=>{if(a.set(u,p.value),this._triggers.has(u)){let v=this.trigger(i,u,ai,r);v&&s.push(v)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),t&&dt(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let p=this._triggers.get(a).fallbackTransition,u=t.get(a)||Dn,v=new ci(ai),g=new di(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:p,fromState:u,toState:v,player:g,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let a=i;for(;a=a.parentNode;)if(t.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)t.markElementAsRemoved(this.id,i,!1,e);else{let o=i[Pe];(!o||o===Zo)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Te(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let r=t.player;if(r.destroyed)return;let o=t.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==t.triggerName){let p=Hn(o,t.triggerName,t.fromState.value,t.toState.value);p._data=i,Qn(t.player,s.phase,p,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(t)}),this._queue=[],e.sort((t,r)=>{let o=t.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(t.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},$n=class{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new qn(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,r=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let p=r.get(s);if(p){let u=t.indexOf(p);t.splice(u+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||t.unshift(i)}else t.push(i);return r.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let r=this._namespaceLookup[i];r&&r.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let r=this._namespaceList.indexOf(t);r>=0&&this._namespaceList.splice(r,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let r of t.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,t,r){if(qi(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,t,r),!0}return!1}insertNode(i,e,t,r){if(!qi(e))return;let o=e[Pe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,t)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Te(i,An)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Qt(i,An))}removeNode(i,e,t){if(qi(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,r,o){this.collectedLeaveElements.push(e),e[Pe]={namespaceId:i,setForRemoval:r,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,t,r,o){return qi(e)?this._fetchNamespace(i).listen(e,t,r,o):()=>{}}_buildInstruction(i,e,t,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,Ki,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,On,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return dt(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Pe];if(e&&e.setForRemoval){if(i[Pe]=Zo,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(An)&&this.markElementAsDisabled(i,!1),this.driver.query(i,uc,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,r)=>this._balanceNamespaceList(t,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let r=this.collectedEnterElements[t];Te(r,fc)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let r=0;r<t.length;r++)t[r]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let r=this.collectedLeaveElements[t];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?dt(e).onDone(()=>{t.forEach(r=>r())}):t.forEach(r=>r())}}reportError(i){throw Ol(i)}_flushAnimations(i,e){let t=new li,r=[],o=new Map,a=[],s=new Map,p=new Map,u=new Map,v=new Set;this.disabledNodes.forEach(E=>{v.add(E);let T=this.driver.query(E,pc,!0);for(let M=0;M<T.length;M++)v.add(T[M])});let g=this.bodyNode,R=Array.from(this.statesByElement.keys()),I=Vo(R,this.collectedEnterElements),w=new Map,k=0;I.forEach((E,T)=>{let M=Ko+k++;w.set(T,M),E.forEach(V=>Te(V,M))});let $=[],X=new Set,Z=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){let T=this.collectedLeaveElements[E],M=T[Pe];M&&M.setForRemoval&&($.push(T),X.add(T),M.hasAnimation?this.driver.query(T,hc,!0).forEach(V=>X.add(V)):Z.add(T))}let le=new Map,ie=Vo(R,Array.from(X));ie.forEach((E,T)=>{let M=Pn+k++;le.set(T,M),E.forEach(V=>Te(V,M))}),i.push(()=>{I.forEach((E,T)=>{let M=w.get(T);E.forEach(V=>Qt(V,M))}),ie.forEach((E,T)=>{let M=le.get(T);E.forEach(V=>Qt(V,M))}),$.forEach(E=>{this.processLeaveNode(E)})});let xt=[],Oe=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(M=>{let V=M.player,J=M.element;if(xt.push(V),this.collectedEnterElements.length){let re=J[Pe];if(re&&re.setForMove){if(re.previousTriggersValues&&re.previousTriggersValues.has(M.triggerName)){let ut=re.previousTriggersValues.get(M.triggerName),Se=this.statesByElement.get(M.element);if(Se&&Se.has(M.triggerName)){let mi=Se.get(M.triggerName);mi.value=ut,Se.set(M.triggerName,mi)}}V.destroy();return}}let Re=!g||!this.driver.containsElement(g,J),ye=le.get(J),Ye=w.get(J),W=this._buildInstruction(M,t,Ye,ye,Re);if(W.errors&&W.errors.length){Oe.push(W);return}if(Re){V.onStart(()=>St(J,W.fromStyles)),V.onDestroy(()=>qe(J,W.toStyles)),r.push(V);return}if(M.isFallbackTransition){V.onStart(()=>St(J,W.fromStyles)),V.onDestroy(()=>qe(J,W.toStyles)),r.push(V);return}let rr=[];W.timelines.forEach(re=>{re.stretchStartingKeyframe=!0,this.disabledNodes.has(re.element)||rr.push(re)}),W.timelines=rr,t.append(J,W.timelines);let oa={instruction:W,player:V,element:J};a.push(oa),W.queriedElements.forEach(re=>be(s,re,[]).push(V)),W.preStyleProps.forEach((re,ut)=>{if(re.size){let Se=p.get(ut);Se||p.set(ut,Se=new Set),re.forEach((mi,on)=>Se.add(on))}}),W.postStyleProps.forEach((re,ut)=>{let Se=u.get(ut);Se||u.set(ut,Se=new Set),re.forEach((mi,on)=>Se.add(on))})});if(Oe.length){let E=[];Oe.forEach(T=>{E.push(Rl(T.triggerName,T.errors))}),xt.forEach(T=>T.destroy()),this.reportError(E)}let ce=new Map,pe=new Map;a.forEach(E=>{let T=E.element;t.has(T)&&(pe.set(T,T),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,ce))}),r.forEach(E=>{let T=E.element;this._getPreviousPlayers(T,!1,E.namespaceId,E.triggerName,null).forEach(V=>{be(ce,T,[]).push(V),V.destroy()})});let mt=$.filter(E=>Uo(E,p,u)),wt=new Map;jo(wt,this.driver,Z,u,Ge).forEach(E=>{Uo(E,p,u)&&mt.push(E)});let pt=new Map;I.forEach((E,T)=>{jo(pt,this.driver,new Set(E),p,Di)}),mt.forEach(E=>{let T=wt.get(E),M=pt.get(E);wt.set(E,new Map([...T?.entries()??[],...M?.entries()??[]]))});let rn=[],ir=[],nr={};a.forEach(E=>{let{element:T,player:M,instruction:V}=E;if(t.has(T)){if(v.has(T)){M.onDestroy(()=>qe(T,V.toStyles)),M.disabled=!0,M.overrideTotalTime(V.totalTime),r.push(M);return}let J=nr;if(pe.size>1){let ye=T,Ye=[];for(;ye=ye.parentNode;){let W=pe.get(ye);if(W){J=W;break}Ye.push(ye)}Ye.forEach(W=>pe.set(W,J))}let Re=this._buildAnimation(M.namespaceId,V,ce,o,pt,wt);if(M.setRealPlayer(Re),J===nr)rn.push(M);else{let ye=this.playersByElement.get(J);ye&&ye.length&&(M.parentPlayer=dt(ye)),r.push(M)}}else St(T,V.fromStyles),M.onDestroy(()=>qe(T,V.toStyles)),ir.push(M),v.has(T)&&r.push(M)}),ir.forEach(E=>{let T=o.get(E.element);if(T&&T.length){let M=dt(T);E.setRealPlayer(M)}}),r.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<$.length;E++){let T=$[E],M=T[Pe];if(Qt(T,Pn),M&&M.hasAnimation)continue;let V=[];if(s.size){let Re=s.get(T);Re&&Re.length&&V.push(...Re);let ye=this.driver.query(T,On,!0);for(let Ye=0;Ye<ye.length;Ye++){let W=s.get(ye[Ye]);W&&W.length&&V.push(...W)}}let J=V.filter(Re=>!Re.destroyed);J.length?Sc(this,T,J):this.processLeaveNode(T)}return $.length=0,rn.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let T=this.players.indexOf(E);this.players.splice(T,1)}),E.play()}),rn}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s)}else{let s=this.playersByElement.get(i);if(s){let p=!o||o==ai;s.forEach(u=>{u.queued||!p&&u.triggerName!=r||a.push(u)})}}return(t||r)&&(a=a.filter(s=>!(t&&t!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(i,e,t){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:r;for(let p of e.timelines){let u=p.element,v=u!==o,g=be(t,u,[]);this._getPreviousPlayers(u,v,a,s,e.toState).forEach(I=>{let w=I.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),I.destroy(),g.push(I)})}St(o,e.fromStyles)}_buildAnimation(i,e,t,r,o,a){let s=e.triggerName,p=e.element,u=[],v=new Set,g=new Set,R=e.timelines.map(w=>{let k=w.element;v.add(k);let $=k[Pe];if($&&$.removedBeforeQueried)return new Ut(w.duration,w.delay);let X=k!==p,Z=Ec((t.get(k)||gc).map(ce=>ce.getRealPlayer())).filter(ce=>{let pe=ce;return pe.element?pe.element===k:!1}),le=o.get(k),ie=a.get(k),xt=zo(this._normalizer,w.keyframes,le,ie),Oe=this._buildPlayer(w,xt,Z);if(w.subTimeline&&r&&g.add(k),X){let ce=new di(i,s,k);ce.setRealPlayer(Oe),u.push(ce)}return Oe});u.forEach(w=>{be(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>yc(this.playersByQueriedElement,w.element,w))}),v.forEach(w=>Te(w,ko));let I=dt(R);return I.onDestroy(()=>{v.forEach(w=>Qt(w,ko)),qe(p,e.toStyles)}),g.forEach(w=>{be(r,w,[]).push(I)}),I}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new Ut(i.duration,i.delay)}},di=class{constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t,this._player=new Ut,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(r=>Qn(i,t,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){be(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function yc(n,i,e){let t=n.get(i);if(t){if(t.length){let r=t.indexOf(e);t.splice(r,1)}t.length==0&&n.delete(i)}return t}function vc(n){return n??null}function qi(n){return n&&n.nodeType===1}function bc(n){return n=="start"||n=="done"}function Bo(n,i){let e=n.style.display;return n.style.display=i??"none",e}function jo(n,i,e,t,r){let o=[];e.forEach(p=>o.push(Bo(p)));let a=[];t.forEach((p,u)=>{let v=new Map;p.forEach(g=>{let R=i.computeStyle(u,g,r);v.set(g,R),(!R||R.length==0)&&(u[Pe]=_c,a.push(u))}),n.set(u,v)});let s=0;return e.forEach(p=>Bo(p,o[s++])),a}function Vo(n,i){let e=new Map;if(n.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,r=new Set(i),o=new Map;function a(s){if(!s)return t;let p=o.get(s);if(p)return p;let u=s.parentNode;return e.has(u)?p=u:r.has(u)?p=t:p=a(u),o.set(s,p),p}return i.forEach(s=>{let p=a(s);p!==t&&e.get(p).push(s)}),e}function Te(n,i){n.classList?.add(i)}function Qt(n,i){n.classList?.remove(i)}function Sc(n,i,e){dt(e).onDone(()=>n.processLeaveNode(i))}function Ec(n){let i=[];return Jo(n,i),i}function Jo(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof un?Jo(t.players,i):i.push(t)}}function Cc(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||n[o]!==i[o])return!1}return!0}function Uo(n,i,e){let t=e.get(n);if(!t)return!1;let r=i.get(n);return r?t.forEach(o=>r.add(o)):i.set(n,t),e.delete(n),!0}var Ht=class{constructor(i,e,t){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $n(i.body,e,t),this._timelineEngine=new Gn(i.body,e,t),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,t,r,o){let a=i+"-"+r,s=this._triggerCache[a];if(!s){let p=[],u=[],v=Ho(this._driver,o,p,u);if(p.length)throw Cl(r,p);u.length&&void 0,s=cc(r,v,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,r){this._transitionEngine.insertNode(i,e,t,r)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,r){if(t.charAt(0)=="@"){let[o,a]=Ao(t),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(i,e,t,r)}listen(i,e,t,r,o){if(t.charAt(0)=="@"){let[a,s]=Ao(t);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(i,e,t,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function xc(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=kn(i[0]),i.length>1&&(t=kn(i[i.length-1]))):i instanceof Map&&(e=kn(i)),e||t?new Kn(n,e,t):null}var Kn=class n{static{this.initialStylesByElement=new WeakMap}constructor(i,e,t){this._element=i,this._startStyles=e,this._endStyles=t,this._state=0;let r=n.initialStylesByElement.get(i);r||n.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qe(this._element,this._initialStyles),this._endStyles&&(qe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(St(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),qe(this._element,this._initialStyles),this._state=3)}};function kn(n){let i=null;return n.forEach((e,t)=>{wc(t)&&(i=i||new Map,i.set(t,e))}),i}function wc(n){return n==="display"||n==="position"}var Ji=class{constructor(i,e,t,r){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,r)=>{r!=="offset"&&i.set(r,this._finished?t:Jn(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},en=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Go(i,e)}getParentElement(i){return Yn(i)}query(i,e,t){return qo(i,e,t)}computeStyle(i,e,t){return Jn(i,e)}animate(i,e,t,r,o,a=[]){let s=r==0?"both":"forwards",p={duration:t,delay:r,fill:s};o&&(p.easing=o);let u=new Map,v=a.filter(I=>I instanceof Ji);$l(t,r)&&v.forEach(I=>{I.currentSnapshot.forEach((w,k)=>u.set(k,w))});let g=zl(e).map(I=>new Map(I));g=Kl(i,g,u);let R=xc(i,g);return new Ji(i,g,p,R)}};var $i="@",ea="@.disabled",tn=class{constructor(i,e,t,r){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,r=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,r){this.delegate.setAttribute(i,e,t,r)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,r){this.delegate.setStyle(i,e,t,r)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==$i&&e==ea?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.delegate.listen(i,e,t)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Wn=class extends tn{constructor(i,e,t,r,o){super(e,t,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==$i?e.charAt(1)=="."&&e==ea?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t){if(e.charAt(0)==$i){let r=Tc(i),o=e.slice(1),a="";return o.charAt(0)!=$i&&([o,a]=Mc(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{let p=s._data||-1;this.factory.scheduleListenerCallback(p,t,s)})}return this.delegate.listen(i,e,t)}};function Tc(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Mc(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return[e,t]}var nn=class{constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(i,e){let t="",r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let u=this._rendererCache,v=u.get(r);if(!v){let g=()=>u.delete(r);v=new tn(t,r,this.engine,g),u.set(r,v)}return v}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=u=>{Array.isArray(u)?u.forEach(s):this.engine.registerTrigger(o,a,i,u.name,u)};return e.data.animation.forEach(s),new Wn(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Ac=(()=>{class n extends Ht{constructor(e,t,r){super(e,t,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||n)(q(tt),q(Et),q(Ct))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function Dc(){return new Qi}function kc(n,i,e){return new nn(n,i,e)}var ia=[{provide:Ct,useFactory:Dc},{provide:Ht,useClass:Ac},{provide:ur,useFactory:kc,deps:[Mr,Ht,Mt]}],ta=[{provide:Et,useFactory:()=>new en},{provide:Ze,useValue:"BrowserAnimations"},...ia],Pc=[{provide:Et,useClass:Xn},{provide:Ze,useValue:"NoopAnimations"},...ia],na=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Pc:ta}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Le({type:n})}static{this.\u0275inj=Ne({providers:ta,imports:[Ar]})}}return n})();var ra=(n,i)=>{let e=Me(Fi);return e.show(),i(n).pipe(fi(()=>e.hide()))};function Oc(n){return new Li(n,"/assets/i18n/",".json")}var Rc=(n,i)=>{let e=Me(oe),t=localStorage.getItem("forestPlus_token"),r=t?n.clone({setHeaders:{Authorization:`Bearer ${t}`}}):n;return i(r).pipe(an(o=>o.status===401||o.status===403?localStorage.getItem("forestPlus_refresh_token")?e.refreshToken().pipe(dr(s=>{if(s.token&&s.refreshToken)localStorage.setItem("forestPlus_token",s.token),localStorage.setItem("forestPlus_refresh_token",s.refreshToken);else return e.logout(),Yt(()=>new Error("Refresh token inv\xE1lido"));let p=n.clone({setHeaders:{Authorization:`Bearer ${s.token}`}});return i(p)}),an(s=>(e.logout(),Yt(()=>s)))):(e.logout(),Yt(()=>o)):Yt(()=>o)))};Ir(Jr,{providers:[Fr(Jt.apiBaseUrl),kr(Mo,Pr()),mr(na,K.forRoot({loader:{provide:Or,useFactory:Oc,deps:[xr]}})),wr(Tr([ra,Rc]))]}).catch(n=>console.error(n));export{Oc as HttpLoaderFactory,Rc as authInterceptor};
